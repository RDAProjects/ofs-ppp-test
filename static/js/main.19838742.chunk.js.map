{"version":3,"sources":["util/pppUtils.ts","serviceWorker.ts","services/SPContext.ts","services/AppService.ts","util/BaristaService.ts","ppp/PersonalizationStore.ts","AppContext.ts","ppp/MonitoringAndReviewStatus.ts","components/controls/Footer.tsx","components/dialogs/styles.ts","components/dialogs/UnsignProcessDialog.tsx","components/dialogs/RejectProcessDialog.tsx","components/controls/AttachmentsDisplay.tsx","components/ProcessDetail/ProcessHeader.tsx","components/ProcessDetail/ResponsiblePartyArea.tsx","components/ProcessDetail/ActivityActionsArea.tsx","components/ProcessDetail/ActivityAttachmentsArea.tsx","components/controls/RichEditorEditor.tsx","components/ProcessDetail/ActivityCommentsArea.tsx","components/ProcessDetail/styles.ts","components/dialogs/ConfirmationDialog.tsx","components/ProcessDetail/ActivityNotRequiredComment.tsx","components/ProcessDetail/ActivityCard.tsx","components/ProcessDetail/ProcessStatusCard.tsx","components/ProcessDetail/ConfirmDeleteAttachmentDialog.tsx","components/dialogs/DeleteProcessDialog.tsx","util/delay.ts","services/ProcessExporter.tsx","components/dialogs/ExportProcessDialog.tsx","components/controls/DisplayEditableField.tsx","components/ProcessDetail/MonitoringAndReview/Question.tsx","components/controls/AttachmentArea.tsx","components/ProcessDetail/MonitoringAndReview/NotedExceptionDialog.tsx","components/ProcessDetail/MonitoringAndReview/NotedExceptionDisplay.tsx","components/ProcessDetail/MonitoringAndReview/MonitoringAndReview.tsx","components/dialogs/MoveProcessToAnotherFiscalYearDialog.tsx","components/ProcessDetail/ProcessDetail.tsx","components/ProcessDetail/index.tsx","components/controls/process-header.tsx","components/dialogs/ActivityTemplateDialog.tsx","components/controls/ActivityTemplateListItem.tsx","components/controls/ActivitiesList.tsx","components/dialogs/DeleteActivityTemplateDialog.tsx","components/ProcessTemplates/process-template-editor.tsx","components/controls/AppBarProfile.tsx","theme.tsx","components/controls/Notifications.tsx","components/ProcessTable/processTableHeaderColumns.ts","components/ProcessTable/ProcessTableHead.tsx","components/dialogs/SaveCustomFilterDialog.tsx","components/ProcessTable/ProcessFilters.tsx","components/ProcessTable/ProcessTable.tsx","components/ProcessTable/index.tsx","components/ProcessTable/styles.ts","components/dialogs/InitiateProcessDialog.tsx","components/ProcessTemplateTree/style.ts","components/ProcessTemplateTree/ProcessTemplateNode.tsx","components/ProcessTemplateTree/ProcessTemplateContainerNode.tsx","components/ProcessTemplateTree/ProcessTemplateMenu.tsx","components/dialogs/CopyProcessTemplateDialog.tsx","components/dialogs/MoveProcessTemplateDialog.tsx","components/dialogs/DeleteProcessTemplateDialog.tsx","components/ProcessTemplateTree/ProcessTemplateContainerMenu.tsx","components/dialogs/CreateProcessTemplateDialog.tsx","components/dialogs/DeleteProcessTemplateContainerDialog.tsx","components/dialogs/CreateProcessTemplateContainerDialog.tsx","components/dialogs/ProcessTemplateVersionHistoryDialog.tsx","services/TemplateExporter.tsx","components/ProcessTemplateTree/ProcessTemplateTree.tsx","components/ProcessTemplateTree/index.tsx","components/ProcessTemplates/ProcessTemplateList.tsx","components/Main.tsx","App.tsx","index.tsx","ppp/index.ts","ppp/ProcessTemplateStore.ts","ppp/ProcessTemplate.ts","ppp/FieldType.ts","ppp/ProcessStatus.ts","ppp/ActivityStatus.ts","ppp/ProcessTemplateContainerStore.ts","ppp/ProcessLogStore.ts","ppp/ProcessStore.ts","ppp/ReportingStore.ts","bpm_1.png"],"names":["getFiscalYear","date","Date","addYear","getMonth","getFullYear","toString","substring","__webpack_require__","d","__webpack_exports__","Boolean","window","location","hostname","match","SPRestContext","Object","classCallCheck","this","reportingList","undefined","reportingListName","reportingListViewName","createClass","key","value","_getRootWebTitle","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","stop","apply","arguments","_getCurrentUser","_callee2","_context2","currentUser","sp","web","get","sent","_getContextInfo","_callee3","ctx","_context3","site","getContextInfo","_getSharePointOrigin","_callee4","origin","_context4","WebFullUrl","Title","_this","found","forEach","getTitle","toUpperCase","_this2","_buildReportingItemList","_callee5","_context5","getReportingList","createReportingSPList","_getReportingList","_callee6","returnValue","_context6","lists","getByTitle","t0","_createReportingSPList","_callee7","columns","ls","i","v","_context7","name","type","kind","ensure","created","length","list","fields","add","FieldTypeKind","Filterable","Hidden","EnforceUniqueValues","views","ViewQuery","view","response","concat","AppRestService","webFullUrl","href","_webFullUrl","_getBaristaUrl","scriptOrFilePath","encodeURIComponent","_x","_getTheAnswerToLifeTheUniverseAndEverything","url","result","getBaristaUrl","axios","data","BaristaService","relativePath","_isProd","process","endsWith","_relativePath","_axios","create","baseURL","config","objectSpread","method","params","c","getRelativeScriptUrl","t","getTime","request","fileName","file","queryString","form","FormData","append","fetch","headers","Content-Type","body","X-HTTP-Method","PersonalizationStore","_class","baristaService","storage","_userConfig","initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_baristaService","_storage","_loadViews","userName","_ref","_ref2","local","global","areFiltersLoaded","Promise","all","getPersonalFilters","getGlobalFilters","slicedToArray","filterViews","toConsumableArray","_configureFilters","fiscalYears","filterConfig","categories","filters","isConfiguredFiltersLoaded","availableResponsibleParties","arp","push","text","category","label","DateRange","LessThan","fy","toDateString","toLocaleDateString","_x2","_configureDataSpecificFilters","processes","tempFunctionalAreas","functionalAreas","tempProcessInitiators","initiators","map","e","functionArea","indexOf","initiatedBy","z","filter","j","displayName","splice","item","fa","_x3","_saveFilter","filterSet","post","status","_x4","_x5","_getFilterById","filterId","_x6","_saveNotificationsToken","setItem","JSON","stringify","_getUserConfig","userConfig","getItem","parse","_deleteFilterById","_callee8","_context8","delete","loadViews","_x7","_saveIncludeOwn","_callee9","_context9","_x8","today","august","december","october","resturnSet","yearToAdd","id","getDefaultFilterSet","_getPersonalFilters","_callee10","localFilterViewsLocal","_context10","pf","_x9","selectedViewFilter","getDefaultFilter","_getGlobalFilters","_callee11","_context11","applyDecoratedDescriptor","prototype","observable","configurable","enumerable","writable","initializer","webRelativeUrl","setup","baseUrl","Accept","MonitoringAndReviewStatus","spContext","processTemplateStore","ProcessTemplateStore","personalizationStore","sessionStorage","defaultAppStore","appService","processStore","ProcessStore","processTemplateContainerStore","ProcessTemplateContainerStore","processLogStore","ProcessLogStore","reportingStore","ReportingStore","AppContext","React","createContext","Footer","props","possibleConstructorReturn","getPrototypeOf","call","_isMounted","state","releaseName","setState","classes","react_default","createElement","className","footer","layout","Grid","container","spacing","justify","Typography","variant","Component","withStyles","theme","createStyles","marginTop","borderTop","palette","divider","padding","defineProperty","width","marginLeft","marginRight","breakpoints","up","styles","facebook2","color","animationDuration","root","flexGrow","paper","textAlign","secondary","textField","versionMenuItem","UnsignProcessDialog","reason","handleUnsign","onClose","event","target","_this$props","isUnsigning","Dialog","open","handleOnClose","aria-labelledby","fullWidth","maxWidth","DialogTitle","DialogContent","TextField","required","onChange","handleChange","DialogActions","style","margin","CircularProgress","disableShrink","size","thickness","Fragment","Button","onClick","handleClick","disabled","contextType","autobind","RejectProcessDialog","handleReject","templateId","template","procInstanceId","procInstanceName","isRejectinging","handlePTClick","AttachmentsDisplay","attachment","serverRelativeUrl","attachments","labelText","xs","backgroundColor","Card","display","boxShadow","borderColor","grey","borderWidth","borderStyle","CardHeader","title","paddingRight","titleTypographyProps","CardContent","orderBy","Chip","attachmentChipLabel","deleteIcon","attachmentChipDeleteIcon","attachmentChip","avatar","Avatar","attachmentAvatar","src","fileIconUrl","handleAttachmentClicked","height","paddingLeft","ProcessHeader","fiscalYear","Paper","startCase","moment","initiatedOn","format","monitoringAndReview","replace","NotStarted","transactionDate","version","jobAidAttachments","controls_AttachmentsDisplay","ResponsiblePartyArea","onResponsiblePartyChange","components","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","rp","err","return","allowActions","isUpdatingResponsibleParty","responsibleParty","progressSpinner","Select","native","responsiblePartyTextField","handleResponsiblePartyChange","renderResponsibleParties","PureComponent","ActivityActionsArea","notRequiredDialogOpen","context","getCurrentUser","user","activity","completedBy","canCompleteActivity","isPerformingAction","_this$props2","onMarkAsComplete","onMarkAsIncomplete","onMarkAsNotRequired","onMarkAsReviewed","ActivityStatus","Incomplete","CompleteRequiresReview","getCompletedBy","Tooltip","Complete","NotRequired","ActivityAttachmentsArea","acceptedFiles","onAttachmentUpload","isFileNameInvalid","alert","originalFileName","invalidFileExt","test","inValidChars","onAttachmentClicked","stopPropagation","onAttachmentDelete","isDragActive","isUploadingAttachment","es","onDrop","handleAttachmentDrop","multiple","getRootProps","getInputProps","getAttachmentAreaStyle","CloudUpload_default","cursor","uploadIcon","onDelete","handleAttachmentDelete","RichEditorEditor","decorator","CompositeDecorator","strategy","findLinkEntities","component","Link","editorState","EditorState","createWithContent","stateFromHTML","rawText","showURLInput","urlValue","anchorEl","debouncedEditorChange","debounce","performEditorChange","waitForDebounce","contentState","getCurrentContent","stateToHTML","html","_editor","focus","onChanging","command","newState","RichUtils","handleKeyCommand","console","log","keyCode","newEditorState","onTab","getDefaultKeyBinding","blockType","toggleBlockType","inlineStyle","_this3","toggleInlineStyle","currentTarget","handleAddLink","block","getType","getSelection","isCollapsed","_this4","_this5","preventDefault","_this$state","entityKey","Entity","toggleLink","getEntity","getData","children","contentBlock","callback","findEntityRanges","character","which","confirmLink","_this6","hasText","getBlockMap","first","Popover","anchorOrigin","vertical","horizontal","transformOrigin","hyperlinkPopover","alignContent","autoFocus","onURLChange","placeholder","onKeyDown","onLinkInputKeyDown","closeLink","RichEditorEditor_BlockStyleControls","onToggle","RichEditorEditor_InlineStyleControls","onAddLink","lib_Draft","readOnly","ref","editor","blockStyleFn","getBlockStyle","customStyleMap","styleMap","onBlur","handleBlur","onFocus","handleFocus","keyBindingFn","mapKeyToEditorCommand","spellCheck","CODE","fontFamily","fontSize","StyleButton","active","onMouseDown","BLOCK_TYPES","BlockStyleControls","selection","getBlockForKey","getStartKey","RichEditorEditor_StyleButton","INLINE_STYLES","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","ActivityCommentsArea","expanded","onCommentsChange","isUpdatingComments","comments","parentOverlay","overlay","controls_RichEditorEditor","handleCommentsChange","border","minHeight","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","ActivityNotRequiredInfoSet","notRequiredSet","marginBottom","byUser","onDate","elem","ii","progress","processIcon","toolbarTitle","activityDescriptionColumn","flexBasis","activityAttachmentsColumn","borderLeft","activityCardHeading","activityCommentsTextField","cardSummaryExpanded","borderRadius","activityCommentsInput","responsiblePartyMenuItem","highlight","primary","main","helpIcon","position","bottom","top","left","z-index","snackbarError","error","dark","snackbarInfo","close","ConfirmationDialog","message","fullScreen","handleClose","DialogContentText","ActivityNotRequiredComment","onNotRequiredCommentChange","now","handleNRDClose","handleNRDSave","notRequiredComments","handleNotRequiredCommentChange","ActivityCard","activityTemplate","find","activities","allowAttachments","dependsOnPreviousActivity","description","requireAttachments","requiresReview","showTooltip","showInactivateWarningDialog","debouncedPerformCommentsChange","performCommentsChange","shouldShowWarningIfStatusChanges","prevState","siteName","split","code","attachmentFile","newResponsibleParty","onResponsiblePartyUpdated","newComments","newComment","onCommentsUpdated","activityDepth","pageBreakAfter","opacity","background","index","responsibleParties","ExpansionPanel","ex","onExpanded","getActivityPanelStyle","ExpansionPanelSummary","expandIcon","ExpandMore_default","activityActionTooltipText","Error_default","reviewedBy","completedOn","Done_default","reviewedOn","DoneAll_default","tooltip","Help_default","activitySummaryText","ExpansionPanelDetails","ResponsiblePartyArea_ResponsiblePartyArea","ActivityAttachmentsArea_ActivityAttachmentsArea","handleAttachmentUpload","ExpansionPanelActions","ActivityCommentsArea_ActivityCommentsArea","ActivityActionsArea_ActivityActionsArea","handleMarkAsCompleteClicked","handleMarkAsIncompleteClicked","handleMarkAsNotRequiredClicked","handleMarkAsReviewedClicked","ActivityNotRequiredComment_ActivityNotRequiredComment","dialogs_ConfirmationDialog","handleCloseInactivateWarningDialog","isPreviousActivityCompleted","DOMParser","parseFromString","textContent","truncate","trim","ProcessStatusCard","rejectOpen","beginReject","parentElement","onNavigateToRejectedProcess","relatedRejectedProcessInstance","handleGoToRejectedProcess","NotificationImportantOutlined_default","fontWeight","beginSignOff","beginUnsign","ProcessStatus","Initiated","Assignment_default","getAssociatedRejectedInfo","CardActions","handleRejectActions","flex","Active","AssignmentReturned_default","CompletedNotSigned","AssignmentInd_default","paddingTop","CompletedAndSigned","AssignmentTurnedIn_default","signOff","signer","timeStamp","Rejected","rejection","rejectedBy","DeleteProcessAttachmentDialog","isDeleting","onDeleteProcessTemplate","handleDeleteProcessActivityAttachment","DeleteProcessDialog","deleteProcessById","deleteProcess","delay","time","resolve","setTimeout","ProcessExporter","pdfFileName","showProcessDownloadLink","render","activityIndex","ix","mrExceptionsColumns","ne","exceptionNoted","suggestedCorrectiveAction","exceptionNotedBy","exceptionNotedTimeStamp","processOwnerResponse","processOwner","processOwnerResponseTimeStamp","showQ4","q1","q2","q3","lang","charSet","content","httpEquiv","rel","media","printStyle","cellSpacing","col","colSpan","notes","q4","notedExceptions","generalNotes","script","_exportProcess","processUrl","statusChangeCallback","zipFile","stName","_j","_attachment","_stName","_url","_response","JSZip","updateStatus","defaultDelayMs","renderToStaticMarkup","renderProcess","responseType","newStatus","ExportProcessDialog","currentStatus","generateAsync","getProcessPathByProcessId","exportProcess","disableBackdropClick","LinearProgress","DisplayEditableField","isEditField","isError","fieldBuffer","field","isLoading","titleBuffer","alignItems","elevation","noWrap","IconButton","aria-label","Edit_default","square","val","Divider","onSave","Clear_default","useStyles","makeStyles","Question","questionId","questionText","questionAnswer","onAnswerChange","_React$useState","useState","_React$useState2","answer","setAnswer","useEffect","Box","justifyContent","p","bgcolor","FormControl","minWidth","RadioGroup","row","FormControlLabel","control","Radio","labelPlacement","AttachmentsArea","lastIndexOf","ListItem","ListItemIcon","ListItemText","placeholderText","infoArea","NotedExceptionDialog","notedException","values","setValues","prop","handleProcessAttachmentUpload","el","toLowerCase","handleNotesChange","m","InputLabelProps","shrink","AttachmentArea","findIndex","x","onSubmitNotedException","otherArea","lableArea","NotedExceptionDisplay","onEditNotedExceptionClickOpen","onDeleteNotedException","onEditProcessOwner","direction","zeroMinWidth","fontStyle","controls_DisplayEditableField","edge","data-id","EditOutlined_default","Delete_default","heading","flexShrink","panelSummary","extendedIcon","OpenInNewStyle","MonitoringAndReviewComponent","onEditQuestions","onEditNotedExceptions","onNotesChange","onMonitoringAndReviewComplete","onUpdateMonitoringAndReviewProcessOwner","onNotedExceptiononAttachmentUpload","useParams","expandPanelInitially","mr","doAutoScroll","setDoAutoScroll","_React$useState3","_React$useState4","setExpanded","_React$useState5","_React$useState6","setOpen","_React$useState7","_React$useState8","acknowledgeComplete","setAcknowledgeComplete","_React$useState9","_React$useState10","isSaving","setIsSaving","_React$useState11","_React$useState12","currenNotedException","setCurrenNotedException","_React$useState13","_React$useState14","isUpdatingNotes","setIsUpdatingNotes","scrollToElement","ele","document","getElementById","clientRects","getClientRects","documentMode","documentElement","scrollTop","scrollTo","panel","handleEditNotedExceptionClickOpen","isMonitoringAndReviewCompleted","Completed","handleDeleteNotedException","_ref3","foundIndex","handleSubmitNotedException","_ref4","handleQuestionAnswer","_ref5","question","doEditQuestion","_ref6","monitorngAndReview","handleMonitoringAndReviewCompleteClick","_ref7","handleEditProcessOwner","_ref9","handleNotedExceptiononAttachmentUpload","_ref10","ret","_x10","isExpanded","aria-controls","react_router_dom","to","OpenInNewOutlined_default","verticalAlign","Question_Question","Fab","getGUID","Add_default","n","NotedExceptionDisplay_NotedExceptionDisplay","getCommentArea","Checkbox","checked","NotedExceptionDialog_NotedExceptionDialog","MoveProcessToAnotherFiscalYearDialog","isMoving","isInvalidEntry","toLocaleUpperCase","slice","startsWith","Number","moveProcessToAnotherFiscalYear","FormHelperText","ProcessDetail","search","isLoadingProcess","showSignoffDialog","isSigningOff","isRejecting","showDeleteAttachmentDialog","showProcessLog","showDeleteProcessDialog","showMoveProcessDialog","activeActivityId","aaid","showExportProcessDialog","showUnsignDialog","showRejectDialog","information","performNoteUpdate","activityId","childActivity","childActivityTemplate","at","markProcessActivityAsComplete","updatedProcess","getNextIncompleteProcessActivityId","markProcessActivityAsIncomplete","markProcessActivityAsNotRequired","markProcessActivityAsReviewed","processId","updateProcessNotes","actionId","info","rejectProcess","history","unsignProcess","signCompletedProcess","substr","uploadProcessActivityAttachment","deleteAttachmentActivity","deleteAttachmentAttachment","removeProcessActivityAttachment","updateProcessActivityResponsibleParty","updateMonitoringAndReviewQuestions","updateMonitoringAndReviewNotedExceptions","updateMonitoringAndReviewNotes","markMonitoringAndReviewAsComplete","notedExceptionId","updateMonitoringAndReviewProcessOwner","Array","isArray","activated","unshift","aaids","pathname","updateProcessActivityComments","deleted","msg","processLog","getProcessLog","setAttribute","port","protocol","getProcessLogByProcessId","currentDepth","activityTemplateIndex","getSharePointOrigin","getProcessById","getPartiesList","prevProps","saveAs","kebabCase","uploadNotedExceptionAttachment","isAdmin","isAdministrator","isSysAdmin","isSystemAdministrator","noDeleteIcon","processLinkHref","Share_default","_callee30","_context30","updateProcessName","_x35","ProcessHeader_ProcessHeader","ProcessDetail_ActivityCard","getIsActivityExpanded","handleActivityExpanded","beginAttachmentDelete","handleResponsiblePartyUpdated","handleActivityCommentsUpdated","handleJobAidAttachments","rows","rowsMax","multiline","handleNoteChanged","ProcessStatusCard_ProcessStatusCard","beginRejection","handleNavigateToRejectedProcess","paddingBottom","History_default","exportToZip","SaveAlt_default","beginMoveProcess","LowPriority_default","beginDeleteProcess","MonitoringAndReview_MonitoringAndReviewComponent","handleEditMonitoringAndReviewQuestions","handleEditMonitoringAndReviewNotedExceptions","handleEditMonitoringAndReviewNotes","handleMonitoringAndReviewComplete","handleUpdateMonitoringAndReviewProcessOwner","handleNotedExceptionAttachmentUpload","handleSignOffDialogClose","handleSignOff","hideProcessLog","logEntries","entry","dialogs_UnsignProcessDialog","handleUnsignDialogClose","dialogs_RejectProcessDialog","handleRejectDialogClose","handleCompleteRejectProcess","ConfirmDeleteAttachmentDialog_DeleteProcessAttachmentDialog","handleDeleteAttachmentDialogClosed","dialogs_DeleteProcessDialog","handleDeleteProcessDialogClosed","dialogs_ExportProcessDialog","handleExportProcessDialogClosed","dialogs_MoveProcessToAnotherFiscalYearDialog","from","handleMoveProcessToFiscalYearDialogClosed","Snackbar","autoHideDuration","handleInfoClose","SnackbarContent","action","Close_default","withRouter","path","InputProps","createdBy","onProcessAttachmentUpload","onProcessAttachmentDelete","formControl","ActivityTemplateDialog","onActivityTemplateChange","currentActivityTemplate","input","_this$props3","_this$props4","header","handleDescriptionRTChange","handleBooleanChange","InputLabel","htmlFor","handleStringChange","inputProps","MenuItem","parties","party","inputRef","focusTooltipInputField","handleSubmit","nextProps","flexWrap","mixins","gutters","selectEmpty","ActivityTemplateListItem","dependsOnClassname","dependsOnRow","onClickDelete","setDependsOnClassname","UnfoldMore_default","listItemContent","responsiblePartyInitials","getInitials","FormGroup","enterDelay","leaveDelay","HelpOutlineRounded_default","hidden","Switch","join","onClickEdit","AttachFile_default","handleDeleteActionTemplate","deleteButton","isEqual","dependsOnValue","notDependsOnRow","initials","shift","pop","listitem","ActivitiesList","destination","startIndex","endIndex","_list$splice","removed","reorder","source","onActivitiesOrderChange","react_beautiful_dnd_esm","onDragEnd","droppableId","isDropDisabled","provided","snapshot","innerRef","draggableId","isDragDisabled","draggableProvided","draggableSnapshot","assign","draggableProps","dragHandleProps","isDragging","draggableStyle","controls_ActivityTemplateListItem","handleClickEdit","handleClickDelete","handleActivityTemplateChange","listStyle","DeleteActivityTemplateDialog","tabIndex","handleDelete","ProcessTemplateEditor","versionHistory","loading","selectedActivityTemplateIndex","deleteConfirmationOpen","confirmationOpen","confirmationTitle","confirmationMessage","dataIsDirty","ver","getAllData","files","importFile","reader","FileReader","addEventListener","evt","binary","bytes","XLSX","workbook","spreadsheetdata","_data","activitiesAddedCount","requireAttachment","dependsPrior","externalReviewer","Uint8Array","byteLength","String","fromCharCode","then","bind","read","utils","sheet_to_json","Sheets","SheetNames","range","Activity","ResponsibleParty","getboolean","Attachments","RequireAttachment","DependsPrior","ExternalReviewer","finish","t1","readAsArrayBuffer","toUpper","charAt","saveProcessTemplateAsDraft","newActivityTemplate","selectedActivityTemplate","newActivitiesState","Error","updateActivity","highlightItem","publishProcessTemplateById","_match$params2","getTemplate","uploadProcessTemplateAttachment","updateActivityJobAidAttachments","jaAttachment","idxJA","buffer","getProcessTemplateContainerById","getProcessTemplateById","getProcessTemplateVersionHistoryById","containerPath","currentVersionNumber","innerHeight","pageYOffset","scroll","behavior","classList","remove","getElementsByTagName","scrollHeight","updateProcessJobAidAttachments","idx","others","objectWithoutProperties","pathDisplay","react_router","when","process_header","handleProcessAttachmentDelete","section","buttonActions","handleCancelEdits","icons","handleSaveDraft","Save_default","handlePublishTemplate","Publish_default","handleAddNewActivityClickOpen","accept","handleImport","ArrowUpward_default","buttonProgress","LaunchRounded_default","controls_ActivitiesList","handleActivitiesOrderChange","hasScrollbar","dialogs_ActivityTemplateDialog","handleActivityTemplateDialogChange","handleActivitySave","dialogs_DeleteActivityTemplateDialog","deleteActivity","wrapper","buttonSuccess","green","&:hover","fabProgress","zIndex","AppBarProfile","observer","isSynching","syncInfo","onViewChange","isGlobal","confirm","deleteFilterById","setDefaultFilter","by","setTo","totalCount","totalErrorCount","deleteBatchSize","procChunkSize","buildReportingItemList","increaseProgress","clearReportingSPList","deletedItems","listAllProcesses","chunks","chunk","updateRepository","r","processInstanceCount","processInError","progressUnit","Math","ceil","handleIButtonClick","getReportingListViewName","_this$context$persona","AccountCircle_default","profileIcon","ButtonGroup","handleToggle","aria-owns","aria-haspopup","ArrowDropDown_default","Popper","transition","disablePortal","TransitionProps","placement","ClickAwayListener","onClickAway","Grow","MenuList","option","handleMenuItemClick","ListItemSecondaryAction","handleGlobalMenuItemClick","handleSyncRepository","Sync_default","getHyperlink","A200","createMuiTheme","overrides","MuiTableCell","hide","drawer","drawerPaper","drawerHeader","toolbar","listItem","&.Mui-selected","listItemNewItem","transitions","easing","sharp","duration","leavingScreen","contentShift","easeOut","enteringScreen","Icon","spin","animationName","animationIterationCount","animationTimingFunction","Notifications","useTheme","appContext","useContext","useHistory","includeOwns","setIncludeOwns","visibleControl","setVisibleControl","unread","setUnread","logs","setLogs","isRefreshing","setIsRefreshing","isAutoRefreshingData","currentCacheId","currentUserText","fetchData","noCache","results","filteredProcessLog","numOfNew","getUserConfig","notificationsSection","getProcessLogs","lastToken","cacheId","reduce","total","interval","setInterval","clearInterval","handleDrawerOpen","handleClearBadge","saveNotificationsToken","handleGetLogs","handleIncludeMine","saveIncludeOwn","Badge","badgeContent","NotificationsNone_default","Drawer","anchor","ChevronLeft_default","ChevronRight_default","RefreshRounded_default","LayersClear_default","List","processName","button","selected","ArrowForward_default","VerifiedUserOutlined_default","setIcons","processTableHeaderColumns","numeric","disablePadding","ProcessTableHead","property","onRequestSort","showSelect","order","CustomTableCell","head","common","white","light","TableCell","TableHead","TableRow","tableCell","align","headerColumns","sortDirection","TableSortLabel","createSortHandler","FormDialog","requiredName","isDuplicate","overwriteViewName","vf","isNewView","duplicateId","f","onSaveView","handleClickOpen","Input_Input","handleViewNameChange","aria-describedby","handleoverwriteViewNameChkBox","handleGlobalChkBox","handleSave","ProcessFilters","collapse","keywords","byName","byFuncArea","byRespParty","byProcTempName","categoryKey","onAddFilterFunction","onRemoveFilterFunction","onClearFilterFunction","overwriteViewId","filterItem","categoryLabel","handleAddFilter","getFieldsToString","keyword","keywordFields","charCode","handleApplyKeywords","unCamelCase","CheckCircle_default","RadioButtonUnchecked_default","material_ui_pickers_esm","DateFnsUtils","autoComplete","handleKeywordsSearchChange","onKeyPress","handleKeypress","endAdornment","InputAdornment","checkbox","handleCheckboxChange","some","inset","toggleCollapse","ExpandLess_default","Collapse","in","timeout","unmountOnExit","test-id","renderFilters","isDirty","handleAddChangeFilterClick","FilterList_default","displayHeader","float","handleClearFilters","Menu","TransitionComponent","Fade","renderFilterMenu","handleFilterDelete","SaveCustomFilterDialog_FormDialog","handleSaveView","buttons","ProcessTable","ProcessTable_temp","ProcessTable_class2","_React$Component","_isMount","currentExportStatus","selectedProcesses","page","rowsPerPage","inherits","_componentDidMount","filterView","viewId","fv","getFiscalYears","_getFiscalYears","fys","listAllProcessesForFiscalYears","t2","t3","configureDataSpecificFilters","check","_handleFilterDelete","filterDelete","_handleAddFilter","addFilter","selectedFilters","needsFYDataRefresh","yearFilter","sf","filterToDelete","getFilterIndex","_handleClearFilters","statusFilters","functionalAreaFilters","createdByFilters","responsiblePartyFilters","transactionDateFilters","creationDateFilters","keywordsFilters","isStatusFiltered","isFunctionalAreaFiltered","isCreatedByFiltered","isResponsiblePartyFiltered","isTransactionDateFiltered","isKeywordsFiltered","pDate","setHours","every","kf","keywordLower","_loadAllProcesses","_handleCompleteExport","bigZip","_process","_handleSaveView","Name","filterToSave","saveFilter","_handleInfoClose","onNavigateToProcess","emptyRows","min","applyFilters","ProcessTable_ProcessFilters","tableWrapper","Table","table","ProcessTableHead_ProcessTableHead","numSelected","handleRequestSort","rowCount","TableBody","stableSort","processIndex","hover","aria-checked","handleProcessSelectedChange","cn","nameCell","wordBreak","TablePagination","rowsPerPageOptions","count","backIconButtonProps","nextIconButtonProps","onChangePage","handleChangePage","onChangeRowsPerPage","handleChangeRowsPerPage","ProcessTable_class","getOwnPropertyDescriptor","_progress","overflowX","whiteSpace","-ms-word-wrap","wordWrap","textDecoration","down","InitiateProcessDialog","InitiateProcessDialog_temp","InitiateProcessDialog_class2","allowFunctionProcessSelection","allowProcessTemplateSelection","processTemplate","isLoadingFunctionProcesses","isLoadingProcessTemplates","isLoadingVersions","isInitiating","selectedFunctionProcess","selectedProcessTemplate","selectedVersion","versions","showError","errorMessage","loadProcessTemplates","processTemplates","loadProcessTemplateVersions","isInteger","parseInt","other","esm_extends","reactTextMask_default","mask","_initiateProcess","newProcess","createProcessFromProcessTemplate","_loadFunctionProcesses","tree","functionProcesses","_arr","_i","functionProcess","listAllProcessTemplates","keys","_loadProcessTemplates","listProcessTemplatesInContainer","_loadProcessTemplateVersions","isCurrentVersion","loadFunctionProcesses","_this$state2","filteredVersions","select","handleSelectedFunctionProcessChange","SelectProps","MenuProps","helperText","fp","handleSelectedProcessTemplateChange","pt","handleSelectedVersionChange","createdOn","handleProcessNameChange","clearable","handleTransactionDateChange","handleFiscalYearChange","inputComponent","FiscalYearFormat","icon","ErrorOutlineOutlined_default","initiateProcess","InitiateProcessDialog_class","modal","transform","shadows","caption","actionButton","initiateProcessActionButton","treeNode","treeNodeListItemIcon","containerIcon","addSubFolderButton","addProcessTemplateButton","deleteContainerButton","treeIconButton","treeText","processTemplateNodeText","exportButton","treeTextFlex","treeTextButton","lineHeight","listitemButton","ProcessTemplateNode","ProcessTemplateNode_temp","ProcessTemplateNode_class3","versionDisabled","navigateToProcessTemplate","selectedProcessTemplateId","selectProcessTemplate","_setVersionOptions","_versions","versionsToShow","dense","getProcessTemplateListItemStyle","exportMode","setVersionOptions","selectedVersionNumer","onSelectProcessTemplateForExport","disableRipple","showProcessTemplateMenu","MoreVert_default","Input_default","ProcessTemplateNode_class2","ProcessTemplateNode_class","ProcessTemplateContainerNode","ProcessTemplateContainerNode_temp","ProcessTemplateContainerNode_class3","isDraggingOver","toggleContainerShowChildren","templatesToExport","getExportedData","ptcProvider","ptcSnapshot","toggleContainer","getContainerStyle","showChildren","FolderOpen_default","ArrowRight_default","Folder_default","containerName","showProcessTemplateContainerMenu","subFolders","child","Wrapper","initialVisibleDepth","ptProvider","ptSnapshot","getProcessTemplateStyle","ProcessTemplateTree_ProcessTemplateNode","defaultProps","ProcessTemplateContainerNode_class2","computed","ProcessTemplateContainerNode_class","withTheme","ProcessTemplateMenu","copyProcessTemplate","hideProcessTemplateMenu","deleteProcessTemplate","_this$props5","showVersionHistory","_this$props6","menuAnchor","initiateProcessClicked","editProcessTemplateClicked","copyProcessTemplateClicked","FileCopy_default","showVersionHistoryClicked","deleteProcessTemplateClicked","CopyProcessTemplateDialog","isCopying","processTemplateContainer","processTemplateId","clonedProcessTemplate","isDuplicateTitle","handleProcessTemplateTitleChange","MoveProcessTemplateDialog","moveProcessTemplate","DeleteProcessTemplateDialog","deleteProcessTemplateById","ProcessTemplateContainerMenu","createProcessTemplate","hideProcessTemplateContainerMenu","createProcessTemplateContainer","deleteProcessTemplateContainer","createProcessTemplateClicked","NoteAdd_default","createProcessTemplateContainerClicked","AddBox_default","deleteProcessTemplateContainerClicked","CreateProcessTemplateDialog","isCreating","newProcessTemplate","handleNewProcessTemplateTitleChange","DeleteProcessTemplateContainerDialog","CreateProcessTemplateContainerDialog","newContainerName","depth","putProcessTemplateContainer","newPath","handleNewContainerNameChange","ProcessTemplateVersionHistory","getProcessTemplateVersionHistory","renderVersion","TemplateExporter","s","templates","fullPath","_s","toArray","tail","fullPathKey","filesKeys","insert","objectArray","newObject","buildWeirdTree","obj","lastChildren","opened","attr","a_attr","json","borderRight","renderIndex","renderProcessTemplate","CommandKind","guidRegex","RegExp","ProcessTemplateTreeContext","ProcessTemplateTree","ProcessTemplateTree_temp","ProcessTemplateTree_class3","export","mode","isValid","sourceContainer","flatContainers","destinationContainerIndex","destinationContainer","currentCommand","MoveProcessTemplate","_listAllProcessTemplates","loader","cancelLoading","cancel","processTemplateToCopy","cloneDeep","CopyProcessTemplate","CreateProcessTemplate","CreateContainer","processTemplateToDelete","DeleteProcessTemplate","DeleteContainer","processTemplateToInitiate","InitiateProcess","ShowProcessTemplateVersionHistory","_handleCopyProcessTemplateClosed","clearCurrentCommand","_handleMoveProcessTemplateClosed","_handleProcessTemplateCreated","_handleProcessTemplateContainerCreated","_handleProcessTemplateDeleted","wasDeleted","_handleProcessTemplateContainerDeleted","_handleProcessInitiated","templatesToExportClone","ShowProcessTemplateMenu","ShowProcessTemplateContainerMenu","_componentWillMount","_sourceContainer","_processTemplate","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_container2","_id","_name","start","scrollToProcessTemplate","scrollY","_callee12","included","indexHtml","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","toExport","tempHtml","filename","_context12","exportIndex","exportTemplate","toLocaleLowerCase","_handleBeginExport","_callee13","_context13","str","handleBeginExport","handleCompleteExport","Provider","ProcessTemplateTree_ProcessTemplateContainerNode","beginInitiateProcess","handleOnSelectProcessTemplateForExport","dialogs_CopyProcessTemplateDialog","handleCopyProcessTemplateClosed","dialogs_CreateProcessTemplateContainerDialog","handleProcessTemplateContainerCreated","dialogs_CreateProcessTemplateDialog","handleProcessTemplateCreated","dialogs_DeleteProcessTemplateContainerDialog","handleProcessTemplateContainerDeleted","dialogs_DeleteProcessTemplateDialog","handleProcessTemplateDeleted","dialogs_InitiateProcessDialog","handleProcessInitiated","dialogs_MoveProcessTemplateDialog","handleMoveProcessTemplateClosed","ProcessTemplateTree_ProcessTemplateContainerMenu","beginCreateProcessTemplate","beginCreateProcessTemplateContainer","beginDeleteProcessTemplateContainer","ProcessTemplateTree_ProcessTemplateMenu","beginShowVersionHistory","beginCopyProcessTemplate","beginDeleteProcessTemplate","ProcessTemplateVersionHistoryDialog","ProcessTemplateTree_class2","ProcessTemplateTree_class","ProcessTemplateList","components_ProcessTemplateTree","Main","createRef","isInitiateDialogOpen","current","handleNavigateToProcess","getAvailableFiscalYears","configureFilters","tab","handleExport","components_ProcessTable","ProcessTemplates_ProcessTemplateList","titleLink","black","App","_childRef","appStore","refreshData","getRootWebTitle","ThemeProvider","appTheme","CssBaseline","AppBar","appBar","Toolbar","bmp_1","titleImage","alt","Tabs","handleTabChange","indicatorColor","textColor","scrollButtons","Tab","Notifications_Notifications","controls_AppBarProfile","handleViewChange","appBody","role","components_Main","components_ProcessDetail","process_template_editor","controls_Footer","@global","appIcon","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister","_ProcessTemplateContainer__WEBPACK_IMPORTED_MODULE_1__","o","_ProcessTemplateVersion__WEBPACK_IMPORTED_MODULE_2__","_ActivityTemplate__WEBPACK_IMPORTED_MODULE_3__","_FieldTemplate__WEBPACK_IMPORTED_MODULE_4__","_Process__WEBPACK_IMPORTED_MODULE_6__","_ProcessStatus__WEBPACK_IMPORTED_MODULE_7__","_ProcessLog__WEBPACK_IMPORTED_MODULE_8__","_Activity__WEBPACK_IMPORTED_MODULE_9__","_ActivityStatus__WEBPACK_IMPORTED_MODULE_10__","_Attachment__WEBPACK_IMPORTED_MODULE_11__","_Field__WEBPACK_IMPORTED_MODULE_12__","_ProcessTemplateContainerStore__WEBPACK_IMPORTED_MODULE_13__","_ProcessLogStore__WEBPACK_IMPORTED_MODULE_15__","_ProcessStore__WEBPACK_IMPORTED_MODULE_16__","_ReportingStore__WEBPACK_IMPORTED_MODULE_17__","_home_vsts_work_1_s_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_partyList","_home_vsts_work_1_s_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","_getPartiesList","_home_vsts_work_1_s_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_vsts_work_1_s_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","_deleteProcessTemplateById","_deleteProcessTemplateContainer","put","_getProcessTemplateById","_getProcessTemplateVersionHistoryById","_getProcessTemplateContainerById","_saveProcessTemplateAsDraft","processTemplateRequest","pick","_publishProcessTemplateById","versionComment","_putProcessTemplateContainer","_x11","_listAllProcessTemplateContainers","cancelTokenCallback","CancelToken","cancelToken","token","_x12","_x13","_listProcessTemplatesInContainer","_x14","_moveProcessTemplate","_x15","_x16","_uploadProcessTemplateAttachment","_callee14","fd","_context14","_x17","_x18","_x19","_x20","_removeProcessActivityAttachment","_callee15","_context15","_x21","_x22","_x23","_getProcessTemplateTreeStructure","_callee16","_context16","_x24","_x25","_listProcessTemplatesForPackaging","_callee17","_context17","_x26","ProcessTemplateStatus","FieldType","_dec","bound","_dec2","_dec3","_dec4","_home_vsts_work_1_s_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_home_vsts_work_1_s_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_initializerDefineProperty__WEBPACK_IMPORTED_MODULE_2__","_processTemplateStore","_home_vsts_work_1_s_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","rootNode","buildNodeRecursive","node","sourceIndex","dir","parentIndex","_toggleContainerShowChildren","_home_vsts_work_1_s_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_applyDecoratedDescriptor__WEBPACK_IMPORTED_MODULE_5__","flow","traverseUp","convertToTree","fn","ptc","_getProcessLogByProcessId","_getProcessLogs","_addLogEntryForProcess","logEntry","_fiscalYearList","_createProcessFromProcessTemplate","_getProcessById","_deleteProcessById","_listAllProcesses","_listAllProcessesForFiscalYear","_listAllProcessesForFiscalYears","_getAvailableFiscalYears","sort","reverse","_getProcessPathByProcessId","_markProcessActivityAsComplete","_markProcessActivityAsIncomplete","_markProcessActivityAsNotRequired","_markProcessActivityAsReviewed","_signCompletedProcess","_createProcessPDF","_unsignProcess","_x27","_x28","_rejectProcess","_x29","_x30","_updateProcessActivityComments","_callee18","_context18","_x31","_x32","_x33","_updateProcessActivityResponsibleParty","_callee19","_context19","_x34","_x36","_updateProcessFieldValue","_callee20","fieldId","fieldValue","_context20","_x37","_x38","_x39","_updateProcessNotes","_callee21","_context21","_x40","_x41","_updateMonitoringAndReviewQuestions","_callee22","_context22","_x42","_x43","_updateMonitoringAndReviewNotes","_callee23","_context23","_x44","_x45","_updateMonitoringAndReviewNotedExceptions","_callee24","_context24","_x46","_x47","_markMonitoringAndReviewAsComplete","_callee25","_context25","_x48","_updateMonitoringAndReviewProcessOwner","_callee26","_context26","_x49","_x50","_x51","_updateProcessName","_callee27","_context27","_x52","_x53","_uploadProcessActivityAttachment","_callee28","_context28","_x54","_x55","_x56","_x57","_x58","_moveProcessToAnotherFiscalYear","_callee29","toFiscalYear","_context29","_x59","_x60","_uploadNotedExceptionAttachment","_x61","_x62","_x63","_x64","_clearReportingSPList","toDelete","_updateRepository","module","exports"],"mappings":"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","file":"static/js/main.19838742.chunk.js","sourcesContent":["export function getFiscalYear(date?: Date) {\n  if (!date) {\n    date = new Date();\n  }\n  let addYear = 1;\n  if (date.getMonth() <= 8) {\n    addYear = 0;\n  }\n\n  return 'FY' + (date.getFullYear() + addYear).toString().substring(2);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL((process as { env: { [key: string]: string } }).env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log('This web app is being served cache-first by a service ' + 'worker. To learn more, visit http://bit.ly/CRA-PWA');\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log('New content is available and will be used when all ' + 'tabs for this page are closed. See http://bit.ly/CRA-PWA.');\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { sp, ContextInfo, List } from '@pnp/sp';\nexport class SPRestContext implements SPContext {\n  private ctx: ContextInfo | undefined;\n  private currentUser: any;\n  private reportingList: List | undefined = undefined;\n  private reportingListName = 'OFS PPP Reporting List';\n  private reportingListViewName = 'BPM Reporting List Excel View';\n\n  public async getRootWebTitle() {\n    return 'OFS Business Process Management Portal (BPMP)';\n  }\n\n  public async getCurrentUser(): Promise<any> {\n    if (this.currentUser) {\n      return this.currentUser;\n    } else {\n      this.currentUser = await sp.web.currentUser.get();\n      return this.currentUser;\n    }\n  }\n\n  public async getContextInfo(): Promise<ContextInfo> {\n    if (this.ctx) {\n      return this.ctx;\n    }\n\n    const ctx = await sp.site.getContextInfo();\n    this.ctx = ctx;\n    return ctx;\n  }\n\n  public async getSharePointOrigin(): Promise<string> {\n    /* istanbul ignore next */\n    if (process.env.NODE_ENV !== 'production') {\n      return 'http://localhost:3001';\n    }\n\n    const ctx = (await this.getContextInfo()) as any;\n    const origin = ctx.WebFullUrl; // `${protocol}//${hostname}${port.length ? `:${port}` : ''}`;\n    return origin;\n  }\n\n  private getTitle(currentUser: any): string {\n    if (currentUser && currentUser.Title) {\n      return currentUser.Title;\n    }\n    return '';\n  }\n\n  public isAdministrator(currentUser: any): boolean {\n    if (!currentUser) {\n      return false;\n    }\n    const administrators = [\n      'Administrator',\n      'SLOWBURN\\\\Administrator', // Jaime's SP dev environment is peculiar\n      'Loesley, Barton (Contractor)',\n      'Guerrero, Jaime (Contractor)',\n      'Patil, Ravindra (Contractor)',\n      'Agrinya, Emmanuel (Contractor)',\n      'Weiner, Joseph (Contractor)',\n      'Nicoletos, Anthony (Contractor)'\n    ];\n    let found = false;\n    administrators.forEach(a => {\n      if (this.getTitle(currentUser).toUpperCase() === a.toUpperCase()) {\n        found = true;\n      }\n    });\n    return found;\n  }\n\n  public isSystemAdministrator(currentUser: any): boolean {\n    const administrators = [\n      'Administrator',\n      'SLOWBURN\\\\Administrator', // Jaime's SP dev environment is peculiar\n      'Loesley, Barton (Contractor)',\n      'Guerrero, Jaime (Contractor)',\n      'Patil, Ravi (Contractor)',\n      'Agrinya, Emmanuel (Contractor)',\n      'Weiner, Joseph (Contractor)'\n    ];\n\n    let found = false;\n    administrators.forEach(a => {\n      if (this.getTitle(currentUser).toUpperCase() === a.toUpperCase()) {\n        found = true;\n      }\n    });\n    return found;\n  }\n\n  public async buildReportingItemList(): Promise<boolean> {\n    this.reportingList = await this.getReportingList();\n    if (!this.reportingList) {\n      await this.createReportingSPList();\n    }\n    return true;\n  }\n\n  private async getReportingList(): Promise<List | undefined> {\n    let returnValue: List | undefined = undefined;\n    try {\n      returnValue = await sp.web.lists.getByTitle(this.reportingListName).get();\n    } catch (ex) {\n      return undefined;\n    }\n    return returnValue;\n  }\n\n  private async createReportingSPList(): Promise<object> {\n    // https://docs.microsoft.com/en-us/previous-versions/office/sharepoint-visio/jj245640(v%3Doffice.15)\n    const columns = [\n      { name: 'ProcessId', type: 'SP.FieldText', kind: 2 },\n      { name: 'ProcessType', type: 'SP.FieldText', kind: 2 },\n      { name: 'TransactionDate', type: 'SP.FieldText', kind: 2 },\n      { name: 'FiscalYear', type: 'SP.FieldText', kind: 2 },\n      { name: 'ProcessName', type: 'SP.FieldText', kind: 2 },\n      { name: 'FunctionArea', type: 'SP.FieldText', kind: 2 },\n      { name: 'Status', type: 'SP.FieldText', kind: 2 },\n      { name: 'SignOffDate', type: 'SP.FieldText', kind: 2 },\n      { name: 'SignOffUser', type: 'SP.FieldText', kind: 2 },\n      { name: 'RejectionReason', type: 'SP.FieldText', kind: 2 },\n      { name: 'RejectionDate', type: 'SP.FieldText', kind: 2 },\n      { name: 'RejectionUser', type: 'SP.FieldText', kind: 2 },\n      { name: 'Notes', type: 'SP.FieldText', kind: 3 },\n      { name: 'InitiatedOn', type: 'SP.FieldText', kind: 2 },\n      { name: 'initiatedBy', type: 'SP.FieldText', kind: 2 },\n      { name: 'RelatedRejectedProcessInstanceId', type: 'SP.FieldText', kind: 2 },\n      { name: 'RelatedRejectedName', type: 'SP.FieldText', kind: 2 },\n      { name: 'ModifiedBy', type: 'SP.FieldText', kind: 2 },\n      { name: 'UnSigned', type: 'SP.FieldText', kind: 2 },\n      // ACTIVITIES\n      { name: 'ActivityId', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivitySequence', type: 'SP.FieldText', kind: 1 },\n      { name: 'ActivityDescription', type: 'SP.FieldText', kind: 3 },\n      { name: 'ActivityTooltip', type: 'SP.FieldText', kind: 3 },\n      { name: 'ActivityDependsOnPrevActivity', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityStatus', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityResponsibleParty', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityReviewedBy', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityReviewedOn', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityCompletedBy', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityCompletedOn', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityNotRequiredSetUser', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityNotRequiredSetDate', type: 'SP.FieldText', kind: 2 },\n      { name: 'ActivityComments', type: 'SP.FieldText', kind: 3 },\n      // M and R\n      { name: 'MandR Status', type: 'SP.FieldText', kind: 2 },\n      { name: 'MandR Signoff Date', type: 'SP.FieldText', kind: 2 },\n      { name: 'MandR Signoff By', type: 'SP.FieldText', kind: 2 },\n      { name: 'MandR Exception Exists', type: 'SP.FieldText', kind: 2 }\n    ];\n    const ls = await sp.web.lists.ensure(this.reportingListName);\n    if (ls.created) {\n      for (let i = 0; i < columns.length; i++) {\n        await ls.list.fields.add(columns[i].name, columns[i].type, {\n          // see: https://docs.microsoft.com/en-us/previous-versions/office/sharepoint-server/ee540543(v=office.15)?redirectedfrom=MSDN\n          FieldTypeKind: columns[i].kind,\n          Filterable: true,\n          Hidden: false,\n          EnforceUniqueValues: false\n        });\n      }\n\n      // create a new view with specific properties\n      const v = await ls.list.views.add(this.reportingListViewName, false, {\n        ViewQuery: `<OrderBy><FieldRef Name='ProcessId' /><FieldRef Name='ActivitySequence' Ascending='True' /></OrderBy>`\n      });\n      // manipulate the view's fields\n\n      await v.view.fields.add('ProcessId');\n      await v.view.fields.add('ProcessType');\n      await v.view.fields.add('FunctionArea');\n      await v.view.fields.add('ProcessName');\n      await v.view.fields.add('ActivitySequence');\n      await v.view.fields.add('TransactionDate');\n      await v.view.fields.add('FiscalYear');\n      await v.view.fields.add('Status');\n      await v.view.fields.add('SignOffDate');\n      await v.view.fields.add('SignOffUser');\n      await v.view.fields.add('RejectionReason');\n      await v.view.fields.add('RejectionDate');\n      await v.view.fields.add('RejectionUser');\n      await v.view.fields.add('Notes');\n      await v.view.fields.add('InitiatedOn');\n      await v.view.fields.add('initiatedBy');\n      await v.view.fields.add('RelatedRejectedProcessInstanceId');\n      await v.view.fields.add('RelatedRejectedName');\n      await v.view.fields.add('ModifiedBy');\n      await v.view.fields.add('UnSigned');\n      await v.view.fields.add('ActivityDescription');\n      await v.view.fields.add('ActivityTooltip');\n      await v.view.fields.add('ActivityDependsOnPrevActivity');\n      await v.view.fields.add('ActivityStatus');\n      await v.view.fields.add('ActivityResponsibleParty');\n      await v.view.fields.add('ActivityReviewedBy');\n      await v.view.fields.add('ActivityReviewedOn');\n      await v.view.fields.add('ActivityCompletedBy');\n      await v.view.fields.add('ActivityCompletedOn');\n      await v.view.fields.add('ActivityNotRequiredSetUser');\n      await v.view.fields.add('ActivityNotRequiredSetDate');\n      await v.view.fields.add('ActivityComments');\n      await v.view.fields.add('MandR Status');\n      await v.view.fields.add('MandR Signoff Date');\n      await v.view.fields.add('MandR Signoff By');\n    }\n    return { response: `${this.reportingListName} was created.` };\n  }\n\n  public getReportingListName() {\n    return this.reportingListName;\n  }\n\n  public getReportingListViewName() {\n    return `${this.reportingListName}/${this.reportingListViewName}`;\n  }\n}\n\nexport interface SPContext {\n  getRootWebTitle(): Promise<string>;\n  getCurrentUser(): Promise<any>;\n  isAdministrator(currentUser: any): boolean;\n  isSystemAdministrator(currentUser: any): boolean;\n  getContextInfo(): Promise<object>;\n  buildReportingItemList(): Promise<boolean>;\n  getSharePointOrigin(): Promise<string>;\n  getReportingListName(): string;\n  getReportingListViewName(): string;\n}\n","import axios from 'axios';\n\n/**\n * Example of an application service that calls a rest endpoint.\n */\nexport class AppRestService implements AppService {\n  private _webFullUrl: string | undefined;\n\n  constructor(webFullUrl?: string) {\n    if (!webFullUrl) {\n      webFullUrl = window.location.href;\n    }\n    this._webFullUrl = webFullUrl;\n  }\n\n  get webFullUrl() {\n    return this._webFullUrl;\n  }\n\n  public async getBaristaUrl(scriptOrFilePath: string) {\n    return `${this._webFullUrl}_vti_bin/barista/v1/barista.svc/eval?c=${encodeURIComponent(scriptOrFilePath)}`;\n  }\n\n  public async getTheAnswerToLifeTheUniverseAndEverything() {\n    const url = await this.getBaristaUrl('6*7');\n    const result = await axios.get(url);\n    return result.data;\n  }\n\n  public getRelativeScriptUrl(scriptOrFilePath: string) {\n    return scriptOrFilePath;\n  }\n}\n\nexport interface AppService {\n  getTheAnswerToLifeTheUniverseAndEverything(): Promise<number>;\n}\n","import axios, { AxiosRequestConfig, AxiosInstance, AxiosResponse } from 'axios';\n\nexport class BaristaService {\n  private _webFullUrl: string | undefined;\n  private _relativePath: string | undefined;\n  private _axios: AxiosInstance;\n  private _isProd = process.env.NODE_ENV === 'production';\n\n  constructor(webFullUrl?: string, relativePath?: string) {\n    if (webFullUrl == null) {\n      webFullUrl = window.location.href;\n    }\n\n    this._webFullUrl = webFullUrl;\n\n    if (relativePath && !relativePath.endsWith('/')) {\n      relativePath = `${relativePath}/`;\n    }\n\n    this._relativePath = relativePath;\n\n    this._axios = axios.create({\n      baseURL: `${this._webFullUrl}_vti_bin/barista/v1/barista.svc/eval`\n    });\n  }\n\n  get webFullUrl(): string | undefined {\n    return this._webFullUrl;\n  }\n\n  public getRelativeScriptUrl(scriptOrFilePath: string) {\n    if (this._relativePath) {\n      return `${this._relativePath}${scriptOrFilePath}`;\n    } else {\n      return scriptOrFilePath;\n    }\n  }\n\n  get(scriptOrFilePath: string, config?: AxiosRequestConfig): Promise<AxiosResponse> {\n    config = {\n      ...config,\n      method: 'GET',\n      params: {\n        ...(config && config.params),\n        c: this.getRelativeScriptUrl(scriptOrFilePath),\n        t: this._isProd\n          ? /* istanbul ignore next */\n            new Date().getTime()\n          : undefined\n      }\n    };\n\n    return this._axios.request(config);\n  }\n\n  post(scriptOrFilePath: string, config?: AxiosRequestConfig) {\n    config = {\n      ...config,\n      method: 'POST',\n      params: {\n        ...(config && config.params),\n        c: this.getRelativeScriptUrl(scriptOrFilePath)\n      }\n    };\n\n    return this._axios.request(config);\n  }\n\n  upload(scriptOrFilePath: string, fileName: string, file: Blob, queryString?: string) {\n    var form = new FormData();\n    form.append('files[0]', file, fileName);\n\n    return fetch(`${this._webFullUrl}_vti_bin/barista/v1/barista.svc/eval?c=${this.getRelativeScriptUrl(scriptOrFilePath)}`, {\n      headers: {\n        'Content-Type': 'multipart/form-data; boundary=----------------------------800859741242946661928004'\n      },\n      method: 'POST',\n      body: form\n    });\n  }\n\n  put(scriptOrFilePath: string, config?: AxiosRequestConfig) {\n    config = {\n      ...config,\n      method: 'POST',\n      params: {\n        ...(config && config.params),\n        c: this.getRelativeScriptUrl(scriptOrFilePath)\n      },\n      headers: {\n        ...(config && config.headers),\n        'X-HTTP-Method': 'PUT'\n      }\n    };\n    return this._axios.request(config);\n  }\n\n  delete(scriptOrFilePath: string, config?: AxiosRequestConfig) {\n    config = {\n      ...config,\n      method: 'POST',\n      params: {\n        ...(config && config.params),\n        c: this.getRelativeScriptUrl(scriptOrFilePath)\n      },\n      headers: {\n        ...(config && config.headers),\n        'X-HTTP-Method': 'DELETE'\n      }\n    };\n    return this._axios.request(config);\n  }\n\n  request(config: AxiosRequestConfig) {\n    return this._axios.request(config);\n  }\n}\n","import { BaristaService } from '../util/BaristaService';\nimport { Filter } from './Filter';\nimport { observable } from 'mobx';\nimport { UserConfig } from './UserConfig';\nimport { FilterConfiguration, FilterObject } from './FilterObject';\nimport { getFiscalYear } from '../util/pppUtils';\nimport { Process } from './Process';\n\nexport class PersonalizationStore {\n  private _baristaService: BaristaService;\n  private _storage: any;\n  private readonly _userConfig = 'UserConfig';\n\n  @observable\n  selectedViewFilter: Filter = this.getDefaultFilter();\n\n  @observable\n  filterConfig: FilterConfiguration = {\n    categories: [],\n    filters: []\n  };\n\n  @observable\n  availableResponsibleParties: { value: string; text: string }[] = [];\n\n  @observable\n  filterViews: Filter[] = [];\n\n  @observable\n  areFiltersLoaded: boolean = false;\n\n  @observable\n  isConfiguredFiltersLoaded: boolean = false;\n\n  /**\n   * Creates a new ProcessStore\n   */\n  constructor(baristaService: BaristaService, storage: any) {\n    this._baristaService = baristaService;\n    this._storage = storage;\n  }\n\n  public async loadViews(userName?: string) {\n    this.areFiltersLoaded = false;\n    const [local, global] = await Promise.all([this.getPersonalFilters(userName || 'N/A'), this.getGlobalFilters()]);\n    this.filterViews = [...local, ...global];\n    this.areFiltersLoaded = true;\n  }\n\n  public async configureFilters(fiscalYears: string[]) {\n    const filterConfig: FilterConfiguration = {\n      categories: [],\n      filters: []\n    };\n    this.isConfiguredFiltersLoaded = false;\n\n    // Add Responsible Parties\n    this.availableResponsibleParties.forEach(arp => {\n      filterConfig.filters.push({\n        key: arp.text,\n        category: 'ResponsibleParty',\n        label: arp.text,\n        DateRange: false,\n        LessThan: false,\n        Date: ''\n      });\n    });\n\n    // Add filter categories\n\n    filterConfig.categories.push({ key: 'Keywords', name: 'Keywords' });\n    filterConfig.categories.push({ key: 'FY', name: 'Fiscal Year' });\n    filterConfig.categories.push({ key: 'FunctionalArea', name: 'Functional Area' });\n    filterConfig.categories.push({ key: 'ResponsibleParty', name: 'Responsible Party' });\n    filterConfig.categories.push({ key: 'status', name: 'Status' });\n    filterConfig.categories.push({ key: 'TransactionDate', name: 'Transaction Date' });\n    filterConfig.categories.push({ key: 'CreationDate', name: 'Creation Date' });\n    filterConfig.categories.push({ key: 'CreatedBy', name: 'Initiated By' });\n\n    // add keyword\n    filterConfig.filters.push({ key: 'Keyword', category: 'Keywords', label: 'Keyword', DateRange: false, LessThan: false, Date: '' });\n    filterConfig.filters.push({ key: 'Active', category: 'status', label: 'Active', DateRange: false, LessThan: false, Date: '' });\n    filterConfig.filters.push({ key: 'CompletedNotSigned', category: 'status', label: 'Completed But Not Signed', DateRange: false, LessThan: false, Date: '' });\n    filterConfig.filters.push({ key: 'CompletedAndSigned', category: 'status', label: 'Completed And Signed', DateRange: false, LessThan: false, Date: '' });\n    filterConfig.filters.push({ key: 'Initiated', category: 'status', label: 'Initiated', DateRange: false, LessThan: false, Date: '' });\n    filterConfig.filters.push({ key: 'Rejected', category: 'status', label: 'Rejected', DateRange: false, LessThan: false, Date: '' });\n\n    fiscalYears.forEach(fy => {\n      filterConfig.filters.push({ key: fy, category: 'FY', label: fy, DateRange: false, LessThan: false, Date: '' });\n    });\n\n    // Add Transaction Date\n    filterConfig.filters.push({\n      key: 'Transaction Starting Date',\n      category: 'TransactionDate',\n      label: 'Starting Date',\n      DateRange: true,\n      LessThan: false,\n      Date: new Date().toDateString()\n    });\n    filterConfig.filters.push({ key: 'Transaction Ending Date', category: 'TransactionDate', label: 'Ending Date', DateRange: true, LessThan: true, Date: new Date().toDateString() });\n\n    // Add Creation Date\n    filterConfig.filters.push({ key: 'Creation Starting Date', category: 'CreationDate', label: 'Starting Date', DateRange: true, LessThan: false, Date: new Date().toLocaleDateString('en-US') });\n    filterConfig.filters.push({ key: 'Creation Ending Date', category: 'CreationDate', label: 'Ending Date', DateRange: true, LessThan: true, Date: new Date().toLocaleDateString('en-US') });\n\n    this.filterConfig = filterConfig;\n    this.isConfiguredFiltersLoaded = true;\n  }\n\n  public async configureDataSpecificFilters(processes: Process[]) {\n    const tempFunctionalAreas = processes.map(e => e.functionArea);\n    var functionalAreas: string[] = [];\n    tempFunctionalAreas.forEach(e => {\n      if (functionalAreas.indexOf(e) < 0) {\n        functionalAreas.push(e);\n      }\n    });\n\n    // process initiators\n    const tempProcessInitiators = processes.map(e => e.initiatedBy);\n    let initiators: any[] = [];\n    tempProcessInitiators.forEach(z => {\n      if (typeof z !== 'undefined') {\n        if (initiators.filter(j => j === z.displayName).length === 0) {\n          initiators.push(z.displayName);\n        }\n      }\n    });\n\n    // Remove these two to re-add below\n    let i = this.filterConfig.filters.length;\n    while (i--) {\n      if (this.filterConfig.filters[i].category === 'CreatedBy' || this.filterConfig.filters[i].category === 'FunctionalArea') {\n        this.filterConfig.filters.splice(i, 1);\n      }\n    }\n    initiators.forEach(item => {\n      this.filterConfig.filters.push({ key: item, category: 'CreatedBy', label: item, DateRange: false, LessThan: false, Date: '' });\n    });\n\n    // Add Functional Areas\n    functionalAreas.forEach(fa => {\n      this.filterConfig.filters.push({\n        key: fa,\n        category: 'FunctionalArea',\n        label: fa,\n        DateRange: false,\n        LessThan: false,\n        Date: ''\n      });\n    });\n  }\n\n  /**\n   * Save a filter\n   */\n  public async saveFilter(filterSet: Filter, global: boolean): Promise<number> {\n    const response = await this._baristaService.post('Personalization/saveFilter.js', {\n      data: {\n        filter: filterSet,\n        global: global\n      }\n    });\n    return response.status;\n  }\n\n  /**\n   * Retrieve a filter by the specified id.\n   * @param filterId the id of the filter\n   */\n  public async getFilterById(filterId: string): Promise<Filter> {\n    const response = await this._baristaService.get('Personalization/getFilterById.js', { params: { filterId } });\n    return response.data;\n  }\n\n  /**\n   * Save user's dateTime of last viewd Notifications\n   * Use session cache for performance\n   */\n  public async saveNotificationsToken(): Promise<string> {\n    const response = await this._baristaService.get('Personalization/saveNotificationsToken.js', { params: {} });\n    if (response && response.data && response.data) {\n      this._storage.setItem(this._userConfig, JSON.stringify(response.data));\n    }\n    return response.data;\n  }\n\n  /**\n   * Retrieve user's dateTime of last viewd Notifications\n   * Use session cache for performance\n   */\n  public async getUserConfig(): Promise<UserConfig | undefined> {\n    const userConfig = this._storage.getItem(this._userConfig);\n    if (userConfig) {\n      return JSON.parse(userConfig);\n    } else {\n      const response = await this._baristaService.get('Personalization/getUserConfig.js', { params: {} });\n      if (response && response.data && response.data) {\n        this._storage.setItem(this._userConfig, JSON.stringify(response.data));\n        return response.data;\n      }\n    }\n  }\n\n  /**\n   * Delete a saved filter by the specified id.\n   * @param filterId  the id of the filter\n   */\n  public async deleteFilterById(filterId: string): Promise<boolean> {\n    const response = await this._baristaService.delete('Personalization/deleteFilter.js', { data: { filterId } });\n    await this.loadViews();\n    return response.data;\n  }\n\n  /*\n   * saved if user wants its own data in the log notification area..\n   * @param filterId  the id of the filter\n   */\n  public async saveIncludeOwn(value: boolean): Promise<boolean> {\n    const response = await this._baristaService.get('Personalization/saveIncludeOwn.js', { params: { value } });\n    if (response && response.data && response.data) {\n      this._storage.setItem(this._userConfig, JSON.stringify(response.data));\n    }\n    return response.data;\n  }\n\n  public getDefaultFilterSet(today?: Date): Array<FilterObject> {\n    if (!today) {\n      today = new Date();\n    }\n\n    const august = new Date(today.getFullYear(), 7, 1);\n    const december = new Date(today.getFullYear(), 11, 1);\n    const october = new Date(today.getFullYear(), 9, 1);\n\n    const resturnSet = [] as Array<FilterObject>;\n\n    // add current FY\n    resturnSet.push({\n      key: getFiscalYear(today),\n      label: 'Fiscal Year: ' + getFiscalYear(today),\n      category: 'FY',\n      DateRange: false,\n      LessThan: false,\n      Date: ''\n    });\n\n    // between Aug01 and Dec01 there should be two FYs,  the current FY and ...\n    if (august <= today && today <= december) {\n      let yearToAdd = new Date(today.getFullYear(), 11); // add next FY from current Date\n      if (today >= october) {\n        yearToAdd = new Date(today.getFullYear(), 6); // add previous FY  from current Date\n      }\n\n      resturnSet.push({\n        key: getFiscalYear(yearToAdd),\n        label: 'Fiscal Year: ' + getFiscalYear(yearToAdd),\n        category: 'FY',\n        DateRange: false,\n        LessThan: false,\n        Date: ''\n      });\n    }\n    return resturnSet;\n  }\n\n  private getDefaultFilter(): Filter {\n    return { id: '', global: false, name: 'Default View', filterSet: this.getDefaultFilterSet() };\n  }\n\n  /*\n   * Retrieve all fiters the user has saved.\n   */\n  public async getPersonalFilters(userName?: string): Promise<Filter[]> {\n    const response = await this._baristaService.get('Personalization/getSavedFilters.js');\n    // Add My Dashboard default filterSet\n    const localFilterViewsLocal: Filter[] = [\n      {\n        id: '0',\n        global: false,\n        name: 'My Dashboard',\n        filterSet: [\n          ...this.getDefaultFilterSet(),\n          {\n            key: userName || 'N/A',\n            category: 'CreatedBy',\n            DateRange: false,\n            LessThan: false,\n            Date: '',\n            label: 'Initiated By: ' + userName || 'N/A'\n          },\n          {\n            key: 'Active',\n            category: 'status',\n            DateRange: false,\n            LessThan: false,\n            Date: '',\n            label: 'Status: Active'\n          }\n        ]\n      }\n    ];\n    if (response && response.data) {\n      response.data.forEach((pf: any) => {\n        pf.global = false;\n        localFilterViewsLocal.push(pf);\n      });\n    }\n    return localFilterViewsLocal;\n  }\n\n  public setDefaultFilter(): void {\n    this.selectedViewFilter = this.getDefaultFilter();\n  }\n\n  /**\n   * Retrieve all global filters\n   *\n   */\n  public async getGlobalFilters(): Promise<Filter[]> {\n    const response = await this._baristaService.get('Personalization/getGlobalFilters.js');\n    if (response && response.data) {\n      response.data.forEach((pf: any) => {\n        pf.global = true;\n      });\n    }\n    return response.data;\n  }\n}\n","import React from 'react';\nimport { sp } from '@pnp/sp';\nimport { SPRestContext, SPContext } from './services/SPContext';\nimport { AppRestService, AppService } from './services/AppService';\nimport { ProcessTemplateStore } from './ppp/ProcessTemplateStore';\nimport { BaristaService } from './util/BaristaService';\nimport { ProcessStore, ProcessLogStore, ProcessTemplateContainerStore, ReportingStore } from './ppp';\nimport { PersonalizationStore } from './ppp/PersonalizationStore';\n\nlet webRelativeUrl = '';\n/* istanbul ignore next */\nif (process.env.NODE_ENV === 'production') {\n  webRelativeUrl = '../';\n}\n\nsp.setup({\n  sp: {\n    baseUrl: '../',\n    headers: {\n      Accept: 'application/json;odata=verbose'\n    }\n  }\n});\n\nconst baristaService = new BaristaService(webRelativeUrl, '/ofsppp/api/');\n\nexport interface AppStore {\n  appService: AppService;\n  baristaService: BaristaService;\n  spContext: SPContext;\n  personalizationStore: PersonalizationStore;\n  processStore: ProcessStore;\n\n  processTemplateStore: ProcessTemplateStore;\n  processTemplateContainerStore: ProcessTemplateContainerStore;\n  processLogStore: ProcessLogStore;\n  reportingStore: ReportingStore;\n}\n\nconst spContext = new SPRestContext();\nconst processTemplateStore = new ProcessTemplateStore(baristaService);\nconst personalizationStore = new PersonalizationStore(baristaService, sessionStorage);\n\nexport const defaultAppStore: AppStore = {\n  appService: new AppRestService(),\n  spContext,\n  baristaService,\n  personalizationStore: personalizationStore,\n  processStore: new ProcessStore(baristaService),\n  processTemplateStore,\n  processTemplateContainerStore: new ProcessTemplateContainerStore(processTemplateStore),\n  processLogStore: new ProcessLogStore(baristaService),\n  reportingStore: new ReportingStore(baristaService)\n};\n\nexport const AppContext = React.createContext(defaultAppStore);\n","export enum MonitoringAndReviewStatus {\n  /**\n   * Indicates that it has not been started.\n   */\n  NotStarted = 'NotStarted',\n  /**\n   * Indicates that that Monitoring and Review has been marked as in Progress.\n   */\n  InProgress = 'InProgress',\n  /**\n   * Indicates that Monitoring and Review has been marked as completed,\n   */\n  Completed = 'Completed'\n}\n","import React from 'react';\nimport { Theme, createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport axios from 'axios';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    footer: {\n      marginTop: theme.spacing() * 8,\n      borderTop: `1px solid ${theme.palette.divider}`,\n      padding: `${theme.spacing() * 6}px 0`\n    },\n    layout: {\n      width: 'auto',\n      marginLeft: theme.spacing() * 1,\n      marginRight: theme.spacing() * 1,\n      [theme.breakpoints.up(1000 + theme.spacing() * 3 * 2)]: {\n        width: 1100,\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      }\n    }\n  });\n\nclass Footer extends React.Component<WithStyles, FooterState> {\n  private _isMounted: boolean = false;\n  constructor(props: WithStyles) {\n    super(props);\n    this.state = {\n      releaseName: ''\n    };\n  }\n\n  async componentWillMount() {\n    this._isMounted = true;\n    try {\n      const response = await axios.get('./release.txt');\n      if (this._isMounted === true) {\n        this.setState({\n          releaseName: response.data\n        });\n      }\n    } catch (err) {\n      if (this._isMounted === true) {\n        this.setState({\n          releaseName: 'Unknown'\n        });\n      }\n    }\n  }\n\n  public componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { releaseName } = this.state;\n    return (\n      <footer className={classes.footer + ' ' + classes.layout}>\n        <Grid container spacing={6} justify=\"flex-end\">\n          <Grid item>\n            <Typography variant=\"caption\">{releaseName}</Typography>\n          </Grid>\n        </Grid>\n      </footer>\n    );\n  }\n}\nexport default withStyles(styles)(Footer);\n\ninterface FooterState {\n  releaseName: string;\n}\n","import { createStyles, Theme } from '@material-ui/core/styles';\n\nexport const styles = (theme: Theme) =>\n  createStyles({\n    facebook2: {\n      color: '#6798e5',\n      animationDuration: '550ms'\n    },\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: theme.spacing() * 2,\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    },\n    textField: {\n      marginLeft: theme.spacing(),\n      marginRight: theme.spacing(),\n      marginTop: theme.spacing()\n    },\n    versionMenuItem: {\n      width: 200\n    }\n  });\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { Process } from '../../ppp';\nimport Grid from '@material-ui/core/Grid';\n\nclass UnsignProcessDialog extends React.Component<UnsignProcessDialogProps, UnsignProcessDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: UnsignProcessDialogProps) {\n    super(props);\n\n    this.state = {\n      reason: ''\n    };\n  }\n\n  @autobind\n  handleClick() {\n    this.props.handleUnsign(this.state.reason);\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose(false);\n    }\n  }\n\n  @autobind\n  handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      reason: event.target.value\n    });\n  }\n\n  render() {\n    const { classes, process, isUnsigning } = this.props;\n    const { reason } = this.state;\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-unsign-process-dialog-title\" fullWidth={true} maxWidth=\"xs\">\n        <DialogTitle id=\"confirm-unsign-process-dialog-title\">Unsign Process</DialogTitle>\n        <DialogContent>\n          <div>\n            Please provide a reason for unsigning the process,{' '}\n            <strong>\n              <i>{process.name}</i>\n            </strong>\n          </div>\n          <TextField required label=\"Unsign Reason\" onChange={this.handleChange} value={this.state.reason} fullWidth />\n        </DialogContent>\n        <DialogActions>\n          {isUnsigning && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isUnsigning && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.handleClick} color=\"primary\" disabled={reason.length < 3}>\n                Unsign\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(UnsignProcessDialog);\n\ninterface UnsignProcessDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (unsigned: boolean) => void;\n  process: Process;\n  handleUnsign: (reason: string) => any;\n  isUnsigning: boolean;\n}\n\ninterface UnsignProcessDialogState {\n  reason: string;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { Process } from '../../ppp';\nimport Grid from '@material-ui/core/Grid';\n\nclass RejectProcessDialog extends React.Component<RejectProcessDialogProps, RejectProcessDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: RejectProcessDialogProps) {\n    super(props);\n\n    this.state = {\n      reason: ''\n    };\n  }\n\n  @autobind\n  handleClick() {\n    this.props.handleReject(this.state.reason, undefined);\n  }\n\n  @autobind\n  handlePTClick() {\n    const templateId = this.props.process.template.id;\n    const procInstanceId = this.props.process.id;\n    const procInstanceName = this.props.process.name;\n    this.props.handleReject(this.state.reason, { templateId, procInstanceId, procInstanceName });\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose(false);\n    }\n  }\n\n  @autobind\n  handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      reason: event.target.value\n    });\n  }\n\n  render() {\n    const { classes, process, isRejectinging } = this.props;\n    const { reason } = this.state;\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-reject-process-dialog-title\" fullWidth={true} maxWidth=\"sm\">\n        <DialogTitle id=\"confirm-reject-process-dialog-title\">Reject Process</DialogTitle>\n        <DialogContent>\n          <div>\n            Please provide a reason for rejecting the process,{' '}\n            <strong>\n              <i>{process.name}</i>\n            </strong>\n          </div>\n          <TextField required label=\"Reject Reason\" onChange={this.handleChange} value={this.state.reason} fullWidth />\n        </DialogContent>\n        <DialogActions>\n          {isRejectinging && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isRejectinging && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.handleClick} color=\"primary\" disabled={reason.length < 3}>\n                Reject and Close\n              </Button>\n              <Button onClick={this.handlePTClick} color=\"primary\" disabled={reason.length < 3}>\n                Reject and Instantiate New Process Instance\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(RejectProcessDialog);\n\ninterface RejectProcessDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (rejected: boolean) => void;\n  process: Process;\n  handleReject: (\n    reason: string,\n    info?: {\n      templateId?: string;\n      procInstanceId: string;\n      procInstanceName: string;\n    }\n  ) => any;\n  isRejectinging: boolean;\n}\n\ninterface RejectProcessDialogState {\n  reason: string;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport orderBy from 'lodash/orderBy';\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport { Attachment } from '../../ppp';\nimport { Theme, createStyles, withStyles, WithStyles, Grid, Card, CardHeader, CardContent } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    attachmentChip: {\n      height: '24px',\n      margin: '2px'\n    },\n    attachmentChipLabel: {\n      paddingLeft: '0'\n    },\n    attachmentAvatar: {\n      margin: '5px',\n      height: '15px',\n      width: '15px'\n    }\n  });\n\nclass AttachmentsDisplay extends React.Component<AttachmentsDisplayProps> {\n  @autobind\n  handleAttachmentClicked(attachment: Attachment) {\n    window.open(this.props.origin + attachment.serverRelativeUrl, '_blank');\n  }\n\n  render() {\n    const { classes, attachments, origin, labelText } = this.props;\n    return (\n      <Grid item xs={12} style={{ margin: 0, padding: 0, backgroundColor: 'inherit' }}>\n        <Card style={{ display: 'flex', margin: 0, padding: 0, boxShadow: 'none', backgroundColor: 'inherit', borderColor: grey[100], borderWidth: '1px', borderStyle: 'solid' }}>\n          <CardHeader title={labelText} style={{ padding: 2, paddingRight: 5 }} titleTypographyProps={{ variant: 'body1' }} />\n          <CardContent style={{ padding: 0 }}>\n            {attachments &&\n              orderBy(attachments, ['fileName'], ['asc']).map(attachment => (\n                <Chip\n                  classes={{ label: classes.attachmentChipLabel, deleteIcon: classes.attachmentChipDeleteIcon }}\n                  className={classes.attachmentChip}\n                  key={attachment.fileName}\n                  avatar={<Avatar className={classes.attachmentAvatar} src={`${origin}${attachment.fileIconUrl || '/_layouts/images/ICGEN.GIF'}`} />}\n                  label={attachment.fileName}\n                  color=\"primary\"\n                  onClick={() => this.handleAttachmentClicked(attachment)}\n                />\n              ))}\n          </CardContent>\n        </Card>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(AttachmentsDisplay);\n\ninterface AttachmentsDisplayProps extends WithStyles {\n  attachments?: Attachment[];\n  origin: string;\n  labelText: string;\n}\n","import React from 'react';\nimport moment from 'moment';\nimport startCase from 'lodash/startCase';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport { Process } from '../../ppp';\nimport AttachmentsDisplay from '../controls/AttachmentsDisplay';\nimport { MonitoringAndReviewStatus } from '../../ppp/MonitoringAndReviewStatus';\n\nexport default class ProcessHeader extends React.Component<ProcessHeaderProps, { fy: string }> {\n  constructor(props: ProcessHeaderProps) {\n    super(props);\n    this.state = {\n      fy: ''\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ fy: this.props.process.fiscalYear || '' });\n  }\n\n  async componentDidUpdate() {\n    if (this.props.process.fiscalYear && this.props.process.fiscalYear !== this.state.fy) {\n      this.setState({ fy: this.props.process.fiscalYear });\n    } else {\n      //Leave it as is. This is a hack so that when data is saved and the fiscalYear is not included, the FY remains in the header.\n    }\n  }\n\n  render() {\n    const { classes, process, origin } = this.props;\n\n    return (\n      <Paper className={classes.paper}>\n        <Grid container className={classes.container} spacing={6} justify=\"space-between\">\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Status\" className={classes.textField} value={startCase(process.status)} />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Initiated On\" className={classes.textField} value={moment(process.initiatedOn).format('lll')} />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Initiated By\" className={classes.textField} value={process.initiatedBy && process.initiatedBy.displayName} />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField\n              fullWidth\n              label=\"M&amp;R Status\"\n              className={classes.textField}\n              value={process.monitoringAndReview ? process.monitoringAndReview.status.replace(/([a-z])([A-Z])/g, '$1 $2') : MonitoringAndReviewStatus.NotStarted.replace(/([a-z])([A-Z])/g, '$1 $2')}\n            />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Process Template\" className={classes.textField} value={process.template.title} />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Transacton Date\" className={classes.textField} value={process.transactionDate ? moment(new Date(process.transactionDate)).format('MM-DD-YYYY') : ''} />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Template Version\" className={classes.textField} value={process.template.version} />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Fiscal Year\" className={classes.textField} value={this.state.fy} />\n          </Grid>\n          {this.props.process && this.props.process.template && this.props.process.template.jobAidAttachments && this.props.process.template.jobAidAttachments.length > 0 && (\n            <Grid item xs={12}>\n              <AttachmentsDisplay origin={origin} attachments={this.props.process.template.jobAidAttachments} labelText={'Job Aids'} />\n            </Grid>\n          )}\n        </Grid>\n      </Paper>\n    );\n  }\n}\n\ninterface ProcessHeaderProps {\n  classes: {\n    paper: string;\n    container: string;\n    textField: string;\n  };\n  process: Process;\n  origin: string;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Select from '@material-ui/core/Select';\n\nexport default class ResponsiblePartyArea extends React.PureComponent<ResponsiblePartyAreaProps> {\n  @autobind\n  handleResponsiblePartyChange(event: React.ChangeEvent<{ name?: string | undefined; value: any }>) {\n    if (this.props.onResponsiblePartyChange) {\n      this.props.onResponsiblePartyChange(event.target.value);\n    }\n  }\n\n  renderResponsibleParties(): React.ReactElement<any>[] {\n    const components: React.ReactElement<any>[] = [];\n    components.push(\n      <option key=\"\" value=\"\">\n        No Responsible Party\n      </option>\n    );\n    for (const rp of this.props.availableResponsibleParties) {\n      components.push(\n        <option key={rp.text} value={rp.text}>\n          {rp.text}\n        </option>\n      );\n    }\n    return components;\n  }\n\n  render() {\n    const { classes, allowActions, isUpdatingResponsibleParty, responsibleParty, availableResponsibleParties } = this.props;\n    return (\n      <>\n        <Typography variant=\"caption\">Responsible Party</Typography>\n        {isUpdatingResponsibleParty && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.progressSpinner} size={24} thickness={4} />}\n        {!isUpdatingResponsibleParty && (\n          <Select native fullWidth value={responsibleParty} disabled={!allowActions} className={classes.responsiblePartyTextField} onChange={this.handleResponsiblePartyChange}>\n            {availableResponsibleParties && this.renderResponsibleParties()}\n          </Select>\n        )}\n      </>\n    );\n  }\n}\n\ninterface ResponsiblePartyAreaProps {\n  classes: {\n    progressSpinner: string;\n    responsiblePartyTextField?: string;\n  };\n  allowActions: boolean;\n  isUpdatingResponsibleParty: boolean;\n  responsibleParty: string;\n  availableResponsibleParties: { value: string; text: string }[];\n  onResponsiblePartyChange?: (newResponsibleParty: string) => void;\n}\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport { ActivityStatus, Activity } from '../../ppp';\n//import moment from 'moment';\nimport autobind from 'autobind-decorator';\nimport { AppContext } from '../../AppContext';\nimport { Tooltip } from '@material-ui/core';\n\nexport default class ActivityActionsArea extends React.PureComponent<ActivityActionsAreaProps, ActivityActionsState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: ActivityActionsAreaProps) {\n    super(props);\n\n    this.state = {\n      notRequiredDialogOpen: false,\n      currentUser: ''\n    };\n  }\n\n  async componentDidMount() {\n    const { currentUser } = this.state;\n\n    if (currentUser === '') {\n      try {\n        const user: any = await this.context.spContext.getCurrentUser();\n        if (user && user.Title && user.Title.length > 0) {\n          await this.setState({\n            currentUser: user.Title\n          });\n        }\n      } catch (err) {}\n    }\n  }\n\n  @autobind\n  getCompletedBy(activity: Activity) {\n    if (typeof activity.completedBy !== 'undefined') {\n      return activity.completedBy.displayName;\n    } else {\n      return '';\n    }\n  }\n\n  render() {\n    const { classes, activity, canCompleteActivity, isPerformingAction, allowActions } = this.props;\n    const { onMarkAsComplete, onMarkAsIncomplete, onMarkAsNotRequired, onMarkAsReviewed } = this.props;\n    const { currentUser } = this.state;\n\n    // const activityMarkedAsNotRequiredby = () => {\n    //   let msg = 'Activity has been marked as not required';\n    //   if (activity.notRequiredSet) {\n    //     if (activity.notRequiredSet.byUser) {\n    //       msg = `${msg} by ${activity.notRequiredSet.byUser.displayName} on ${moment(activity.notRequiredSet.onDate).format('lll')}`;\n    //     }\n    //   }\n    //   return msg;\n    // };\n\n    if (!allowActions) {\n      return null;\n    }\n\n    if (isPerformingAction) {\n      return <CircularProgress variant=\"indeterminate\" disableShrink className={classes.progressSpinner} size={24} thickness={4} />;\n    }\n\n    switch (activity.status) {\n      case ActivityStatus.Incomplete:\n        return (\n          <>\n            <Button size=\"small\" color=\"primary\" onClick={onMarkAsNotRequired}>\n              Mark activity as Not Required\n            </Button>\n            <Button size=\"small\" color=\"primary\" onClick={onMarkAsComplete} disabled={!canCompleteActivity}>\n              Complete Activity\n            </Button>\n          </>\n        );\n      case ActivityStatus.CompleteRequiresReview:\n        if (this.getCompletedBy(activity) === currentUser) {\n          return (\n            <Tooltip title=\"Activity Reviewer must be different from Activity Completer\">\n              <span>\n                <Button size=\"small\" color=\"primary\" disabled={this.getCompletedBy(activity) === currentUser} onClick={onMarkAsReviewed}>\n                  Mark as Reviewed\n                </Button>\n              </span>\n            </Tooltip>\n          );\n        } else {\n          return (\n            <Button size=\"small\" color=\"primary\" disabled={this.getCompletedBy(activity) === currentUser} onClick={onMarkAsReviewed}>\n              Mark as Reviewed\n            </Button>\n          );\n        }\n      case ActivityStatus.Complete:\n        return (\n          <Button size=\"small\" color=\"primary\" onClick={onMarkAsIncomplete}>\n            Mark activity as Incomplete\n          </Button>\n        );\n      case ActivityStatus.NotRequired:\n        return (\n          <>\n            {/* <div style={{ paddingLeft: '8px' }}>\n              <span>{activityMarkedAsNotRequiredby()}</span>\n            </div> */}\n            <Button size=\"small\" color=\"primary\" onClick={onMarkAsIncomplete}>\n              Mark activity as Required and Incomplete\n            </Button>\n          </>\n        );\n      default:\n        return <div>Unknown Status</div>;\n    }\n  }\n}\n\ninterface ActivityActionsState {\n  notRequiredDialogOpen: boolean;\n  currentUser: string;\n}\n\ninterface ActivityActionsAreaProps {\n  classes: {\n    progressSpinner: string;\n  };\n  activity: Activity;\n  canCompleteActivity: boolean;\n  isPerformingAction: boolean;\n  allowActions: boolean;\n  onMarkAsComplete: () => void;\n  onMarkAsIncomplete: () => void;\n  onMarkAsNotRequired: () => void;\n  onMarkAsReviewed: () => void;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport orderBy from 'lodash/orderBy';\n\nimport Dropzone from 'react-dropzone';\n\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\n\nimport { Attachment } from '../../ppp';\nimport { Process } from '../../ppp';\n//import { Activity } from '../../ppp';\n\nexport default class ActivityAttachmentsArea extends React.PureComponent<AttachmentsAreaProps, AttachmentsAreaState> {\n  @autobind\n  handleAttachmentDrop(acceptedFiles: File[]) {\n    if (!acceptedFiles || acceptedFiles.length !== 1) {\n      if (acceptedFiles.length == 0) {\n        alert('Please select one file at a time.');\n      }\n      return;\n    }\n\n    if (this.props.onAttachmentUpload) {\n      let isInvalidFileName = this.isFileNameInvalid(acceptedFiles[0]);\n      if (isInvalidFileName) {\n        return;\n      }\n      this.props.onAttachmentUpload(acceptedFiles[0]);\n    }\n  }\n\n  isFileNameInvalid(file: File) {\n    if (this.props.attachments)\n      for (var i = 0; i < this.props.attachments.length; i++) {\n        let fileName = this.props.attachments[i].originalFileName ? this.props.attachments[i].originalFileName : this.props.attachments[i].fileName;\n        if (fileName === file.name) {\n          return true;\n        }\n      }\n\n    /*let length100 = 100;\n     let length53 = 53;\n     let processTempName = 'Accounting and Financial Reporting';\n     if (this.props.process) {\n       if (this.props.process.functionArea === processTempName) {\n         if (file.name.length > length100) {\n           alert('Filename is too long'); // , max limit is ${length100} chars`);\n           return true;\n         }\n       } else {\n         if (file.name.length > length53) {\n           alert(`Filename is too long, max limit is ${length53} chars`);\n           return true;\n         }\n       }\n     }*/\n\n    let invalidFileExt = /\\.(ade|adp|asa|exe|ashx|asp|cmd|db|tmp|config|dll|ini|aspx|svc|lnk)$/i.test(file.name);\n    if (invalidFileExt) {\n      alert('Invalid File');\n      return invalidFileExt;\n    }\n\n    let regEx = /^(?!\\.)(?!com[0-9]$)(?!con$)(?!lpt[0-9]$)(?!nul$)(?!prn$)[^\\|\\*\\?\\\\:%&{}~#<>/\"]*[^\\.\\|\\*\\?\\\\:<>/$\"]+$/;\n    let inValidChars = regEx.test(file.name);\n    if (!inValidChars) {\n      alert('Invalid Filename');\n    }\n    return !inValidChars;\n  }\n\n  @autobind\n  handleAttachmentClicked(e: React.MouseEvent, process: Process, attachment: Attachment) {\n    if (this.props.onAttachmentClicked) {\n      e.stopPropagation();\n      this.props.onAttachmentClicked(process, attachment);\n    }\n  }\n\n  handleAnchorClick(e: any) {\n    e.stopPropagation();\n  }\n\n  @autobind\n  handleAttachmentDelete(attachment: Attachment) {\n    if (this.props.onAttachmentDelete) {\n      this.props.onAttachmentDelete(attachment);\n    }\n  }\n\n  getAttachmentAreaStyle(isDragActive: boolean) {\n    if (!isDragActive) {\n      return {};\n    }\n    return {\n      backgroundColor: '#eee'\n    };\n  }\n\n  render() {\n    const { classes, allowActions, isUploadingAttachment, attachments, origin, process } = this.props;\n    return (\n      <>\n        {process && isUploadingAttachment && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.progressSpinner} size={24} thickness={4} />}\n        {!isUploadingAttachment && (\n          <>\n            <Dropzone onDrop={this.handleAttachmentDrop} multiple={false} disabled={!allowActions}>\n              {({ getRootProps, getInputProps, isDragActive }) => (\n                <>\n                  <Typography variant=\"caption\" style={this.getAttachmentAreaStyle(isDragActive)}>\n                    <div {...getRootProps()}>\n                      <input {...getInputProps()} />\n                      <UploadIcon style={{ cursor: 'pointer' }} className={classes.uploadIcon} />\n                      <span style={{ cursor: 'pointer' }}>&nbsp;Attachments:</span>\n                      <div>\n                        {(!attachments || attachments.length <= 0) && (\n                          <Typography variant=\"caption\">\n                            <i>No Attachments</i>\n                          </Typography>\n                        )}\n                        {attachments &&\n                          attachments.length > 0 &&\n                          orderBy(attachments, ['fileName'], ['asc']).map(attachment => (\n                            <div key={attachment.fileName}>\n                              <Chip\n                                classes={{ label: classes.attachmentChipLabel, deleteIcon: classes.attachmentChipDeleteIcon }}\n                                className={classes.attachmentChip}\n                                key={attachment.fileName}\n                                avatar={<Avatar className={classes.attachmentAvatar} src={`${origin}${attachment.fileIconUrl || '/_layouts/images/ICGEN.GIF'}`} />}\n                                label={attachment.originalFileName ? attachment.originalFileName : attachment.fileName}\n                                color=\"secondary\"\n                                onClick={process ? e => this.handleAttachmentClicked(e, process, attachment) : undefined}\n                                onDelete={allowActions ? () => this.handleAttachmentDelete(attachment) : undefined}\n                              />\n                            </div>\n                          ))}\n                      </div>\n                    </div>\n                  </Typography>\n                </>\n              )}\n            </Dropzone>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\ninterface AttachmentsAreaState {\n  //process?: Process;\n}\ninterface AttachmentsAreaProps {\n  classes: {\n    attachmentAvatar: string;\n    attachmentChipLabel: string;\n    attachmentChipDeleteIcon: string;\n    attachmentChip: string;\n    progressSpinner: string;\n    uploadIcon: string;\n  };\n  allowActions: boolean;\n  isUploadingAttachment: boolean;\n  attachments?: Attachment[];\n  origin: string;\n  process?: Process;\n  //activity: Activity,\n  onAttachmentUpload?: (attachmentFile: File) => void;\n  //onAttachmentClicked?: (attachment: Attachment) => void;\n  onAttachmentClicked: (process: Process, attachment: Attachment) => void;\n  onAttachmentDelete?: (attachment: Attachment) => void;\n}\n","import 'draft-js/dist/Draft.css';\nimport React from 'react';\nimport { Editor, EditorState, RichUtils, getDefaultKeyBinding, ContentBlock, DraftHandleValue, CompositeDecorator, Entity, ContentState, CharacterMetadata } from 'draft-js';\nimport { stateFromHTML } from 'draft-js-import-html';\nimport autobind from 'autobind-decorator';\nimport { stateToHTML } from 'draft-js-export-html';\nimport { Button, Paper, Grid, Theme, createStyles, withStyles, WithStyles, TextField } from '@material-ui/core';\nimport Popover from '@material-ui/core/Popover';\nimport debounce from 'lodash/debounce';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1\n    },\n    hyperlinkPopover: {\n      padding: theme.spacing(),\n      backgroundColor: theme.palette.grey[50],\n      flexGrow: 1,\n      width: theme.spacing() * 90\n    }\n  });\n\nclass RichEditorEditor extends React.PureComponent<RichEditorEditorProps, RichEditorEditorState> {\n  private _editor: Editor | undefined;\n  private _isMounted = false;\n\n  debouncedEditorChange: (editorState: EditorState) => Promise<void>;\n\n  constructor(props: RichEditorEditorProps) {\n    super(props);\n    const decorator = new CompositeDecorator([\n      {\n        strategy: this.findLinkEntities,\n        component: this.Link\n      }\n    ]);\n    this.state = {\n      editorState: EditorState.createWithContent(stateFromHTML(props.rawText), decorator),\n      rawText: props.rawText,\n      showURLInput: false,\n      urlValue: '',\n      anchorEl: null\n    };\n    this.debouncedEditorChange = debounce(this.performEditorChange, this.props.waitForDebounce);\n  }\n\n  public async componentDidMount() {\n    this._isMounted = true;\n  }\n\n  public async componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  @autobind\n  async performEditorChange(editorState: EditorState) {\n    const contentState = editorState.getCurrentContent();\n    if (this._isMounted && this.props.rawText !== stateToHTML(contentState)) {\n      this.props.onChange(stateToHTML(contentState));\n    }\n  }\n\n  @autobind\n  setSetState(html: string) {\n    const decorator = new CompositeDecorator([\n      {\n        strategy: this.findLinkEntities,\n        component: this.Link\n      }\n    ]);\n    let editorState = EditorState.createWithContent(stateFromHTML(html), decorator);\n    this.setState({ editorState: editorState }, () => {\n      if (this._editor) {\n        this._editor.focus();\n      }\n    });\n  }\n\n  @autobind\n  handleBlur() {\n    this.props.onChanging && this.props.onChanging(true);\n  }\n\n  @autobind\n  handleFocus() {\n    this.props.onChanging && this.props.onChanging(false);\n  }\n\n  @autobind\n  onChange(editorState: EditorState) {\n    this.props.onChanging && this.props.onChanging(false);\n    this.setState({\n      editorState\n    });\n    this.debouncedEditorChange(editorState);\n  }\n\n  @autobind\n  focus() {\n    if (this._editor) {\n      this._editor.focus();\n    }\n  }\n\n  @autobind\n  handleKeyCommand(command: string, editorState: EditorState): DraftHandleValue {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      console.log('COMMENTS COMMENTS ');\n      this.onChange(newState);\n      return 'handled';\n    }\n    return 'not-handled';\n  }\n\n  @autobind\n  mapKeyToEditorCommand(e: React.KeyboardEvent): string | null {\n    if (e.keyCode === 9 /* TAB */) {\n      const newEditorState = RichUtils.onTab(e, this.state.editorState, 4 /* maxDepth */);\n      if (newEditorState !== this.state.editorState) {\n        this.onChange(newEditorState);\n      }\n      return null;\n    }\n    return getDefaultKeyBinding(e);\n  }\n\n  @autobind\n  onURLChange(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ urlValue: e.target.value });\n  }\n\n  @autobind\n  toggleBlockType(e: React.MouseEvent<HTMLSpanElement>, blockType: string) {\n    this.onChange(RichUtils.toggleBlockType(this.state.editorState, blockType));\n  }\n\n  @autobind\n  toggleInlineStyle(e: React.MouseEvent<HTMLSpanElement>, inlineStyle: string) {\n    if (inlineStyle === 'ANCHOR') {\n      this.setState(\n        {\n          anchorEl: e.currentTarget\n        },\n        () => {\n          this.handleAddLink();\n        }\n      );\n      return;\n    }\n    this.onChange(RichUtils.toggleInlineStyle(this.state.editorState, inlineStyle));\n  }\n\n  @autobind\n  getBlockStyle(block: ContentBlock): string {\n    switch (block.getType()) {\n      case 'blockquote':\n        return 'RichEditor-blockquote';\n      default:\n        return '';\n    }\n  }\n\n  @autobind\n  handleAddLink() {\n    const { editorState } = this.state;\n    const selection = editorState.getSelection();\n    if (!selection.isCollapsed()) {\n      this.setState({\n        showURLInput: true,\n        urlValue: ''\n      });\n    }\n  }\n\n  @autobind\n  closeLink() {\n    this.setState({ showURLInput: false, urlValue: '' }, () => {\n      if (this._editor) {\n        this._editor.focus();\n      }\n    });\n  }\n\n  @autobind\n  confirmLink(e: React.MouseEvent | React.KeyboardEvent) {\n    e.preventDefault();\n    const { editorState, urlValue } = this.state;\n    const entityKey = Entity.create('LINK', 'MUTABLE', { url: urlValue });\n    this.setState(\n      {\n        editorState: RichUtils.toggleLink(editorState, editorState.getSelection(), entityKey),\n        showURLInput: false,\n        urlValue: ''\n      },\n      () => {\n        this.props.onChange(stateToHTML(this.state.editorState.getCurrentContent()));\n        if (this._editor) {\n          this._editor.focus();\n        }\n      }\n    );\n  }\n\n  @autobind\n  Link(props: LinkProps) {\n    const { url } = props.contentState.getEntity(props.entityKey).getData();\n    return (\n      <a href={url} target=\"_blank\">\n        {props.children}\n      </a>\n    );\n  }\n\n  @autobind\n  findLinkEntities(contentBlock: ContentBlock, callback: any, contentState: ContentState) {\n    contentBlock.findEntityRanges((character: CharacterMetadata) => {\n      const entityKey = character.getEntity();\n      return entityKey !== null && contentState.getEntity(entityKey).getType() === 'LINK';\n    }, callback);\n  }\n\n  @autobind\n  onLinkInputKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\n    if (e.which === 13) {\n      this.confirmLink(e);\n    }\n  }\n\n  render() {\n    const { editorState } = this.state;\n    const { classes } = this.props;\n    // If the user changes block type before entering any text, we can\n    // either style the placeholder or hide it. Let's just hide it now.\n    let className = 'RichEditor-editor';\n    var contentState = editorState.getCurrentContent();\n    if (!contentState.hasText()) {\n      if (\n        contentState\n          .getBlockMap()\n          .first()\n          .getType() !== 'unstyled'\n      ) {\n        className += ' RichEditor-hidePlaceholder';\n      }\n    }\n\n    return (\n      <div className=\"RichEditor-root\">\n        <Popover\n          id=\"simple-popper\"\n          open={this.state.showURLInput}\n          anchorEl={this.state.anchorEl}\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'center'\n          }}\n          transformOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center'\n          }}\n        >\n          <Paper className={classes.hyperlinkPopover}>\n            <Grid className={classes.root} container spacing={0} justify=\"flex-end\" alignContent=\"flex-end\">\n              <Grid item xs={12}>\n                <TextField autoFocus={true} label=\"Enter URL\" fullWidth={true} onChange={this.onURLChange} placeholder=\"Enter Url\" value={this.state.urlValue} onKeyDown={this.onLinkInputKeyDown} />\n              </Grid>\n              <Grid item>\n                <Button onClick={this.confirmLink}>Confirm</Button>\n                <Button onClick={this.closeLink}>Close</Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        </Popover>\n\n        <BlockStyleControls editorState={editorState} onToggle={this.toggleBlockType} />\n        <InlineStyleControls editorState={editorState} onToggle={this.toggleInlineStyle} onAddLink={this.handleAddLink} />\n        <div className={className + ' rte'}>\n          <Editor\n            readOnly={this.props.readOnly}\n            ref={(editor: Editor) => (this._editor = editor)}\n            blockStyleFn={this.getBlockStyle}\n            customStyleMap={styleMap}\n            editorState={editorState}\n            handleKeyCommand={this.handleKeyCommand}\n            onBlur={this.handleBlur}\n            onFocus={this.handleFocus}\n            keyBindingFn={this.mapKeyToEditorCommand}\n            onChange={this.onChange}\n            placeholder={this.props.placeholder}\n            spellCheck={true}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n// Custom overrides for \"code\" style.\nconst styleMap = {\n  CODE: {\n    backgroundColor: 'rgba(0, 0, 0, 0.05)',\n    fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\n    fontSize: 16,\n    padding: 2\n  }\n};\n\nclass StyleButton extends React.Component<StyleButtonProps> {\n  constructor(props: StyleButtonProps) {\n    super(props);\n  }\n\n  @autobind\n  onToggle(e: React.MouseEvent<HTMLSpanElement>) {\n    e.preventDefault();\n    this.props.onToggle(e, this.props.style);\n  }\n\n  render() {\n    let className = 'RichEditor-styleButton';\n    if (this.props.active) {\n      className += ' RichEditor-activeButton';\n    }\n    return (\n      <span className={className} onMouseDown={this.onToggle}>\n        {this.props.label}\n      </span>\n    );\n  }\n}\n\nconst BLOCK_TYPES = [\n  { label: 'H1', style: 'header-one' },\n  { label: 'H2', style: 'header-two' },\n  { label: 'H3', style: 'header-three' },\n  { label: 'H4', style: 'header-four' },\n  { label: 'H5', style: 'header-five' },\n  { label: 'H6', style: 'header-six' },\n  { label: 'Blockquote', style: 'blockquote' },\n  { label: 'UL', style: 'unordered-list-item' },\n  { label: 'OL', style: 'ordered-list-item' },\n  { label: 'Code Block', style: 'code-block' }\n];\n\nconst BlockStyleControls = (props: BlockStyleControlsProps) => {\n  const { editorState } = props;\n  const selection = editorState.getSelection();\n  const blockType = editorState\n    .getCurrentContent()\n    .getBlockForKey(selection.getStartKey())\n    .getType();\n  return (\n    <div className=\"RichEditor-controls\">\n      {BLOCK_TYPES.map(type => (\n        <StyleButton key={type.label} active={type.style === blockType} label={type.label} onToggle={props.onToggle} style={type.style} />\n      ))}\n    </div>\n  );\n};\nconst INLINE_STYLES = [\n  { label: 'Bold', style: 'BOLD' },\n  { label: 'Italic', style: 'ITALIC' },\n  { label: 'Underline', style: 'UNDERLINE' },\n  { label: 'Monospace', style: 'CODE' },\n  { label: 'Create Hyperlink', style: 'ANCHOR' }\n];\n\nconst InlineStyleControls = (props: InlineStyleControlsProps) => {\n  const currentStyle = props.editorState.getCurrentInlineStyle();\n\n  return (\n    <div className=\"RichEditor-controls\">\n      {INLINE_STYLES.map(type => {\n        return <StyleButton key={type.label} active={currentStyle.has(type.style)} label={type.label} onToggle={props.onToggle} style={type.style} />;\n      })}\n    </div>\n  );\n};\n\ninterface RichEditorEditorProps extends WithStyles {\n  rawText: string;\n  onChange(rawText: string): void;\n  waitForDebounce?: number;\n  placeholder?: string;\n  onChanging?(completed: boolean): void;\n  readOnly?: boolean;\n}\n\ninterface RichEditorEditorState {\n  editorState: EditorState;\n  showURLInput: boolean;\n  urlValue: string;\n  rawText: string;\n  anchorEl: any;\n}\n\ninterface InlineStyleControlsProps {\n  editorState: EditorState;\n  onToggle(e: React.MouseEvent<HTMLSpanElement>, toggleBlockType: string): void;\n  onAddLink(): void;\n}\n\ninterface StyleButtonProps {\n  onToggle(e: React.MouseEvent<HTMLSpanElement>, style: string): void;\n  style: string;\n  active: boolean;\n  label: string;\n}\n\ninterface LinkProps {\n  contentState: ContentState;\n  entityKey: string;\n  children: any;\n  onToggle(e: React.MouseEvent<HTMLSpanElement>, toggleBlockType: string): void;\n}\n\ninterface BlockStyleControlsProps {\n  editorState: EditorState;\n  onToggle(e: React.MouseEvent<HTMLSpanElement>, toggleBlockType: string): void;\n}\n\nexport default withStyles(styles)(RichEditorEditor);\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport RichEditorEditor from '../controls/RichEditorEditor';\nimport DOMPurify from 'dompurify';\nimport { Activity } from '../../ppp';\nimport moment from 'moment';\n\nexport default class ActivityCommentsArea extends React.PureComponent<ActivityCommentsAreaProps> {\n  private waitForDebounce = 1500;\n  @autobind\n  handleCommentsChange(rawText: string) {\n    if (!this.props.allowActions && !this.props.expanded) {\n      return;\n    }\n    this.props.onCommentsChange(rawText, true);\n  }\n\n  render() {\n    const { classes, isUpdatingComments, allowActions, comments, expanded, activity } = this.props;\n    return (\n      <div className={classes.parentOverlay}>\n        <div>\n          <span className=\"MuiTypography-root MuiTypography-caption\">Activity Comments/Notes</span>\n          {isUpdatingComments && expanded && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.overlay} size={24} thickness={4} />}\n          {allowActions && expanded && (\n            <RichEditorEditor\n              rawText={comments}\n              onChange={this.handleCommentsChange}\n              placeholder={allowActions ? 'Enter any comments or notes associated with the activity' : 'No comments/notes entered'}\n              waitForDebounce={this.waitForDebounce}\n            />\n          )}\n          {!allowActions && expanded && (\n            <div style={{ width: '100%', border: '1px solid #ddd', padding: '5px', minHeight: '45px' }} dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(comments) }} />\n          )}\n        </div>\n        {activity.ActivityNotRequiredInfoSet && (\n          <div className={classes.parentOverlay} style={{ marginTop: '10px' }}>\n            <span className=\"MuiTypography-root MuiTypography-caption\">Activity Not Required Notes</span>\n            <div style={{ width: '100%', border: '1px solid #ddd', padding: '5px', minHeight: '45px' }}>\n              <ul style={{ marginLeft: '-12px' }}>\n                {activity.notRequiredSet && (\n                  <li style={{ marginBottom: '6px' }}>\n                    (No Comments)\n                    <i>\n                      by {activity.notRequiredSet.byUser && activity.notRequiredSet.byUser.displayName} on {moment(activity.notRequiredSet.onDate).format('lll')}\n                    </i>\n                  </li>\n                )}\n                {activity.ActivityNotRequiredInfoSet.map((elem, ii) => (\n                  <li key={ii} style={{ marginBottom: '6px' }}>\n                    {elem.comments}{' '}\n                    <i>\n                      by {elem.byUser && elem.byUser.displayName} on {moment(elem.onDate).format('lll')}\n                    </i>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\ninterface ActivityCommentsAreaProps {\n  classes: {\n    progressSpinner: string;\n    activityCommentsInput: string;\n    activityCommentsTextField: string;\n    overlay: string;\n    parentOverlay: string;\n  };\n  allowActions: boolean;\n  isUpdatingComments: boolean;\n  comments: string;\n  expanded: boolean;\n  activity: Activity;\n  onCommentsChange: (newComment: string, now?: boolean) => void;\n}\n","import { Theme, createStyles } from '@material-ui/core/styles';\n\nexport const styles = (theme: Theme) =>\n  createStyles({\n    progress: {\n      margin: theme.spacing() * 2,\n      color: '#00695c',\n      marginLeft: '50%',\n      marginTop: '20%'\n    },\n    paper: {\n      padding: '5px'\n    },\n    processIcon: {\n      fontSize: '40px'\n    },\n    textField: {},\n    toolbarTitle: {},\n    container: {\n      padding: '10px'\n    },\n    activityDescriptionColumn: {\n      flexBasis: '70%',\n      fontSize: '1.05rem'\n    },\n    activityAttachmentsColumn: {\n      flexBasis: '30%',\n      borderLeft: `2px solid ${theme.palette.divider}`,\n      padding: `${theme.spacing()}px ${theme.spacing() * 2}px`\n    },\n    activityCardHeading: {},\n    activityCommentsTextField: {\n      width: '100%',\n      marginLeft: theme.spacing(),\n      marginRight: theme.spacing()\n    },\n    cardSummaryExpanded: {\n      backgroundColor: 'rgb(253,253,253)',\n      borderRadius: 10\n    },\n    activityCommentsInput: {\n      fontSize: '12px'\n    },\n    attachmentChip: {\n      height: '24px',\n      margin: '2px'\n    },\n    attachmentChipLabel: {\n      paddingLeft: '0'\n    },\n    attachmentChipDeleteIcon: {\n      height: '15px',\n      width: '15px'\n    },\n    attachmentAvatar: {\n      margin: '5px',\n      height: '15px',\n      width: '15px'\n    },\n    responsiblePartyTextField: {\n      marginLeft: theme.spacing(),\n      marginRight: theme.spacing(),\n      marginBottom: '10px'\n    },\n    responsiblePartyMenuItem: {\n      width: 200\n    },\n    highlight: {\n      color: theme.palette.primary.main\n    },\n    helpIcon: {\n      fontSize: '12px',\n      marginLeft: '5px',\n      marginRight: '5px',\n      position: 'relative'\n    },\n    uploadIcon: {\n      position: 'relative',\n      bottom: '-5px'\n    },\n    progressSpinner: {\n      color: '#6798e5',\n      animationDuration: '550ms'\n    },\n    parentOverlay: {\n      position: 'relative',\n      flexBasis: '70%'\n    },\n    overlay: {\n      position: 'absolute',\n      top: -10,\n      left: 10,\n      'z-index': 10\n    },\n    snackbarError: {\n      backgroundColor: theme.palette.error.dark\n    },\n    snackbarInfo: {},\n    close: {\n      padding: theme.spacing(0.5)\n    }\n  });\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport { WithStyles, withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { styles } from './styles';\n\nclass ConfirmationDialog extends React.Component<ConfirmationDialogProps, {}> {\n  @autobind\n  handleClose(event: React.MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.onClose();\n  }\n\n  render() {\n    const { title, message, children } = this.props;\n\n    return (\n      <div>\n        <Dialog fullScreen={false} open={this.props.open} onClose={this.handleClose} aria-labelledby=\"responsive-dialog-title\">\n          <DialogTitle id=\"responsive-dialog-title\">{title}</DialogTitle>\n          <DialogContent>\n            {message && <DialogContentText>{message}</DialogContentText>}\n            {children}\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\" autoFocus>\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\ninterface ConfirmationDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose: () => void;\n  title: string;\n  message?: string;\n  children?: any;\n}\n\nexport default withStyles(styles)(ConfirmationDialog);\n","import React from 'react';\n\nimport autobind from 'autobind-decorator';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, DialogContentText } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nexport default class ActivityNotRequiredComment extends React.PureComponent<ActivityNotRequiredCommentProps> {\n  @autobind\n  async handleNotRequiredCommentChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.props.onNotRequiredCommentChange(event.target.value, (event.target as any).now);\n  }\n\n  render() {\n    const { notRequiredDialogOpen, handleNRDClose, handleNRDSave, notRequiredComments } = this.props;\n    return (\n      <Dialog open={notRequiredDialogOpen} onClose={handleNRDClose}>\n        <DialogTitle id=\"not-required-comment-title\">Activity Not Required Comment</DialogTitle>\n        <DialogContent>\n          <DialogContentText>Please provide a note on this activity not being required for completion of the process:</DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"notRequiredComment\"\n            label=\"Activity Not Required Comment\"\n            onChange={this.handleNotRequiredCommentChange}\n            value={notRequiredComments}\n            type=\"Text\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleNRDSave} disabled={notRequiredComments.length < 5} color=\"primary\">\n            Save Comment\n          </Button>\n          <Button onClick={handleNRDClose} color=\"primary\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\ninterface ActivityNotRequiredCommentProps {\n  notRequiredDialogOpen: boolean;\n  handleNRDClose: () => void;\n  handleNRDSave: () => void;\n  notRequiredComments: string;\n  onNotRequiredCommentChange: (newComment: string, now?: boolean) => void;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport find from 'lodash/find';\nimport debounce from 'lodash/debounce';\nimport truncate from 'lodash/truncate';\n\nimport moment from 'moment';\nimport DOMPurify from 'dompurify';\n\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport HelpIcon from '@material-ui/icons/Help';\nimport ActionIcon from '@material-ui/icons/Error';\nimport DoneIcon from '@material-ui/icons/Done';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\n//import NotRequiredIcon from '@material-ui/icons/NotInterested';\n\nimport { Activity, ActivityStatus, ProcessTemplate, Attachment, ActivityTemplate, Process } from '../../ppp';\nimport ResponsiblePartyArea from './ResponsiblePartyArea';\nimport ActivityActionsArea from './ActivityActionsArea';\nimport ActivityAttachmentsArea from './ActivityAttachmentsArea';\nimport ActivityCommentsArea from './ActivityCommentsArea';\nimport { styles } from './styles';\nimport ConfirmationDialog from '../dialogs/ConfirmationDialog';\nimport { Grid } from '@material-ui/core';\nimport AttachmentsDisplay from '../controls/AttachmentsDisplay';\nimport { AppContext } from '../../AppContext';\nimport ActivityNotRequiredComment from './ActivityNotRequiredComment';\n\nclass ActivityCard extends React.Component<ActivityCardProps, ActivityCardState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  debouncedPerformCommentsChange: (comments: string) => Promise<void>;\n\n  constructor(props: ActivityCardProps) {\n    super(props);\n\n    let activityTemplate = find(props.template.activities, { id: props.activity.id });\n\n    if (!activityTemplate) {\n      activityTemplate = {\n        allowAttachments: false,\n        dependsOnPreviousActivity: false,\n        description: '',\n        id: '',\n        requireAttachments: false,\n        requiresReview: false,\n        responsibleParty: '',\n        showTooltip: false,\n        jobAidAttachments: []\n      };\n    }\n\n    this.state = {\n      isPerformingAction: false,\n      isUpdatingResponsibleParty: false,\n      isUpdatingComments: false,\n      isUploadingAttachment: false,\n      showInactivateWarningDialog: false,\n      comments: props.activity.comments,\n      activityTemplate,\n      notRequiredComments: '',\n      notRequiredDialogOpen: false\n    };\n\n    this.debouncedPerformCommentsChange = debounce(this.performCommentsChange, 1500);\n  }\n\n  @autobind\n  async handleMarkAsCompleteClicked() {\n    this.setState({\n      isPerformingAction: true\n    });\n\n    await this.props.onMarkAsComplete(this.props.activity);\n\n    this.setState({\n      isPerformingAction: false\n    });\n  }\n\n  @autobind\n  async handleMarkAsIncompleteClicked() {\n    const { shouldShowWarningIfStatusChanges } = this.props;\n    if (shouldShowWarningIfStatusChanges) {\n      this.setState({\n        showInactivateWarningDialog: true\n      });\n    }\n\n    this.setState({\n      isPerformingAction: true\n    });\n\n    await this.props.onMarkAsIncomplete(this.props.activity);\n\n    this.setState({\n      isPerformingAction: false\n    });\n  }\n\n  @autobind\n  async handleMarkAsReviewedClicked() {\n    this.setState({\n      isPerformingAction: true\n    });\n\n    await this.props.onMarkAsReviewed(this.props.activity);\n\n    this.setState({\n      isPerformingAction: false\n    });\n  }\n\n  @autobind\n  async handleMarkAsNotRequiredClicked() {\n    this.setState({\n      notRequiredDialogOpen: true\n    });\n  }\n\n  @autobind\n  handleNRDClose() {\n    this.setState({\n      notRequiredDialogOpen: false\n    });\n  }\n\n  @autobind\n  async handleNRDSave() {\n    this.setState({\n      isPerformingAction: true\n    });\n    await this.setState((prevState, props) => {\n      //return { comments: prevState.comments + '\\n\\n Activity Not Required Note: ' + prevState.notRequiredComments };\n      return { notRequiredComments: prevState.notRequiredComments };\n    });\n\n    //await this.props.onActivityNotReqCommentsUpdated(this.props.activity, this.state.comments);\n    await this.props.onMarkAsNotRequired(this.props.activity, this.state.notRequiredComments);\n\n    this.setState({\n      notRequiredDialogOpen: false,\n      isPerformingAction: false\n    });\n  }\n\n  @autobind\n  handleAttachmentClicked(process: Process, attachment: Attachment) {\n    let siteName = '/' + attachment.serverRelativeUrl.split('/')[1];\n    var code = encodeURIComponent('/ofsppp/api/Process/downloadProcessActivityAttachment.js');\n    var fileName = encodeURIComponent(attachment.fileName);\n    let originalFileName = attachment.originalFileName ? attachment.originalFileName : attachment.fileName;\n    originalFileName = encodeURIComponent(originalFileName);\n    window.open(\n      `${this.props.origin + siteName}/_vti_bin/barista/v1/barista.svc/eval?c=${code}&processId=${process.id}&activityId=${\n        this.props.activity.id\n      }&fileName=${fileName}&originalFileName=${originalFileName}`\n    );\n  }\n\n  @autobind\n  async handleAttachmentUpload(attachmentFile: File) {\n    this.setState({\n      isPerformingAction: true,\n      isUploadingAttachment: true\n    });\n\n    await this.props.onAttachmentUpload(this.props.activity, attachmentFile);\n\n    this.setState({\n      isPerformingAction: false,\n      isUploadingAttachment: false\n    });\n  }\n\n  @autobind\n  async handleAttachmentDelete(attachment: Attachment) {\n    this.setState({\n      isPerformingAction: true,\n      isUploadingAttachment: true\n    });\n\n    await this.props.onAttachmentDelete(this.props.activity, attachment);\n\n    this.setState({\n      isPerformingAction: false,\n      isUploadingAttachment: false\n    });\n  }\n\n  @autobind\n  async handleResponsiblePartyChange(newResponsibleParty: string) {\n    this.setState({\n      isUpdatingResponsibleParty: true,\n      isPerformingAction: true\n    });\n\n    await this.props.onResponsiblePartyUpdated(this.props.activity, newResponsibleParty);\n\n    this.setState({\n      isUpdatingResponsibleParty: false,\n      isPerformingAction: false\n    });\n  }\n\n  @autobind\n  async handleCommentsChange(newComments: string, now?: boolean) {\n    this.setState({\n      comments: newComments\n    });\n\n    if (now === true) {\n      this.performCommentsChange(newComments);\n    } else {\n      /* istanbul ignore next */\n      this.debouncedPerformCommentsChange(newComments);\n    }\n  }\n\n  @autobind\n  onNotRequiredCommentChange(newComment: string, now?: boolean) {\n    this.setState({\n      notRequiredComments: newComment\n    });\n  }\n\n  @autobind\n  async performCommentsChange(comments: string) {\n    this.setState({\n      isUpdatingComments: true\n    });\n    await this.props.onCommentsUpdated(this.props.activity, comments);\n    this.setState({\n      isUpdatingComments: false\n    });\n  }\n\n  @autobind\n  handleCloseInactivateWarningDialog() {\n    this.setState({\n      showInactivateWarningDialog: false\n    });\n  }\n\n  getActivityPanelStyle(activity: Activity, activityDepth: number, expanded: boolean): React.CSSProperties {\n    const result: React.CSSProperties = {\n      marginLeft: `${activityDepth * 15}px`,\n      pageBreakAfter: 'always'\n    };\n    let opacity = expanded ? 0.5 : 1;\n    switch (activity.status) {\n      case ActivityStatus.Incomplete:\n        result.background = `RGB(252,225,229, ${opacity})`; //  '#FCE1E5';\n        break;\n      case ActivityStatus.NotRequired:\n        result.background = `RGB(234,234,234, ${opacity})`; //  '#EAEAEA';'\n        break;\n      case ActivityStatus.Complete:\n        result.background = `RGB(230,245,208, ${opacity})`; // '#e6f5d0';\n        break;\n      case ActivityStatus.CompleteRequiresReview:\n        result.background = `RGB(245,243,208, ${opacity})`; // '#f5f3d0';\n        break;\n      default:\n        result.background = 'white';\n    }\n\n    return result;\n  }\n\n  get allowActions(): boolean {\n    if (!this.props.allowActions) {\n      return false;\n    }\n\n    switch (this.props.activity.status) {\n      case ActivityStatus.Complete:\n      case ActivityStatus.CompleteRequiresReview:\n      case ActivityStatus.NotRequired:\n        return false;\n      default:\n        return true;\n    }\n  }\n\n  get canCompleteActivity(): boolean {\n    const { activity, isPreviousActivityCompleted } = this.props;\n    const { activityTemplate } = this.state;\n    if (activityTemplate.requireAttachments && (!activity.attachments || activity.attachments.length <= 0)) {\n      return false;\n    }\n\n    if (activityTemplate.dependsOnPreviousActivity && !isPreviousActivityCompleted) {\n      return false;\n    }\n\n    return true;\n  }\n\n  get activitySummaryText(): string {\n    const { activityTemplate } = this.state;\n    const text = new DOMParser().parseFromString(activityTemplate.description, 'text/html');\n    if (text.body && text.body.textContent) {\n      return truncate((text.body.textContent || '').trim(), { length: 50 });\n    } else {\n      return '[ Not Available ]';\n    }\n  }\n\n  get activityActionTooltipText(): string {\n    const { activity } = this.props;\n    switch (activity.status) {\n      case ActivityStatus.Incomplete:\n        return 'This activity has yet to be completed.';\n      case ActivityStatus.CompleteRequiresReview:\n        return 'This activity has been completed, but requires secondary review.';\n      default:\n        return '';\n    }\n  }\n\n  render() {\n    const { index, classes, expanded, activity, activityDepth, responsibleParties, origin, jobAidAttachments, process } = this.props;\n    const {\n      notRequiredComments,\n      notRequiredDialogOpen,\n      activityTemplate,\n      isPerformingAction,\n      isUpdatingResponsibleParty,\n      isUploadingAttachment,\n      showInactivateWarningDialog,\n      isUpdatingComments\n    } = this.state;\n\n    if (!activityTemplate.id) {\n      return <div>Error. Activity Template not found.</div>;\n    }\n\n    if (activity.responsibleParty == '') {\n      activity.responsibleParty = 'No Responsible Party';\n    }\n    const createMarkup = () => {\n      return { __html: DOMPurify.sanitize(activityTemplate.description) };\n    };\n\n    return (\n      <>\n        <ExpansionPanel\n          expanded={expanded}\n          onChange={(e, ex) => this.props.onExpanded(activity, ex)}\n          style={this.getActivityPanelStyle(activity, activityDepth, expanded)}\n          classes={{ expanded: classes.cardSummaryExpanded }}\n        >\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n            <Typography className={classes.activityCardHeading}>\n              <span style={{ paddingRight: '15px' }}>\n                {activity.status !== ActivityStatus.Complete && activity.status !== ActivityStatus.NotRequired && (\n                  <Tooltip title={this.activityActionTooltipText}>\n                    <ActionIcon style={{ fontSize: '15px' }} />\n                  </Tooltip>\n                )}\n\n                {activity.completedBy && !activity.reviewedBy && (\n                  <Tooltip\n                    title={\n                      <>\n                        <span>\n                          Completed on {moment(activity.completedOn).format('lll')} by {activity.completedBy.displayName}\n                        </span>\n                      </>\n                    }\n                  >\n                    <DoneIcon style={{ fontSize: '15px' }} />\n                  </Tooltip>\n                )}\n                {activity.completedBy && activity.reviewedBy && (\n                  <Tooltip\n                    title={\n                      <>\n                        <span>\n                          Completed on {moment(activity.completedOn).format('lll')} by {activity.completedBy.displayName}\n                        </span>\n                        <br />\n                        <span>\n                          Reviewed on {moment(activity.reviewedOn).format('lll')} by {activity.reviewedBy.displayName}\n                        </span>\n                      </>\n                    }\n                  >\n                    <DoneAllIcon style={{ fontSize: '15px' }} />\n                  </Tooltip>\n                )}\n                {activityTemplate.tooltip && activityTemplate.tooltip.length > 0 && (\n                  <Tooltip title={activityTemplate.tooltip || ''}>\n                    <b>\n                      Activity #{index + 1}&nbsp;{activityTemplate.tooltip ? <HelpIcon className={classes.helpIcon} /> : null}\n                    </b>\n                  </Tooltip>\n                )}\n                {!activityTemplate.tooltip && <b>Activity #{index + 1}&nbsp; </b>}\n              </span>\n              {!expanded && <span>{this.activitySummaryText}</span>}\n              {!expanded && activity.responsibleParty !== '' && (\n                <span style={{ paddingLeft: '40px' }}>\n                  <b>Responsible Party :</b>&nbsp;{activity.responsibleParty}\n                </span>\n              )}\n              <span className=\"printable\">\n                <br />\n                {activity.completedBy && (\n                  <span>\n                    Completed On&nbsp;\n                    <span className={classes.highlight}>{moment(activity.completedOn).format('lll')}</span> by&nbsp;\n                    <span className={classes.highlight}>{activity.completedBy.displayName}</span>\n                  </span>\n                )}\n                {activity.reviewedBy && (\n                  <span>\n                    Reviewed On&nbsp;\n                    <span className={classes.highlight}>{moment(activity.reviewedOn).format('lll')}</span> by&nbsp;\n                    <span className={classes.highlight}>{activity.reviewedBy.displayName}</span>\n                  </span>\n                )}\n                {activity.status === ActivityStatus.NotRequired && (\n                  <span style={{ paddingLeft: '5px' }}>\n                    <i>Not Required</i>\n                  </span>\n                )}\n              </span>\n            </Typography>\n          </ExpansionPanelSummary>\n          <ExpansionPanelDetails>\n            <Grid container spacing={0} style={{ margin: 0, padding: 0 }}>\n              <Grid item xs={12}>\n                <div className={classes.activityDescriptionColumn + ' rte'} dangerouslySetInnerHTML={createMarkup()} />\n              </Grid>\n              {jobAidAttachments && jobAidAttachments.length > 0 && <AttachmentsDisplay origin={origin} attachments={jobAidAttachments} labelText={'Job Aids'} />}\n            </Grid>\n            <div className={classes.activityAttachmentsColumn}>\n              <ResponsiblePartyArea\n                classes={classes}\n                allowActions={this.allowActions}\n                isUpdatingResponsibleParty={isUpdatingResponsibleParty}\n                responsibleParty={activity.responsibleParty}\n                availableResponsibleParties={responsibleParties}\n                onResponsiblePartyChange={this.handleResponsiblePartyChange}\n              />\n              {activityTemplate.allowAttachments && (\n                <ActivityAttachmentsArea\n                  classes={classes}\n                  allowActions={this.allowActions}\n                  isUploadingAttachment={isUploadingAttachment}\n                  attachments={activity.attachments}\n                  origin={origin}\n                  process={process}\n                  onAttachmentClicked={this.handleAttachmentClicked}\n                  onAttachmentUpload={this.handleAttachmentUpload}\n                  onAttachmentDelete={this.handleAttachmentDelete}\n                />\n              )}\n            </div>\n          </ExpansionPanelDetails>\n          <ExpansionPanelActions>\n            <ActivityCommentsArea\n              classes={classes}\n              allowActions={this.allowActions}\n              isUpdatingComments={isUpdatingComments}\n              comments={this.state.comments}\n              onCommentsChange={this.handleCommentsChange}\n              expanded={expanded}\n              activity={activity}\n            />\n            <div style={{ flexBasis: '30%' }}>\n              <ActivityActionsArea\n                classes={classes}\n                isPerformingAction={isPerformingAction}\n                activity={activity}\n                allowActions={this.props.allowActions}\n                canCompleteActivity={this.canCompleteActivity}\n                onMarkAsComplete={this.handleMarkAsCompleteClicked}\n                onMarkAsIncomplete={this.handleMarkAsIncompleteClicked}\n                onMarkAsNotRequired={this.handleMarkAsNotRequiredClicked}\n                onMarkAsReviewed={this.handleMarkAsReviewedClicked}\n              />\n              <ActivityNotRequiredComment\n                notRequiredDialogOpen={notRequiredDialogOpen}\n                handleNRDClose={this.handleNRDClose}\n                handleNRDSave={this.handleNRDSave}\n                notRequiredComments={notRequiredComments}\n                onNotRequiredCommentChange={this.onNotRequiredCommentChange}\n              />\n            </div>\n          </ExpansionPanelActions>\n          <ExpansionPanelActions style={{ padding: '0' }}>\n            {activityTemplate.requiresReview && (\n              <Typography variant=\"caption\" style={{ paddingRight: '15px' }}>\n                Requires Secondary Review\n              </Typography>\n            )}\n            {activityTemplate.dependsOnPreviousActivity && (\n              <Typography variant=\"caption\" style={{ paddingRight: '15px' }}>\n                Depends on Previous Activity\n              </Typography>\n            )}\n            {activityTemplate.requireAttachments && (\n              <Typography variant=\"caption\" style={{ paddingRight: '15px' }}>\n                Attachments are required\n              </Typography>\n            )}\n          </ExpansionPanelActions>\n        </ExpansionPanel>\n        <ConfirmationDialog open={showInactivateWarningDialog} title=\"Activity has a completed dependent child activity\" onClose={this.handleCloseInactivateWarningDialog}>\n          <>\n            <p>The activity you have just marked as incomplete had a dependent child activity that was already completed.</p>\n            <p>This is just a notification that you did this, and there's nothing wrong with doing so, it's just that you did it and here we are.</p>\n            <p>Keep Calm and Carry On.</p>\n          </>\n        </ConfirmationDialog>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(ActivityCard);\n\ninterface ActivityCardProps extends WithStyles<typeof styles> {\n  expanded: boolean;\n  index: number;\n  activity: Activity;\n  activityDepth: number;\n  template: ProcessTemplate;\n  isPreviousActivityCompleted: boolean;\n  shouldShowWarningIfStatusChanges: boolean;\n  allowActions: boolean;\n  origin: string;\n  responsibleParties: { value: string; text: string }[];\n  jobAidAttachments?: Attachment[];\n  process: Process;\n  onExpanded: (activity: Activity, expanded: boolean) => Promise<void>;\n  onMarkAsComplete: (activity: Activity) => Promise<void>;\n  onMarkAsIncomplete: (activity: Activity) => Promise<void>;\n  onMarkAsNotRequired: (activity: Activity, comments: string) => Promise<void>;\n  onMarkAsReviewed: (activity: Activity) => Promise<void>;\n  onAttachmentUpload: (activity: Activity, file: File) => Promise<void>;\n  onAttachmentDelete: (activity: Activity, attachment: Attachment) => Promise<void>;\n  onResponsiblePartyUpdated: (activity: Activity, responsibleParty: string) => Promise<void>;\n  onCommentsUpdated: (activity: Activity, newComment: string) => Promise<void>;\n  //onActivityNotReqCommentsUpdated: (activity: Activity, newComment: string) => Promise<void>;\n}\n\ninterface ActivityCardState {\n  isPerformingAction: boolean;\n  isUpdatingComments: boolean;\n  isUpdatingResponsibleParty: boolean;\n  isUploadingAttachment: boolean;\n  showInactivateWarningDialog: boolean;\n  comments: string;\n  activityTemplate: ActivityTemplate;\n  notRequiredComments: string;\n  notRequiredDialogOpen: boolean;\n}\n","import React from 'react';\nimport moment from 'moment';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport ProcessInitiatedIcon from '@material-ui/icons/Assignment';\nimport ProcessActiveIcon from '@material-ui/icons/AssignmentReturned';\nimport ProcessCompletedNotSignedIcon from '@material-ui/icons/AssignmentInd';\nimport ProcessCompletedAndSignedIcon from '@material-ui/icons/AssignmentTurnedIn';\nimport NotificationImportantOutlinedIcon from '@material-ui/icons/NotificationImportantOutlined';\nimport { Process, ProcessStatus } from '../../ppp';\nimport autobind from 'autobind-decorator';\nimport { Tooltip } from '@material-ui/core';\n\nexport default class ProcessStatusCard extends React.Component<ProcessStatusCardProps, { rejectOpen: boolean; anchorEl: any }> {\n  constructor(props: any) {\n    super(props);\n    this.state = { rejectOpen: false, anchorEl: null };\n  }\n\n  @autobind\n  handleRejectActions(event: React.MouseEvent<HTMLButtonElement, MouseEvent>) {\n    this.props.beginReject('1');\n    this.setState({ rejectOpen: false, anchorEl: null });\n  }\n\n  @autobind\n  handleToggle(event: React.MouseEvent<HTMLButtonElement>) {\n    const anchorEl = event.currentTarget.parentElement;\n    if (anchorEl) {\n      this.setState((state, props) => {\n        return { rejectOpen: !state.rejectOpen, anchorEl };\n      });\n    }\n  }\n\n  @autobind\n  handleRejectClose(event: React.MouseEvent<Document, MouseEvent>) {\n    this.setState({ rejectOpen: false, anchorEl: null });\n  }\n\n  @autobind\n  handleGoToRejectedProcess(id: string) {\n    if (this.props.onNavigateToRejectedProcess) {\n      this.props.onNavigateToRejectedProcess(id);\n    }\n  }\n\n  getAssociatedRejectedInfo(process: Process) {\n    return (\n      process.relatedRejectedProcessInstance && (\n        <>\n          <div>Associated rejected process:</div>\n          <div style={{ marginTop: 10 }}>\n            <Button\n              size=\"small\"\n              onClick={() => {\n                if (process.relatedRejectedProcessInstance) {\n                  this.handleGoToRejectedProcess(process.relatedRejectedProcessInstance.id);\n                }\n              }}\n            >\n              <NotificationImportantOutlinedIcon />\n              <span style={{ fontWeight: 800 }}>{` ${process.relatedRejectedProcessInstance.name}`} </span>\n            </Button>\n          </div>\n        </>\n      )\n    );\n  }\n\n  render() {\n    const { classes, process, beginSignOff, beginUnsign } = this.props;\n\n    return (\n      <Card>\n        <CardHeader title=\"Process Status:\" />\n        {(() => {\n          switch (process.status) {\n            case ProcessStatus.Initiated:\n              return (\n                <>\n                  <CardContent>\n                    <ProcessInitiatedIcon className={classes.processIcon} />\n                    <div>This Process is newly initiated</div>\n                    {this.getAssociatedRejectedInfo(process)}\n                  </CardContent>\n                  <CardActions>\n                    <div style={{ marginTop: 5 }}>\n                      <Button title=\"Reject Process Instance\" onClick={this.handleRejectActions} color=\"primary\" style={{ flex: 1 }}>\n                        Reject (with reason)\n                      </Button>\n                    </div>\n                  </CardActions>\n                </>\n              );\n            case ProcessStatus.Active:\n              return (\n                <>\n                  <CardContent>\n                    <ProcessActiveIcon className={classes.processIcon} />\n                    <div>This Process is currently active</div>\n                    {this.getAssociatedRejectedInfo(process)}\n                  </CardContent>\n                  <CardActions>\n                    <div style={{ marginTop: 5 }}>\n                      <Button title=\"Reject Process Instance\" onClick={this.handleRejectActions} color=\"primary\" style={{ flex: 1 }}>\n                        Reject (with reason)\n                      </Button>\n                    </div>\n                  </CardActions>\n                </>\n              );\n            case ProcessStatus.CompletedNotSigned:\n              return (\n                <>\n                  <CardContent>\n                    <ProcessCompletedNotSignedIcon className={classes.processIcon} />\n                    <div>All activities associated with this process have been completed. This process now requires final signoff.</div>\n                    <div style={{ paddingTop: '20px' }}>\n                      <strong>By clicking the Sign Off button below, I acknowledge that all activities have been reviewed and completed.</strong>\n                    </div>\n                    {this.getAssociatedRejectedInfo(process)}\n                  </CardContent>\n                  <CardActions>\n                    <Button onClick={beginSignOff} color=\"primary\" style={{ flex: 1 }}>\n                      Sign off\n                    </Button>\n                    <div style={{ marginTop: 5 }}>\n                      <Button title=\"Reject Process Instance\" onClick={this.handleRejectActions} color=\"primary\" style={{ flex: 1 }}>\n                        Reject (with reason)\n                      </Button>\n                    </div>\n                  </CardActions>\n                </>\n              );\n            case ProcessStatus.CompletedAndSigned:\n              return (\n                <CardContent>\n                  <ProcessCompletedAndSignedIcon className={classes.processIcon} />\n                  <div>\n                    <strong>This process has been completed and Signed Off:</strong>\n                  </div>\n                  <div>\n                    Signed By: <strong>{process.signOff!.signer.displayName}</strong>\n                  </div>\n                  <div>\n                    Signed On: <strong>{moment(process.signOff!.timeStamp).format('lll')}</strong>\n                  </div>\n                  <br />\n                  <div>\n                    <Button onClick={beginUnsign} color=\"primary\" style={{ flex: 1 }}>\n                      Unsign Process\n                    </Button>\n                  </div>\n                  {this.getAssociatedRejectedInfo(process)}\n                </CardContent>\n              );\n            case ProcessStatus.Rejected:\n              return (\n                <CardContent>\n                  <Tooltip title={`Reasons: ${process.rejection!.reason}`}>\n                    <div>\n                      <ProcessCompletedAndSignedIcon className={classes.processIcon} />\n                      <div>\n                        <strong>This process has been rejected</strong>\n                      </div>\n                      <div>\n                        Rejected By: <strong>{process.rejection!.rejectedBy!.displayName}</strong>\n                      </div>\n                      <div>\n                        Rejected On: <strong>{moment(process.rejection!.timeStamp).format('lll')}</strong>\n                      </div>\n                    </div>\n                  </Tooltip>\n                  {this.getAssociatedRejectedInfo(process)}\n                </CardContent>\n              );\n            default:\n              return <CardContent>{'Unknown Status ' + process.status}</CardContent>;\n          }\n        })()}\n      </Card>\n    );\n  }\n}\n\ninterface ProcessStatusCardProps {\n  classes: {\n    processIcon: string;\n  };\n  process: Process;\n  beginSignOff: () => void;\n  beginUnsign: () => void;\n  beginReject: (actionId: string) => void;\n  onNavigateToRejectedProcess?: (id: string) => void;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { Process, Activity, Attachment } from '../../ppp';\nimport Grid from '@material-ui/core/Grid';\n\nexport default class DeleteProcessAttachmentDialog extends React.Component<DeleteProcessAttachmentDialogProps, ProcessAttachmentDialogState> {\n  constructor(props: DeleteProcessAttachmentDialogProps) {\n    super(props);\n\n    this.state = {\n      isDeleting: false\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose();\n    }\n  }\n\n  @autobind\n  async handleDeleteProcessActivityAttachment() {\n    this.setState({\n      isDeleting: true\n    });\n\n    const { activity, attachment } = this.props;\n\n    if (!activity || !attachment) {\n      return;\n    }\n\n    await this.props.onDeleteProcessTemplate(activity, attachment);\n\n    this.setState({\n      isDeleting: false\n    });\n  }\n\n  render() {\n    const { classes, attachment } = this.props;\n    const { isDeleting } = this.state;\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-delete-process-activity-attachment-dialog-title\" fullWidth={true} maxWidth=\"sm\">\n        <DialogTitle id=\"confirm-delete-process-activity-attachment-dialog-title\">Delete Process Activity Attachment?</DialogTitle>\n        <DialogContent>\n          <div>\n            Are you sure you wish to delete the attachment named{' '}\n            <strong>\n              <i>{attachment && (attachment.originalFileName ? attachment.originalFileName : attachment.fileName)}</i>\n            </strong>\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {isDeleting && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.progressSpinner} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isDeleting && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.handleDeleteProcessActivityAttachment} color=\"primary\">\n                Delete\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\ninterface DeleteProcessAttachmentDialogProps {\n  classes: {\n    progressSpinner: string;\n  };\n  open: boolean;\n  activity?: Activity;\n  attachment?: Attachment;\n  onClose?: (updatedProcess?: Process) => void;\n  onDeleteProcessTemplate: (activity: Activity, attachment: Attachment) => Promise<void>;\n}\n\ninterface ProcessAttachmentDialogState {\n  isDeleting: boolean;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { Process } from '../../ppp';\nimport Grid from '@material-ui/core/Grid';\n\nclass DeleteProcessDialog extends React.Component<DeleteProcessDialogProps, DeleteProcessDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: DeleteProcessDialogProps) {\n    super(props);\n\n    this.state = {\n      isDeleting: false\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose(false);\n    }\n  }\n\n  @autobind\n  async deleteProcess() {\n    const { onClose, process } = this.props;\n    const { processStore } = this.context;\n\n    if (!process.id) {\n      if (onClose) {\n        onClose(false);\n      }\n      return;\n    }\n\n    this.setState({\n      isDeleting: true\n    });\n\n    const result = await processStore.deleteProcessById(process.id);\n\n    this.setState({\n      isDeleting: false\n    });\n\n    if (onClose) {\n      onClose(result);\n    }\n  }\n\n  render() {\n    const { classes, process } = this.props;\n    const { isDeleting } = this.state;\n\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-delete-process-dialog-title\" fullWidth={true} maxWidth=\"xs\">\n        <DialogTitle id=\"confirm-delete-process-dialog-title\">Delete Process Template?</DialogTitle>\n        <DialogContent>\n          <div>\n            Are you sure you wish to delete the process titled{' '}\n            <strong>\n              <i>{process.name}</i>\n            </strong>\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {isDeleting && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isDeleting && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.deleteProcess} color=\"primary\">\n                Delete\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(DeleteProcessDialog);\n\ninterface DeleteProcessDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (deleted: boolean) => void;\n  process: Process;\n}\n\ninterface DeleteProcessDialogState {\n  isDeleting: boolean;\n}\n","export default (time: number) => (result: any) => {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(result), time);\n  });\n};\n","import React from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport find from 'lodash/find';\nimport startCase from 'lodash/startCase';\nimport delay from '../util/delay';\nimport JSZip from 'jszip';\nimport axios from 'axios';\nimport moment from 'moment';\nimport DOMPurify from 'dompurify';\nimport { Process, Activity } from '../ppp';\nimport { MonitoringAndReviewStatus } from '../ppp/MonitoringAndReviewStatus';\nimport { NotedException } from '../ppp/NotedException';\n\nexport class ProcessExporter {\n  private static defaultDelayMs = 1000;\n  private static style = `\n  .dataTables_scroll div.dataTables_scrollBody>table>tbody>tr>td {\n        vertical-align: top !important;\n    }\n  .dataTables_scroll div.dataTables_scrollBody {\n      position: initial !important;\n      width: 100% !important;\n      height: unset !important;\n  }\n  #data_info{\n    display:none;\n  }\n    `;\n\n  private static printStyle = `\n      body {zoom: 82%;\n        orientation:landscape;\n    `;\n  private static script = `\n  $(document).ready(function () {\n      window.mytable = $('#data').DataTable({\n          'paging': false,\n          'lengthMenu': [\n              [10, 25, 50, 100, -1],\n              [10, 25, 50, 100, 'All']\n          ],\n          \"scrollX\": false,\n          \"responsive\": true\n      });\n\n      window.mytable.columns().every(function () {\n          var that = this;\n          $('input', this.footer()).on('keyup change', function () {\n              if (that.search() !== this.value) {\n                  that.search(this.value).draw();\n              }\n          });\n      });\n\n      window.mytable = $('#dataNotedExceptions').DataTable({\n        'paging': false,\n        'lengthMenu': [\n            [10, 25, 50, 100, -1],\n            [10, 25, 50, 100, 'All']\n        ],\n        \"scrollX\": false,\n        \"responsive\": true\n      });\n\n  });`;\n\n  static renderProcess(process: Process) {\n    var pdfFileName = `${process.name.replace(/[^a-z0-9]/gi, '_')}.pdf`;\n    var showProcessDownloadLink = process.status === 'CompletedAndSigned' ? { display: 'none' } : { display: 'none' };\n    const columns = [\n      {\n        title: 'Activity #',\n        render: (activity: Activity, activityIndex: number) => {\n          return activityIndex + 1;\n        }\n      },\n      {\n        title: 'Description',\n        render: (activity: Activity, activityIndex: number) => {\n          const activityTemplate = find(process.template.activities, { id: activity.id });\n          if (!activityTemplate) {\n            return;\n          }\n          return <div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(activityTemplate.description) }} />;\n        }\n      },\n      {\n        title: 'Responsible Party',\n        render: (activity: Activity, activityIndex: number) => {\n          return <div>{activity.responsibleParty}</div>;\n        }\n      },\n      {\n        title: 'Attachments',\n        render: (activity: Activity, activityIndex: number) => {\n          return (\n            <div>\n              <ol>\n                {activity.attachments.map((attachment, ix) => (\n                  <li>\n                    <a key={ix} href={`./activity-${activityIndex + 1}/${attachment.originalFileName}`}>\n                      {attachment.originalFileName}\n                    </a>\n                  </li>\n                ))}\n              </ol>\n            </div>\n          );\n        }\n      },\n      {\n        title: 'Activity Status',\n        render: (activity: Activity, activityIndex: number) => {\n          return <div>{startCase(activity.status)}</div>;\n        }\n      },\n      {\n        title: 'Completed By',\n        render: (activity: Activity, activityIndex: number) => {\n          return <div>{activity.completedBy && activity.completedBy.displayName}</div>;\n        }\n      },\n      {\n        title: 'Completion Date',\n        render: (activity: Activity, activityIndex: number) => {\n          return <div>{activity.completedOn && moment(activity.completedOn).format('lll')}</div>;\n        }\n      },\n      {\n        title: 'Reviewed By',\n        render: (activity: Activity, activityIndex: number) => {\n          return <div>{activity.reviewedBy && activity.reviewedBy.displayName}</div>;\n        }\n      },\n      {\n        title: 'Reviewed Date',\n        render: (activity: Activity, activityIndex: number) => {\n          return <div>{activity.reviewedOn && moment(activity.reviewedOn).format('lll')}</div>;\n        }\n      },\n      {\n        title: 'Notes',\n        render: (activity: Activity, activityIndex: number) => {\n          return <div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(activity.comments) }} />;\n        }\n      }\n    ];\n\n    const mrExceptionsColumns = [\n      {\n        title: 'Exception Noted',\n        render: (ne: NotedException, index: number) => {\n          return <div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(ne.exceptionNoted || '') }} />;\n        }\n      },\n      {\n        title: 'Attachments',\n        render: (ne: NotedException, index: number) => {\n          return (\n            <div>\n              <ol>\n                {ne.attachments &&\n                  ne.attachments.map((attachment, ix) => (\n                    <li>\n                      <a key={ix} href={`./MonitoringAndReview/${attachment.originalFileName}`}>\n                        {attachment.originalFileName}\n                      </a>\n                    </li>\n                  ))}\n              </ol>\n            </div>\n          );\n        }\n      },\n      {\n        title: 'Suggested Corrective Action',\n        render: (ne: NotedException, index: number) => {\n          return <div>{ne.suggestedCorrectiveAction || ''}</div>;\n        }\n      },\n      {\n        title: 'Noted By',\n        render: (ne: NotedException, index: number) => {\n          return <div>{ne.exceptionNotedBy && ne.exceptionNotedBy.displayName}</div>;\n        }\n      },\n      {\n        title: 'Noted Date',\n        render: (ne: NotedException, index: number) => {\n          return <div>{ne.exceptionNotedTimeStamp && moment(ne.exceptionNotedTimeStamp).format('lll')}</div>;\n        }\n      },\n      {\n        title: 'Process Owner Response',\n        render: (ne: NotedException, index: number) => {\n          return <div>{ne.processOwnerResponse || ''}</div>;\n        }\n      },\n      {\n        title: 'Process Owner',\n        render: (ne: NotedException, index: number) => {\n          return <div>{ne.processOwner && ne.processOwner.displayName}</div>;\n        }\n      },\n      {\n        title: 'Response Date',\n        render: (ne: NotedException, index: number) => {\n          return <div>{ne.processOwnerResponseTimeStamp && moment(ne.processOwnerResponseTimeStamp).format('lll')}</div>;\n        }\n      }\n    ];\n\n    const showQ4 = process && process.monitoringAndReview && (process.monitoringAndReview.q1 === 'No' || process.monitoringAndReview.q2 === 'No' || process.monitoringAndReview.q3 === 'No');\n\n    return (\n      <html lang=\"en\">\n        <head>\n          <meta charSet=\"utf-8\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\n          <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n          <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" />\n          <link rel=\"stylesheet\" href=\"https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css\" />\n          <link rel=\"stylesheet\" href=\"https://cdn.datatables.net/colreorder/1.3.3/css/colReorder.dataTables.min.css\" />\n          <link rel=\"stylesheet\" href=\"https://cdn.datatables.net/rowgroup/1.0.0/css/rowGroup.dataTables.min.css\" />\n          <script src=\"https://code.jquery.com/jquery-1.12.4.js\" />\n          <script src=\"https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js\" />\n          <script src=\"https://cdn.datatables.net/colreorder/1.3.3/js/dataTables.colReorder.min.js\" />\n          <script src=\"https://cdn.datatables.net/rowgroup/1.0.0/js/dataTables.rowGroup.min.js\" />\n          <style type=\"text/css\" dangerouslySetInnerHTML={{ __html: this.style }} />\n          <style type=\"text/css\" media=\"print\" dangerouslySetInnerHTML={{ __html: this.printStyle }} />\n        </head>\n        <body style={{ margin: '10px' }}>\n          <div className=\"col-sm-12\">\n            <h1>\n              {process.template.title} - {process.template.version} - {process.name}\n            </h1>\n          </div>\n          <div className=\"col-sm-4\">\n            <h4>{process.template.description}</h4>\n            <h6 style={showProcessDownloadLink}>\n              <a href={pdfFileName}>Click here to download process pdf</a>\n            </h6>\n            <h6>Status: {startCase(process.status)}</h6>\n            <h6>Fiscal Year: {process.fiscalYear}</h6>\n            <h6>Initiated On: {moment(process.initiatedOn).format('lll')}</h6>\n            <h6>Initiated By: {process.initiatedBy && process.initiatedBy.displayName}</h6>\n          </div>\n          <div className=\"col-sm-4\">\n            <h4>This process has been completed and signed off</h4>\n            <h6>Signed On: {moment(process.signOff!.timeStamp).format('lll')}</h6>\n            <h6>Signed By: {process.signOff!.signer.displayName}</h6>\n          </div>\n          <table id=\"data\" className=\"display\" cellSpacing=\"0\" style={{ width: '100%' }}>\n            <thead>\n              <tr>\n                {columns.map((col, ix) => (\n                  <th key={ix}>{col.title}</th>\n                ))}\n              </tr>\n            </thead>\n            <tfoot>\n              <tr>\n                <td colSpan={8}>\n                  <b>Notes:</b>\n                  {process.notes}\n                </td>\n              </tr>\n            </tfoot>\n            <tbody>\n              {process.activities.map((activity, activityIndex) => (\n                <tr key={activityIndex}>\n                  {columns.map((col, ix) => (\n                    <td key={ix}>{col.render && col.render(activity, activityIndex)}</td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {process.monitoringAndReview && (\n            <div className=\"col-sm-12\">\n              <hr style={{ width: '100%', textAlign: 'left', marginLeft: 0 }} />\n              <h1>Monitoring And Review Section</h1>\n              <div className=\"col-sm-12\">\n                <h5>\n                  Status: <b>{startCase(process.monitoringAndReview ? process.monitoringAndReview.status : MonitoringAndReviewStatus.NotStarted)}</b>\n                </h5>\n                <h5>\n                  Signed On: <b>{process.monitoringAndReview.signOff && process.monitoringAndReview.signOff.timeStamp && moment(process.monitoringAndReview.signOff.timeStamp).format('lll')}</b>\n                </h5>\n                <h5>\n                  Signoff By: <b>{process.monitoringAndReview.signOff && process.monitoringAndReview.signOff.signer && process.monitoringAndReview.signOff.signer.displayName}</b>\n                </h5>\n              </div>\n              <p className=\"col-sm-12\">\n                <b>{process.monitoringAndReview.q1 || ''}</b> - Verify the activities in the checklist were reviewed by the appropriate personnel(s).\n              </p>\n              <p className=\"col-sm-12\">\n                <b>{process.monitoringAndReview.q2 || 'N/A'}</b> - Verify the checklist is completed in a sufficiently timely manner. And verify each activity in the checklist was completed properly\n                by inspecting the attachments/evidences, if available, and as needed.\n              </p>\n              <p className=\"col-sm-12\">\n                <b>{process.monitoringAndReview.q3 || 'N/A'}</b> - Verify the final review signature of the checklist was signed by the appropriate personnel.\n              </p>\n\n              {showQ4 === true && (\n                <p className=\"col-sm-12\">\n                  <b>{process.monitoringAndReview.q4 || 'N/A'}</b> - If the checklist fails any of the first three steps above, see exceptions.\n                </p>\n              )}\n\n              {process.monitoringAndReview.notedExceptions && (\n                <div>\n                  <h4>Noted Exceptions</h4>\n                  <table id=\"dataNotedExceptions\" className=\"display\" cellSpacing=\"0\" style={{ width: '100%' }}>\n                    <thead>\n                      <tr>\n                        {mrExceptionsColumns.map((col, ix) => (\n                          <th key={ix}>{col.title}</th>\n                        ))}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {process.monitoringAndReview &&\n                        process.monitoringAndReview.notedExceptions &&\n                        process.monitoringAndReview.notedExceptions.map((ne, index) => (\n                          <tr key={index}>\n                            {mrExceptionsColumns.map((col, ix) => (\n                              <td key={ix}>{col.render && col.render(ne, index)}</td>\n                            ))}\n                          </tr>\n                        ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n              {process.monitoringAndReview.generalNotes && (\n                <div>\n                  <h4>General Notes:</h4>\n                  <div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(process.monitoringAndReview.generalNotes || '') }} />\n                </div>\n              )}\n            </div>\n          )}\n\n          <script type=\"text/javascript\" dangerouslySetInnerHTML={{ __html: this.script }} />\n        </body>\n      </html>\n    );\n  }\n\n  static async exportProcess(process: Process, processUrl: string, origin: string, statusChangeCallback?: (newStatus: string) => void): Promise<JSZip> {\n    const zipFile = new JSZip();\n    this.updateStatus('Generating Process Export...', statusChangeCallback);\n    await delay(this.defaultDelayMs);\n\n    const html = renderToStaticMarkup(this.renderProcess(process));\n    zipFile.file(`index.html`, html);\n    await delay(this.defaultDelayMs);\n\n    this.updateStatus('Exporting Activity Attachments...', statusChangeCallback);\n    await delay(this.defaultDelayMs);\n    for (let i = 0; i < process.activities.length; i++) {\n      const activity = process.activities[i];\n      if (activity.attachments) {\n        for (let j = 0; j < activity.attachments.length; j++) {\n          const attachment = activity.attachments[j];\n          this.updateStatus(`Retrieving ${attachment.originalFileName}...`, statusChangeCallback);\n          let stName = '/' + attachment.serverRelativeUrl.split('/')[1];\n          const url = `${origin + stName}/_layouts/15/download.aspx?SourceUrl=${attachment.serverRelativeUrl}`;\n          const response = await axios.get(url, { responseType: 'blob' });\n          zipFile.file(`activity-${i + 1}/${attachment.originalFileName}`, response.data);\n        }\n      }\n      if (process.monitoringAndReview && process.monitoringAndReview.notedExceptions) {\n        for (let ii = 0; ii < process.monitoringAndReview.notedExceptions.length; ii++) {\n          const ne = process.monitoringAndReview.notedExceptions[ii];\n          if (ne.attachments) {\n            for (let j = 0; j < ne.attachments.length; j++) {\n              const attachment = ne.attachments[j];\n              this.updateStatus(`Retrieving ${attachment.originalFileName}...`, statusChangeCallback);\n              let stName = '/' + attachment.serverRelativeUrl.split('/')[1];\n              const url = `${origin + stName}/_layouts/15/download.aspx?SourceUrl=${attachment.serverRelativeUrl}`;\n              const response = await axios.get(url, { responseType: 'blob' });\n              zipFile.file(`MonitoringAndReview/${attachment.originalFileName}`, response.data);\n            }\n          }\n        }\n      }\n    }\n    return zipFile;\n  }\n\n  private static updateStatus(newStatus: string, callback?: (newStatus: string) => void) {\n    if (callback) {\n      callback(newStatus);\n    }\n  }\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport JSZip from 'jszip';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { Process } from '../../ppp';\nimport { ProcessExporter } from '../../services/ProcessExporter';\n\nclass ExportProcessDialog extends React.Component<ExportProcessDialogProps, ExportProcessDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: ExportProcessDialogProps) {\n    super(props);\n\n    this.state = {\n      currentStatus: 'Initializing...'\n    };\n  }\n\n  @autobind\n  async handleOnClose(zipFile?: JSZip) {\n    if (this.props.onClose) {\n      if (zipFile) {\n        const result = await zipFile.generateAsync({\n          type: 'blob'\n        });\n\n        this.props.onClose(result);\n        return;\n      } else {\n        this.props.onClose();\n      }\n    }\n  }\n\n  @autobind\n  async exportProcess() {\n    const { origin, process } = this.props;\n    let processUrl = await this.context.processStore.getProcessPathByProcessId(process.id);\n    const zipFile = await ProcessExporter.exportProcess(process, processUrl, origin, newStatus => {\n      this.setState({\n        currentStatus: newStatus\n      });\n    });\n\n    this.handleOnClose(zipFile);\n  }\n\n  async componentWillMount() {\n    if (this.props.open) {\n      await this.exportProcess();\n    }\n  }\n\n  render() {\n    const { currentStatus } = this.state;\n\n    return (\n      <Dialog open={this.props.open} onClose={() => this.handleOnClose()} aria-labelledby=\"export-process-dialog-title\" fullWidth={true} maxWidth=\"xs\" disableBackdropClick={true}>\n        <DialogTitle id=\"export-process-dialog-title\">Exporting Process...</DialogTitle>\n        <DialogContent>\n          <div>{currentStatus}</div>\n          <LinearProgress />\n        </DialogContent>\n        <DialogActions />\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(ExportProcessDialog);\n\ninterface ExportProcessDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  origin: string;\n  onClose?: (result?: Blob) => void;\n  process: Process;\n}\n\ninterface ExportProcessDialogState {\n  currentStatus: string;\n}\n","import React from 'react';\nimport { Theme, createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { TextField, Paper, Divider, IconButton, Tooltip } from '@material-ui/core';\nimport DoneIcon from '@material-ui/icons/Done';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    textField: {\n      marginTop: 5,\n      marginBottom: 5\n    }\n  });\n\nclass DisplayEditableField extends React.Component<DisplayEditableFieldProp, DisplayEditableFieldState> {\n  constructor(props: DisplayEditableFieldProp) {\n    super(props);\n    this.state = {\n      isEditField: false,\n      isError: false,\n      fieldBuffer: ''\n    };\n  }\n\n  render() {\n    const { classes, field, label, title, isLoading, readOnly, size } = this.props;\n    const { fieldBuffer: titleBuffer, isError } = this.state;\n    return (\n      <>\n        {!this.state.isEditField && (\n          <Paper\n            component=\"div\"\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              paddingRight: '40px',\n              backgroundColor: 'inherit'\n            }}\n            elevation={0}\n          >\n            {size && size === 'small' && (\n              <Typography variant={'body1'} component=\"span\" color=\"inherit\" noWrap className={classes.textField}>\n                {title} {field}\n              </Typography>\n            )}\n            {!size && (\n              <Typography variant={'h5'} component=\"span\" color=\"inherit\" noWrap className={classes.textField}>\n                {title} {field}\n              </Typography>\n            )}\n\n            {!isLoading && !readOnly && (\n              <Tooltip title={label ? 'Edit ' + label : ''}>\n                <span>\n                  <IconButton\n                    aria-label=\"Edit\"\n                    disabled={this.state.isEditField}\n                    onClick={(event: React.MouseEvent) => {\n                      event.preventDefault();\n                      event.stopPropagation();\n                      this.setState({ fieldBuffer: field, isEditField: true });\n                    }}\n                  >\n                    <EditIcon />\n                  </IconButton>\n                </span>\n              </Tooltip>\n            )}\n          </Paper>\n        )}\n        {this.state.isEditField && (\n          <Paper\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              width: '100%',\n              padding: '2px 4px'\n            }}\n            square={false}\n          >\n            <TextField\n              autoFocus\n              fullWidth\n              error={isError}\n              label={label}\n              id=\"renameProcessTemplateTitle\"\n              value={this.state.fieldBuffer}\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                if (readOnly === true) {\n                  return;\n                }\n                const val = event.target.value;\n                this.setState({ fieldBuffer: val });\n                if (val.length === 0) {\n                  this.setState({ isError: true });\n                } else {\n                  this.setState({ isError: false });\n                }\n              }}\n            />\n            <Divider style={{ width: 1, margin: 4 }} />\n            <IconButton\n              disabled={isError}\n              aria-label=\"Save\"\n              onClick={(event: React.MouseEvent) => {\n                event.preventDefault();\n                event.stopPropagation();\n                if (readOnly === true) {\n                  return;\n                }\n                if (titleBuffer && titleBuffer.length > 0) {\n                  this.setState({ isEditField: false });\n                  this.props.onSave(titleBuffer);\n                } else {\n                  this.setState({ isError: true });\n                }\n              }}\n            >\n              <DoneIcon />\n            </IconButton>\n            <IconButton\n              aria-label=\"Cancel\"\n              onClick={(event: React.MouseEvent) => {\n                event.preventDefault();\n                event.stopPropagation();\n                if (readOnly === true) {\n                  return;\n                }\n                this.setState({ fieldBuffer: '', isEditField: false, isError: false });\n              }}\n            >\n              <ClearIcon />\n            </IconButton>\n          </Paper>\n        )}\n      </>\n    );\n  }\n}\nexport default withStyles(styles)(DisplayEditableField);\n\ninterface DisplayEditableFieldState {\n  isEditField: boolean;\n  fieldBuffer: string;\n  isError: boolean;\n}\n\ninterface DisplayEditableFieldProp extends WithStyles {\n  field: string;\n  isLoading: boolean;\n  readOnly: boolean;\n  label?: string;\n  title?: string;\n  size?: string | undefined;\n  onSave(value: string): void;\n}\n","import React, { FunctionComponent } from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Radio, RadioGroup, FormControlLabel, FormControl, Typography, Box } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      padding: theme.spacing(0.5)\n    }\n  })\n);\n\ntype QuestionProps = {\n  questionId: string;\n  questionText: string;\n  questionAnswer?: string;\n  onAnswerChange(answer: string): void;\n  disabled: boolean;\n};\n\nexport const Question: FunctionComponent<QuestionProps> = ({ questionId, questionText, questionAnswer, onAnswerChange, disabled }) => {\n  const classes = useStyles();\n  const [answer, setAnswer] = React.useState<string | undefined>(questionAnswer);\n\n  React.useEffect(\n    () => {\n      setAnswer(questionAnswer);\n    },\n    [questionAnswer]\n  );\n\n  const handleChange = (event: React.ChangeEvent<{}>) => {\n    setAnswer((event.target as HTMLInputElement).value);\n    onAnswerChange((event.target as HTMLInputElement).value);\n  };\n\n  return (\n    <Box display=\"flex\" className={classes.root} justifyContent=\"flex-start\">\n      <Box p={0} bgcolor=\"grey.100\">\n        <FormControl component=\"fieldset\" style={{ minWidth: 150 }}>\n          <RadioGroup value={answer} onChange={handleChange} row>\n            <FormControlLabel disabled={disabled} value=\"Yes\" control={<Radio color=\"primary\" />} label=\"Yes\" labelPlacement=\"end\" />\n            <FormControlLabel disabled={disabled} value=\"No\" control={<Radio color=\"primary\" />} label=\"No\" labelPlacement=\"end\" />\n          </RadioGroup>\n        </FormControl>\n      </Box>\n      <Box p={1} bgcolor=\"grey.100\">\n        <Typography component=\"p\">{questionText} </Typography>\n      </Box>\n    </Box>\n  );\n};\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport orderBy from 'lodash/orderBy';\nimport Dropzone from 'react-dropzone';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport { Attachment } from '../../ppp';\nimport { Theme, createStyles, withStyles, WithStyles, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    activityDescriptionColumn: {\n      flexBasis: '70%'\n    },\n    activityAttachmentsColumn: {\n      flexBasis: '30%',\n      borderLeft: `2px solid ${theme.palette.divider}`,\n      padding: `${theme.spacing()}px ${theme.spacing() * 2}px`\n    },\n    activityCardHeading: {},\n    activityCommentsTextField: {\n      flexBasis: '70%',\n      marginLeft: theme.spacing(),\n      marginRight: theme.spacing()\n    },\n    activityCommentsInput: {\n      fontSize: '12px'\n    },\n    attachmentChip: {\n      height: '24px',\n      margin: '2px'\n    },\n    attachmentChipLabel: {\n      paddingLeft: '0'\n    },\n    attachmentChipDeleteIcon: {\n      height: '15px',\n      width: '15px'\n    },\n    attachmentAvatar: {\n      margin: '5px',\n      height: '15px',\n      width: '15px'\n    }\n  });\n\nclass AttachmentsArea extends React.Component<AttachmentsAreaProps> {\n  @autobind\n  handleAttachmentDrop(acceptedFiles: File[]) {\n    if (!acceptedFiles || acceptedFiles.length !== 1) {\n      if (acceptedFiles.length === 0) {\n        alert('Please select one file at a time.');\n      }\n      return;\n    }\n\n    if (this.props.onAttachmentUpload) {\n      let isInvalidFileName = this.isFileNameInvalid(acceptedFiles[0]);\n      if (isInvalidFileName) {\n        return;\n      }\n      this.props.onAttachmentUpload(acceptedFiles[0]);\n    }\n  }\n\n  isFileNameInvalid(file: File) {\n    let noExtFileName = file.name.substring(0, file.name.lastIndexOf('.'));\n    if (noExtFileName.length > 52) {\n      alert('Filename is too long, max limit is 52 chars');\n      return true;\n    }\n\n    let invalidFileExt = /\\.(ade|adp|asa|exe|ashx|asp|cmd|db|tmp|config|dll|ini|aspx|svc|lnk)$/i.test(file.name);\n    if (invalidFileExt) {\n      alert('Invalid File');\n      return invalidFileExt;\n    }\n\n    let regEx = /^(?!\\.)(?!com[0-9]$)(?!con$)(?!lpt[0-9]$)(?!nul$)(?!prn$)[^\\|\\*\\?\\\\:%&{}~#<>/\"]*[^\\.\\|\\*\\?\\\\:<>/$\"]+$/;\n    // new RegExp('[# % & * : < > ? / { | } ~ \\\\ \"]');\n    let inValidChars = regEx.test(file.name);\n    if (!inValidChars) {\n      alert('Invalid Filename');\n    }\n    return !inValidChars;\n  }\n\n  @autobind\n  handleAttachmentClicked(attachment: Attachment) {\n    if (this.props.onAttachmentClicked) {\n      this.props.onAttachmentClicked(attachment);\n    }\n  }\n\n  @autobind\n  handleAttachmentDelete(attachment: Attachment) {\n    if (this.props.onAttachmentDelete) {\n      this.props.onAttachmentDelete(attachment);\n    }\n  }\n\n  getAttachmentAreaStyle(isDragActive: boolean) {\n    if (!isDragActive) {\n      return {};\n    }\n    return {\n      backgroundColor: '#eee'\n    };\n  }\n\n  render() {\n    const { classes, allowActions, isUploadingAttachment, attachments, origin } = this.props;\n    return (\n      <>\n        {isUploadingAttachment && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.progressSpinner} size={24} thickness={4} />}\n        {!isUploadingAttachment && (\n          <>\n            <Dropzone onDrop={this.handleAttachmentDrop} multiple={false} disabled={!allowActions}>\n              {({ getRootProps, getInputProps, isDragActive }) => (\n                <>\n                  <Typography variant=\"caption\" style={this.getAttachmentAreaStyle(isDragActive)}>\n                    <div {...getRootProps()}>\n                      <input {...getInputProps()} />\n                      <ListItem style={{ margin: '2px', padding: '2px' }}>\n                        <ListItemIcon>\n                          <UploadIcon style={{ cursor: 'pointer' }} className={classes.uploadIcon} />\n                        </ListItemIcon>\n                        <ListItemText style={{ margin: '0', padding: 0 }} primary={this.props.placeholderText || 'Job Aid Attachments'} />\n                      </ListItem>\n                      <div>\n                        {(!attachments || attachments.length <= 0) && (\n                          <Typography variant=\"caption\">\n                            <i>No Attachments</i>\n                          </Typography>\n                        )}\n                        {attachments &&\n                          attachments.length > 0 &&\n                          orderBy(attachments, ['fileName'], ['asc']).map(attachment => (\n                            <Chip\n                              classes={{ label: classes.attachmentChipLabel, deleteIcon: classes.attachmentChipDeleteIcon }}\n                              className={classes.attachmentChip}\n                              key={attachment.fileName}\n                              avatar={<Avatar className={classes.attachmentAvatar} src={`${origin}${attachment.fileIconUrl || '/_layouts/images/ICGEN.GIF'}`} />}\n                              label={attachment.fileName}\n                              color=\"primary\"\n                              onClick={() => this.handleAttachmentClicked(attachment)}\n                              onDelete={allowActions ? () => this.handleAttachmentDelete(attachment) : undefined}\n                            />\n                          ))}\n                      </div>\n                    </div>\n                  </Typography>\n                </>\n              )}\n            </Dropzone>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(AttachmentsArea);\n\ninterface AttachmentsAreaProps extends WithStyles {\n  allowActions: boolean;\n  isUploadingAttachment: boolean;\n  attachments?: Attachment[];\n  placeholderText?: string;\n  origin: string;\n  onAttachmentUpload?: (attachmentFile: File) => void;\n  onAttachmentClicked?: (attachment: Attachment) => void;\n  onAttachmentDelete?: (attachment: Attachment) => void;\n}\n","import React, { FunctionComponent } from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Box, TextField, Button } from '@material-ui/core';\nimport { NotedException } from '../../../ppp/NotedException';\nimport AttachmentsArea from '../../controls/AttachmentArea';\nimport { Attachment } from '../../../ppp';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport RichEditorEditor from '../../controls/RichEditorEditor';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {},\n    textField: {\n      padding: theme.spacing(1),\n      marginTop: theme.spacing(2)\n    },\n    infoArea: {\n      padding: theme.spacing(1),\n      marginTop: theme.spacing(2),\n      backgroundColor: theme.palette.grey[100]\n    },\n    parentOverlay: {\n      position: 'relative',\n      flexBasis: '70%'\n    },\n    overlay: {\n      position: 'absolute',\n      top: 0,\n      left: 5,\n      'z-index': 10\n    }\n  })\n);\n\ntype NotedExceptionProps = {\n  notedException: NotedException;\n  onSubmitNotedException(notedException: NotedException): void;\n  onAttachmentUpload(notedException: NotedException, attachmentFile: File): Promise<Attachment | undefined>;\n  onClose(): void;\n  open: boolean;\n  disabled: boolean;\n  origin?: string;\n};\n\nexport const NotedExceptionDialog: FunctionComponent<NotedExceptionProps> = props => {\n  const classes = useStyles();\n  const [values, setValues] = React.useState<NotedException>(props.notedException);\n\n  React.useEffect(\n    () => {\n      setValues({ ...props.notedException });\n    },\n    [props.notedException.id]\n  );\n\n  const handleChange = (prop: keyof NotedException) => (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n\n  const handleClose = () => {\n    props.onClose();\n  };\n\n  const handleSubmitNotedExeption = () => {\n    props.onSubmitNotedException({ ...values });\n  };\n\n  const handleAttachmentClicked = (attachment: Attachment) => {\n    window.open(props.origin + attachment.serverRelativeUrl, '_blank');\n  };\n\n  const handleAttachmentDeleteClicked = (attachment: Attachment) => {\n    // NOTE: This wont remove the file from SP by design.\n    // Just in case it is using that same  file in  another Noted Exception.\n    if (attachment && values && values.attachments) {\n      const index = values.attachments.findIndex(x => x.fileName === attachment.fileName);\n      if (index >= 0) {\n        values.attachments.splice(index, 1);\n        setValues({ ...values, attachments: [...values.attachments] });\n      }\n    }\n  };\n\n  const handleProcessAttachmentUpload = async (attachmentFile: File) => {\n    if (values.attachments) {\n      const found = values.attachments.find(el => el.fileName.toLowerCase() === attachmentFile.name.toLowerCase());\n      if (found) {\n        return;\n      }\n    }\n\n    const attachment = await props.onAttachmentUpload(values, attachmentFile);\n    if (attachment) {\n      setValues({ ...values, attachments: [...(values.attachments || []), attachment] });\n    }\n  };\n\n  const handleNotesChange = async (rawText: string) => {\n    setValues({ ...values, exceptionNoted: rawText });\n  };\n\n  return (\n    <Dialog open={props.open} onClose={handleClose} fullWidth={true} maxWidth={'md'} aria-labelledby=\"new-noted-exception\">\n      <DialogTitle id=\"form-dialog-title\">Noted Exception </DialogTitle>\n      <DialogContent>\n        <DialogContentText>Enter Exception Noted </DialogContentText>\n        <Box>\n          <div className={classes.parentOverlay}>\n            <RichEditorEditor placeholder=\"Exception Noted ...\" rawText={(values && values.exceptionNoted) || ''} onChange={handleNotesChange} waitForDebounce={200} />\n          </div>\n          <Box m={1}>\n            <TextField\n              id=\"SuggestedCorrectiveActionInput\"\n              label=\"Suggested corrective action\"\n              placeholder=\"Suggested corrective action\"\n              className={classes.textField}\n              style={{}}\n              fullWidth\n              value={(values && values.suggestedCorrectiveAction) || ''}\n              onChange={handleChange('suggestedCorrectiveAction')}\n              InputLabelProps={{\n                shrink: true\n              }}\n            />\n          </Box>\n          <Box m={1}>\n            <AttachmentsArea\n              allowActions={true}\n              isUploadingAttachment={false}\n              attachments={values && values.attachments}\n              origin={props.origin || ''}\n              onAttachmentClicked={handleAttachmentClicked}\n              onAttachmentUpload={handleProcessAttachmentUpload}\n              onAttachmentDelete={handleAttachmentDeleteClicked}\n              placeholderText=\"Add Attachment\"\n            />\n          </Box>\n        </Box>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\" variant=\"outlined\" disabled={props.disabled}>\n          Cancel\n        </Button>\n        <Button onClick={handleSubmitNotedExeption} color=\"primary\" variant=\"outlined\" disabled={props.disabled}>\n          Ok\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport { Box, IconButton, Paper, Grid, Typography } from '@material-ui/core';\nimport { NotedException } from '../../../ppp/NotedException';\nimport AttachmentsDisplay from '../../controls/AttachmentsDisplay';\nimport DisplayEditableField from '../../controls/DisplayEditableField';\nimport EditIcon from '@material-ui/icons/EditOutlined';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport moment from 'moment';\nimport DOMPurify from 'dompurify';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      margin: theme.spacing(2),\n      backgroundColor: theme.palette.grey[50]\n    },\n    textField: {},\n    infoArea: {\n      padding: theme.spacing(1),\n      marginTop: theme.spacing(2)\n    },\n    otherArea: {\n      margin: theme.spacing(1)\n    },\n    lableArea: {\n      marginLeft: theme.spacing(1)\n    }\n  })\n);\n\ntype NotedExceptionProps = {\n  notedException: NotedException;\n  disabled: boolean;\n  origin: string | undefined;\n  onEditNotedExceptionClickOpen(id: string): void;\n  onDeleteNotedException(id: string): void;\n  onEditProcessOwner(id: string, value: string): void;\n};\n\nexport const NotedExceptionDisplay: FunctionComponent<NotedExceptionProps> = ({ notedException, disabled, onEditNotedExceptionClickOpen, onDeleteNotedException, onEditProcessOwner, origin }) => {\n  const classes = useStyles();\n  const [values, setValues] = React.useState<NotedException>(notedException);\n\n  const handleClickEdit = (id: string) => {\n    onEditNotedExceptionClickOpen(id);\n  };\n\n  const handleClickDelete = (id: string) => {\n    onDeleteNotedException(id);\n  };\n\n  const createMarkup = (value?: string) => {\n    return { __html: DOMPurify.sanitize(value || '<p></p>') };\n  };\n\n  return (\n    <>\n      <Paper className={classes.root} style={{}}>\n        <Grid container spacing={0} direction=\"row\" wrap=\"nowrap\" justify=\"center\">\n          <Grid item xs zeroMinWidth>\n            <Box className={classes.otherArea}>\n              <Typography variant={'body1'} component=\"span\" color=\"inherit\" noWrap className={classes.textField}>\n                Exception Noted:&nbsp;\n              </Typography>\n              <div className={'rte'} style={{ fontSize: '1.2em' }} dangerouslySetInnerHTML={createMarkup(notedException.exceptionNoted)} />\n            </Box>\n            <Box className={classes.otherArea}>\n              <Typography variant={'body1'} component=\"span\" color=\"inherit\" className={classes.textField}>\n                Suggested Corrective Action:&nbsp;\n              </Typography>\n              <Typography variant={'body1'} component=\"span\" color=\"inherit\" className={classes.textField}>\n                {notedException.suggestedCorrectiveAction}\n              </Typography>\n            </Box>\n            <Box className={classes.otherArea}>\n              Noted on&nbsp;\n              <Box component=\"span\" fontWeight=\"fontWeightMedium\" fontStyle=\"italic\">\n                {moment(notedException.exceptionNotedTimeStamp).format('lll')}\n              </Box>\n              &nbsp;by&nbsp;\n              <Box component=\"span\" fontWeight=\"fontWeightMedium\" fontStyle=\"italic\">\n                {notedException.exceptionNotedBy && notedException.exceptionNotedBy.displayName}\n              </Box>\n            </Box>\n            <Box className={classes.otherArea}>\n              <AttachmentsDisplay origin={origin || ''} labelText={'Attachments'} attachments={notedException && notedException.attachments} />\n            </Box>\n            <Box className={classes.otherArea}>\n              <DisplayEditableField\n                readOnly={disabled === true}\n                isLoading={false}\n                label=\"Process Owner Response\"\n                title=\"Process Owner Response: \"\n                field={(values && values.processOwnerResponse) || ''}\n                size=\"small\"\n                onSave={async value => {\n                  setValues({ ...values, processOwnerResponse: value });\n                  onEditProcessOwner(notedException.id, value);\n                }}\n              />\n            </Box>\n            {notedException.processOwner && (\n              <Box className={classes.lableArea}>\n                Responded&nbsp;on&nbsp;\n                <Box component=\"span\" fontWeight=\"fontWeightMedium\" fontStyle=\"italic\">\n                  {notedException.processOwnerResponseTimeStamp && moment(notedException.processOwnerResponseTimeStamp).format('lll')}\n                </Box>\n                &nbsp;by&nbsp;\n                <Box component=\"span\" fontWeight=\"fontWeightMedium\" fontStyle=\"italic\">\n                  {notedException.processOwner && notedException.processOwner.displayName}\n                </Box>\n              </Box>\n            )}\n          </Grid>\n          {disabled === false && (\n            <Grid item>\n              <IconButton disabled={disabled} edge=\"end\" aria-label=\"Delete View\" data-id={notedException.id} onClick={() => handleClickEdit(notedException.id)}>\n                <EditIcon />\n              </IconButton>\n              <IconButton disabled={disabled} edge=\"end\" aria-label=\"Delete View\" data-id={notedException.id} onClick={() => handleClickDelete(notedException.id)}>\n                <DeleteIcon />\n              </IconButton>\n            </Grid>\n          )}\n        </Grid>\n      </Paper>\n    </>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport {\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Typography,\n  Grid,\n  Box,\n  Card,\n  CardHeader,\n  CardContent,\n  CircularProgress,\n  Button,\n  Checkbox,\n  FormControlLabel\n} from '@material-ui/core';\nimport Fab from '@material-ui/core/Fab';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Link as DomLink, useParams } from 'react-router-dom';\nimport OpenInNewOutlinedIcon from '@material-ui/icons/OpenInNewOutlined';\nimport { Attachment } from '../../../ppp';\nimport { Question } from './Question';\nimport RichEditorEditor from '../../controls/RichEditorEditor';\nimport { NotedException } from '../../../ppp/NotedException';\nimport { NotedExceptionDialog } from './NotedExceptionDialog';\nimport AddIcon from '@material-ui/icons/Add';\nimport { NotedExceptionDisplay } from './NotedExceptionDisplay';\nimport { getGUID } from '@pnp/common';\nimport moment from 'moment';\nimport debounce from 'lodash/debounce';\nimport { MonitoringAndReviewStatus } from '../../../ppp/MonitoringAndReviewStatus';\nimport DOMPurify from 'dompurify';\nimport { MonitoringAndReview } from '../../../ppp/MonitoringAndReview';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%'\n    },\n    heading: {\n      flexBasis: '80.33%',\n      flexShrink: 0\n    },\n    panelSummary: {\n      backgroundColor: theme.palette.grey[200]\n    },\n    extendedIcon: {\n      marginRight: theme.spacing(1)\n    },\n    margin: {\n      margin: theme.spacing(1)\n    },\n    OpenInNewStyle: {\n      color: theme.palette.primary.dark,\n      marginLeft: 'auto'\n    },\n    parentOverlay: {\n      position: 'relative',\n      flexBasis: '70%'\n    },\n    overlay: {\n      position: 'absolute',\n      top: -30,\n      left: 5,\n      'z-index': 10\n    }\n  })\n);\n\ntype MonitorAndReviewProps = {\n  monitoringAndReview: MonitoringAndReview;\n  onEditQuestions(item: MonitoringAndReview): void;\n  onNotesChange(rawText: string): void;\n  onEditNotedExceptions(notedExceptions: NotedException[] | undefined): void;\n  onMonitoringAndReviewComplete(): void;\n  onUpdateMonitoringAndReviewProcessOwner(notedExceptionId: string, value: string): void;\n  onNotedExceptiononAttachmentUpload(notedException: NotedException, attachmentFile: File): Promise<Attachment | undefined>;\n  origin?: string;\n};\n\nexport const MonitoringAndReviewComponent: FunctionComponent<MonitorAndReviewProps> = ({\n  monitoringAndReview,\n  origin,\n  onEditQuestions,\n  onEditNotedExceptions,\n  onNotesChange,\n  onMonitoringAndReviewComplete,\n  onUpdateMonitoringAndReviewProcessOwner,\n  onNotedExceptiononAttachmentUpload\n}) => {\n  const classes = useStyles();\n  const match = useParams() as { id: string; mr?: string };\n  const debounceWait = 1350;\n  const expandPanelInitially = match && match.mr === 'true' ? 'panel1' : false;\n  const [doAutoScroll, setDoAutoScroll] = React.useState<boolean>(match && match.mr === 'true');\n  const [expanded, setExpanded] = React.useState<string | false>(expandPanelInitially);\n  const [open, setOpen] = React.useState(false);\n  const [acknowledgeComplete, setAcknowledgeComplete] = React.useState(false);\n  const [isSaving, setIsSaving] = React.useState<boolean>(false);\n  const [currenNotedException, setCurrenNotedException] = React.useState<NotedException>({ id: '' });\n  const [isUpdatingNotes, setIsUpdatingNotes] = React.useState<boolean>(false);\n\n  const scrollToElement = (id: string) => {\n    const ele = document.getElementById(id);\n    if (ele) {\n      const clientRects = ele.getClientRects();\n      /* istanbul ignore next */\n      const top = clientRects[0] ? clientRects[0].top : 0;\n      /* istanbul ignore next */\n      // @ts-ignore\n      const isIE = /*@cc_on!@*/ false || !!document.documentMode;\n      if (isIE) {\n        document.documentElement.scrollTop = top;\n      } else {\n        window.scrollTo(0, top);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    if (scrollToElement && expandPanelInitially && doAutoScroll) {\n      setDoAutoScroll(false);\n      scrollToElement('MonitoringAndReviewComponentView');\n    }\n  }, []);\n\n  const handleChange = (panel: string) => (event: React.ChangeEvent<{}>, isExpanded: boolean) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleNotesChange = async (rawText: string) => {\n    if (monitoringAndReview) {\n      setIsSaving(true);\n      setIsUpdatingNotes(true);\n      await onNotesChange(rawText);\n      setIsUpdatingNotes(false);\n      setIsSaving(false);\n    }\n  };\n\n  const handleAddNotedExceptionClickOpen = () => {\n    setOpen(true);\n    setCurrenNotedException({\n      id: getGUID()\n    });\n  };\n\n  const handleEditNotedExceptionClickOpen = (id: string) => {\n    setOpen(true);\n    if (monitoringAndReview && monitoringAndReview.notedExceptions) {\n      const list = monitoringAndReview.notedExceptions;\n      let item = list.find(i => i.id === id);\n      if (item) {\n        setCurrenNotedException(item);\n      }\n    }\n  };\n\n  const isMonitoringAndReviewCompleted = () => {\n    if (monitoringAndReview && monitoringAndReview.status === MonitoringAndReviewStatus.Completed) {\n      return true;\n    }\n    return false;\n  };\n\n  const handleDeleteNotedException = async (id: string) => {\n    if (monitoringAndReview && monitoringAndReview.notedExceptions) {\n      const foundIndex = monitoringAndReview.notedExceptions.findIndex(x => x.id === id);\n      if (foundIndex >= 0) {\n        monitoringAndReview.notedExceptions.splice(foundIndex, 1);\n        setIsSaving(true);\n        await onEditNotedExceptions(monitoringAndReview.notedExceptions);\n        setIsSaving(false);\n      }\n    }\n  };\n\n  const handleSubmitNotedException = async (notedException: NotedException) => {\n    setIsSaving(true);\n    if (monitoringAndReview) {\n      if (monitoringAndReview.notedExceptions) {\n        const foundIndex = monitoringAndReview.notedExceptions.findIndex(x => x.id === notedException.id);\n        if (foundIndex >= 0) {\n          monitoringAndReview.notedExceptions[foundIndex] = notedException;\n        } else {\n          monitoringAndReview.notedExceptions = [...monitoringAndReview.notedExceptions, notedException];\n        }\n      } else {\n        monitoringAndReview.notedExceptions = [notedException];\n      }\n    } else {\n      monitoringAndReview = { status: MonitoringAndReviewStatus.NotStarted, notedExceptions: [notedException] };\n    }\n    await onEditNotedExceptions(monitoringAndReview.notedExceptions);\n    setIsSaving(false);\n    setOpen(false);\n  };\n\n  const handleNotedExceptionClose = () => {\n    setOpen(false);\n  };\n\n  const handleQuestionAnswer = async (question: string, answer: string) => {\n    switch (question) {\n      case 'q1':\n        monitoringAndReview.q1 = answer;\n        break;\n      case 'q2':\n        monitoringAndReview.q2 = answer;\n        break;\n      case 'q3':\n        monitoringAndReview.q3 = answer;\n        break;\n      case 'q4':\n        monitoringAndReview.q4 = answer;\n        break;\n      default:\n    }\n    doEditQuestion(monitoringAndReview);\n  };\n\n  const doEditQuestion = debounce(async (monitorngAndReview: MonitoringAndReview) => {\n    setIsSaving(true);\n    await onEditQuestions(monitorngAndReview);\n    setIsSaving(false);\n  }, debounceWait);\n\n  const isQ4ValidationActive = () => {\n    if (monitoringAndReview) {\n      return monitoringAndReview.q1 === 'No' || monitoringAndReview.q2 === 'No' || monitoringAndReview.q3 === 'No';\n    }\n    return false;\n  };\n\n  const handleAcknowledmentChange = (event: React.ChangeEvent<{}>) => {\n    setAcknowledgeComplete((event.target as HTMLInputElement).checked);\n  };\n\n  const handleMonitoringAndReviewCompleteClick = async () => {\n    setIsSaving(true);\n    setTimeout(async () => {\n      await onMonitoringAndReviewComplete();\n      setIsSaving(false);\n    }, 3500);\n  };\n\n  const handleEditProcessOwner = async (id: string, value: string) => {\n    if (monitoringAndReview) {\n      if (monitoringAndReview.notedExceptions) {\n        const foundIndex = monitoringAndReview.notedExceptions.findIndex(x => x.id === id);\n        if (foundIndex >= 0) {\n          monitoringAndReview.notedExceptions[foundIndex].processOwnerResponse = value;\n          setIsSaving(true);\n          await onUpdateMonitoringAndReviewProcessOwner(id, value);\n          setIsSaving(false);\n        }\n      }\n    }\n  };\n\n  const handleNotedExceptiononAttachmentUpload = async (notedException: NotedException, attachmentFile: File): Promise<Attachment | undefined> => {\n    setIsSaving(true);\n    const ret = await onNotedExceptiononAttachmentUpload(notedException, attachmentFile);\n    setIsSaving(false);\n    return ret;\n  };\n\n  const createMarkup = (value?: string) => {\n    return { __html: DOMPurify.sanitize(value || '<p></p>') };\n  };\n\n  const getCommentArea = () => {\n    if (monitoringAndReview && isMonitoringAndReviewCompleted()) {\n      return <div className={'rte'} dangerouslySetInnerHTML={createMarkup(monitoringAndReview.generalNotes || '')} />;\n    } else {\n      return (\n        <div className={classes.parentOverlay}>\n          {isUpdatingNotes && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.overlay} size={24} thickness={4} />}\n          <RichEditorEditor\n            readOnly={false}\n            placeholder=\"General Notes ...\"\n            rawText={(monitoringAndReview && monitoringAndReview.generalNotes) || ''}\n            onChange={handleNotesChange}\n            waitForDebounce={debounceWait}\n          />\n        </div>\n      );\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ExpansionPanel expanded={expanded === 'panel1'} onChange={handleChange('panel1')}>\n        <ExpansionPanelSummary className={classes.panelSummary} expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1bh-content\" id=\"panel1bh-header\">\n          <Typography className={classes.heading} variant=\"h5\">\n            Monitoring and Review\n          </Typography>\n          <DomLink className={classes.OpenInNewStyle} to={`/process/${match.id}/true`} target=\"_blank\">\n            <OpenInNewOutlinedIcon style={{ verticalAlign: 'middle', paddingRight: 5, fontSize: '2em' }} />\n          </DomLink>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Grid container>\n            {monitoringAndReview && (\n              <Grid item xs={12}>\n                <Question\n                  disabled={isSaving || isMonitoringAndReviewCompleted()}\n                  questionId=\"q1\"\n                  onAnswerChange={answer => handleQuestionAnswer('q1', answer)}\n                  questionText=\"Verify the activities in the checklist were reviewed by the appropriate personnel(s).\"\n                  questionAnswer={monitoringAndReview.q1}\n                />\n                <Question\n                  disabled={isSaving || isMonitoringAndReviewCompleted()}\n                  questionId=\"q2\"\n                  onAnswerChange={answer => handleQuestionAnswer('q2', answer)}\n                  questionText=\"Verify the checklist is completed in a sufficiently timely manner. \n                  And verify each activity in the checklist was completed properly by inspecting the attachments/evidences, if available, and as needed.\"\n                  questionAnswer={monitoringAndReview.q2}\n                />\n                <Question\n                  disabled={isSaving || isMonitoringAndReviewCompleted()}\n                  questionId=\"q3\"\n                  onAnswerChange={answer => handleQuestionAnswer('q3', answer)}\n                  questionText=\"Verify the final review signature of the checklist was signed by the appropriate personnel.\"\n                  questionAnswer={monitoringAndReview.q3}\n                />\n                <Question\n                  disabled={!isQ4ValidationActive() || isSaving || isMonitoringAndReviewCompleted()}\n                  questionId=\"q4\"\n                  onAnswerChange={answer => handleQuestionAnswer('q4', answer)}\n                  questionText={`If the checklist fails any of the first three steps above, see exceptions.`}\n                  questionAnswer={monitoringAndReview.q4}\n                />\n              </Grid>\n            )}\n            <Grid item xs={12}>\n              <Grid container>\n                <Grid item xs={6}>\n                  <Typography variant=\"h6\">Noted Exceptions (and responses)</Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  {isMonitoringAndReviewCompleted() === false && (\n                    <Fab disabled={isSaving} variant=\"extended\" size=\"small\" color=\"primary\" aria-label=\"add\" className={classes.margin} onClick={handleAddNotedExceptionClickOpen}>\n                      <AddIcon className={classes.extendedIcon} />\n                      <Box fontSize=\"small\">Add Noted Exception</Box>\n                    </Fab>\n                  )}\n                </Grid>\n              </Grid>\n            </Grid>\n            {monitoringAndReview &&\n              monitoringAndReview.notedExceptions &&\n              monitoringAndReview.notedExceptions.map((n, index) => (\n                <Grid item xs={12} key={index}>\n                  <NotedExceptionDisplay\n                    key={index}\n                    disabled={isSaving || isMonitoringAndReviewCompleted()}\n                    origin={origin}\n                    notedException={n}\n                    onEditNotedExceptionClickOpen={handleEditNotedExceptionClickOpen}\n                    onDeleteNotedException={handleDeleteNotedException}\n                    onEditProcessOwner={handleEditProcessOwner}\n                  />\n                </Grid>\n              ))}\n            <Grid item xs={12}>\n              <Grid container direction=\"row\" spacing={1} alignItems=\"stretch\" style={{ paddingTop: '10px' }}>\n                <Grid item xs={6}>\n                  <Card style={{ height: '100%' }}>\n                    <CardHeader title=\"General Notes\" />\n                    <CardContent>{getCommentArea()}</CardContent>\n                  </Card>\n                </Grid>\n                <Grid item xs={6}>\n                  <Card style={{ height: '100%' }}>\n                    <CardHeader title=\"Monitoring and Review Signoff\" />\n                    <CardContent>\n                      <div className={classes.parentOverlay}>\n                        {isSaving && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.overlay} size={24} thickness={4} />}\n                        {monitoringAndReview && isMonitoringAndReviewCompleted() && (\n                          <Box component=\"div\" m={1}>\n                            <Typography className={classes.heading} variant=\"h6\">\n                              Monitoring and Review Completed\n                            </Typography>\n                            <Box>\n                              Completed&nbsp;\n                              <Box component=\"span\" fontWeight=\"fontWeightMedium\" fontStyle=\"italic\">\n                                {monitoringAndReview.signOff && moment(monitoringAndReview.signOff.timeStamp).format('lll')}\n                              </Box>\n                              &nbsp; by&nbsp;\n                              <Box component=\"span\" fontWeight=\"fontWeightMedium\" fontStyle=\"italic\">\n                                {monitoringAndReview.signOff && monitoringAndReview.signOff.signer && monitoringAndReview.signOff.signer.displayName}\n                              </Box>\n                            </Box>\n                          </Box>\n                        )}\n                        {monitoringAndReview && isMonitoringAndReviewCompleted() === false && (\n                          <>\n                            <Box component=\"div\" m={1}>\n                              <FormControlLabel\n                                disabled={isSaving}\n                                control={<Checkbox checked={acknowledgeComplete} onChange={handleAcknowledmentChange} value={acknowledgeComplete} color=\"primary\" />}\n                                label=\"I acknowledge that I have reviewed this process and\n                              confirm that it has been completed correctly.\"\n                              />\n                            </Box>\n                            <Box component=\"div\" m={1}>\n                              <Button size=\"large\" color=\"primary\" onClick={handleMonitoringAndReviewCompleteClick} disabled={isSaving || !acknowledgeComplete}>\n                                Monitoring and Review Complete\n                              </Button>\n                            </Box>\n                          </>\n                        )}\n                      </div>\n                    </CardContent>\n                  </Card>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n      <NotedExceptionDialog\n        onClose={handleNotedExceptionClose}\n        origin={origin}\n        open={open}\n        disabled={isSaving}\n        notedException={currenNotedException}\n        onSubmitNotedException={handleSubmitNotedException}\n        onAttachmentUpload={handleNotedExceptiononAttachmentUpload}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport Grid from '@material-ui/core/Grid';\nimport { TextField, FormControl, FormHelperText } from '@material-ui/core';\n\nclass MoveProcessToAnotherFiscalYearDialog extends React.Component<MoveProcessToAnotherFiscalYearDialogProps, MoveProcessToAnotherFiscalYearDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: MoveProcessToAnotherFiscalYearDialogProps) {\n    super(props);\n\n    this.state = {\n      isMoving: false,\n      to: 'FY',\n      isInvalidEntry: true\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose();\n    }\n  }\n\n  @autobind\n  handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const to = event.target.value.toLocaleUpperCase().slice(0, 4);\n    const d = new Date();\n\n    this.setState({\n      isInvalidEntry: true,\n      to\n    });\n\n    if (!to.startsWith('FY')) {\n      return;\n    }\n    if (to.length !== 4) {\n      return;\n    }\n\n    if (to.length === 4 && !(Number('20' + to.substring(2, 4)) >= 2015 && Number('20' + to.substring(2, 4)) <= d.getFullYear() + 5)) {\n      return;\n    }\n\n    this.setState({\n      isInvalidEntry: false\n    });\n  }\n\n  @autobind\n  async moveProcessToAnotherFiscalYear() {\n    const { onClose, id } = this.props;\n    const { to } = this.state;\n    const { processStore } = this.context;\n\n    if (!id || !this.state.to) {\n      if (onClose) {\n        onClose('');\n      }\n      return;\n    }\n\n    this.setState({\n      isMoving: true\n    });\n\n    try {\n      const result = await processStore.moveProcessToAnotherFiscalYear(id, to);\n      if (onClose) {\n        onClose(result, to);\n      }\n    } catch (error) {\n      console.log(error);\n    } finally {\n      this.setState({\n        isMoving: false\n      });\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { to, isMoving } = this.state;\n\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-move-process-dialog-title\" fullWidth={true} maxWidth=\"sm\">\n        <DialogTitle id=\"confirm-move-process-dialog-title\">Move Process to Another Fiscal Year?</DialogTitle>\n        <DialogContent>\n          <div>\n            Are you sure you wish to move this process instance to{' '}\n            <strong>\n              <i>{to}</i>\n            </strong>\n          </div>\n          <div style={{ marginTop: 15 }}>\n            <FormControl>\n              <TextField required label=\"To Fiscal Year\" onChange={this.handleChange} value={this.state.to} variant=\"outlined\" error={this.state.isInvalidEntry} />\n              <FormHelperText id=\"standard-weight-helper-text\">Fiscal year format is 'FY19', 'FY20' etc. Only 4 characters are allowed.</FormHelperText>\n            </FormControl>\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {isMoving && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isMoving && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.moveProcessToAnotherFiscalYear} color=\"primary\" disabled={this.state.isInvalidEntry}>\n                Move\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(MoveProcessToAnotherFiscalYearDialog);\n\ninterface MoveProcessToAnotherFiscalYearDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (msg?: string, to?: string) => void;\n  from: string;\n  id: string;\n}\n\ninterface MoveProcessToAnotherFiscalYearDialogState {\n  isMoving: boolean;\n  to: string;\n  isInvalidEntry: boolean;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport moment from 'moment';\nimport findIndex from 'lodash/findIndex';\nimport orderBy from 'lodash/orderBy';\nimport debounce from 'lodash/debounce';\nimport startCase from 'lodash/startCase';\nimport kebabCase from 'lodash/kebabCase';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport { RouteComponentProps, withRouter, Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport UnsignProcessDialog from '../dialogs/UnsignProcessDialog';\nimport RejectProcessDialog from '../dialogs/RejectProcessDialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteProcessIcon from '@material-ui/icons/Delete';\nimport ProcessLogIcon from '@material-ui/icons/History';\nimport ShareIcon from '@material-ui/icons/Share';\nimport ExportProcessIcon from '@material-ui/icons/SaveAlt';\nimport LowPriorityIcon from '@material-ui/icons/LowPriority';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { AppContext } from '../../AppContext';\nimport { Process, Activity, ProcessStatus, Attachment, ActivityStatus, ProcessLog } from '../../ppp';\n\nimport ProcessHeader from './ProcessHeader';\nimport ActivityCard from './ActivityCard';\nimport ProcessStatusCard from './ProcessStatusCard';\nimport ConfirmDeleteAttachmentDialog from './ConfirmDeleteAttachmentDialog';\nimport DeleteProcessDialog from '../dialogs/DeleteProcessDialog';\nimport ExportProcessDialog from '../dialogs/ExportProcessDialog';\nimport { styles } from './styles';\nimport { saveAs } from 'file-saver';\nimport find from 'lodash/find';\nimport { getGUID } from '@pnp/common';\nimport DisplayEditableField from '../controls/DisplayEditableField';\nimport { MonitoringAndReviewComponent } from './MonitoringAndReview/MonitoringAndReview';\nimport { Paper, Snackbar, SnackbarContent } from '@material-ui/core';\nimport MoveProcessToAnotherFiscalYearDialog from '../dialogs/MoveProcessToAnotherFiscalYearDialog';\nimport { MonitoringAndReview } from '../../ppp/MonitoringAndReview';\nimport { NotedException } from '../../ppp/NotedException';\nimport { MonitoringAndReviewStatus } from '../../ppp/MonitoringAndReviewStatus';\n\nclass ProcessDetail extends React.Component<ProcessDetailsProps, ProcessDetailState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n  private _isMounted: boolean = false;\n\n  constructor(props: ProcessDetailsProps) {\n    super(props);\n\n    const values = queryString.parse(this.props.location.search);\n\n    this.state = {\n      isUpdatingNotes: false,\n      isLoadingProcess: true,\n      showSignoffDialog: false,\n      isSigningOff: false,\n      isUnsigning: false,\n      isRejecting: false,\n      origin: '',\n      notes: '',\n      responsibleParties: [],\n      showDeleteAttachmentDialog: false,\n      showProcessLog: false,\n      showDeleteProcessDialog: false,\n      showMoveProcessDialog: false,\n      activeActivityId: values.aaid,\n      showExportProcessDialog: false,\n      showUnsignDialog: false,\n      showRejectDialog: false,\n      information: { open: false, text: '', isError: false }\n    };\n\n    this.performNoteUpdate = debounce(this.performNoteUpdate, 3000);\n  }\n\n  public componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  /**\n   * Returns the next sequential activity in the sequence of activities associated with the process for the given activity id, or undefined.\n   * @param activityId\n   */\n  @autobind\n  getNextIncompleteProcessActivityId(activityId: string): string | undefined {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    const activityIndex = findIndex(process.activities, { id: activityId });\n\n    for (let i = activityIndex + 1; i < process.activities.length; i++) {\n      const activity = process.activities[i];\n      if (activity.status === ActivityStatus.Incomplete || activity.status === ActivityStatus.CompleteRequiresReview) {\n        return activity.id;\n      }\n    }\n  }\n\n  @autobind\n  shouldShowWarningIfStatusChanges(activityIndex: number, process: Process): boolean {\n    if (!process || !process.template.activities) {\n      return false;\n    }\n\n    if (activityIndex < 0 || activityIndex > process.activities.length - 1) {\n      return false;\n    }\n\n    const activity = process.activities[activityIndex];\n    if (activity.status === ActivityStatus.Complete || activity.status === ActivityStatus.CompleteRequiresReview) {\n      const childActivity = process.activities[activityIndex + 1];\n      if (!childActivity) {\n        return false;\n      }\n\n      const childActivityTemplate = process.template.activities.find(at => at.id === childActivity.id);\n      if (!childActivityTemplate) {\n        return false;\n      }\n\n      if (childActivityTemplate.dependsOnPreviousActivity === true && (childActivity.status === ActivityStatus.Complete || childActivity.status === ActivityStatus.CompleteRequiresReview)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  @autobind\n  async markProcessActivityAsComplete(activity: Activity) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    const updatedProcess = await this.context.processStore.markProcessActivityAsComplete(process.id, activity.id);\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      activeActivityId: this.getNextIncompleteProcessActivityId(activity.id)\n    });\n  }\n\n  @autobind\n  async markProcessActivityAsIncomplete(activity: Activity) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    const updatedProcess = await this.context.processStore.markProcessActivityAsIncomplete(process.id, activity.id);\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      activeActivityId: activity.id\n    });\n  }\n\n  @autobind\n  async markProcessActivityAsNotRequired(activity: Activity, comments: string) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    const updatedProcess = await this.context.processStore.markProcessActivityAsNotRequired(process.id, activity.id, comments);\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      activeActivityId: this.getNextIncompleteProcessActivityId(activity.id)\n    });\n  }\n\n  @autobind\n  async markProcessActivityAsReviewed(activity: Activity) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    const updatedProcess = await this.context.processStore.markProcessActivityAsReviewed(process.id, activity.id);\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      activeActivityId: this.getNextIncompleteProcessActivityId(activity.id)\n    });\n  }\n\n  @autobind\n  async performNoteUpdate(processId: string, notes: string) {\n    this.setState({\n      isUpdatingNotes: true\n    });\n    await this.context.processStore.updateProcessNotes(processId, notes);\n    this.setState({\n      isUpdatingNotes: false\n      /* \n        JG NOTE:  Living dangerously :P \n          I'd much rather have a flawless writing/typing experience for the user \n          than updating the notes here with possible stale data overwriting what the user wrote throwing them off.\n          So I'm not refreshing the multiline textbox here.\n          In theory, eventually the notes data will get debounced and sent to the server. So this should be ok.\n      */\n      /*  process: updatedProcess, */\n      /*  notes: updatedProcess.notes  */\n    });\n  }\n\n  @autobind\n  async handleNoteChanged(event: React.ChangeEvent<HTMLTextAreaElement>) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    this.setState({\n      notes: event.target.value\n    });\n\n    this.performNoteUpdate(process.id, event.target.value);\n  }\n\n  @autobind\n  beginSignOff() {\n    this.setState({\n      showSignoffDialog: true\n    });\n  }\n\n  @autobind\n  beginUnsign() {\n    this.setState({\n      showUnsignDialog: true\n    });\n  }\n\n  @autobind\n  async beginRejection(actionId?: string) {\n    this.setState({\n      showRejectDialog: true\n    });\n  }\n\n  @autobind\n  async handleCompleteRejectProcess(\n    reason: string,\n    info?: {\n      templateId?: string;\n      procInstanceId: string;\n      procInstanceName: string;\n    }\n  ) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    this.setState({\n      isRejecting: true\n    });\n\n    const updatedProcess = await this.context.processStore.rejectProcess(process.id, reason);\n\n    this.setState({\n      isRejecting: false,\n      showRejectDialog: false,\n      process: updatedProcess\n    });\n    if (info === undefined) {\n      this.props.history.push('/processes');\n    } else {\n      if (info && info.templateId) {\n        this.props.history.push(`/templates?pt=${info.templateId}&start=${info.procInstanceId}&name=${info.procInstanceName}`);\n      }\n    }\n  }\n\n  @autobind\n  handleUnsignDialogClose() {\n    this.setState({\n      showUnsignDialog: false\n    });\n  }\n\n  @autobind\n  handleRejectDialogClose() {\n    this.setState({\n      showRejectDialog: false\n    });\n  }\n\n  @autobind\n  handleSignOffDialogClose() {\n    this.setState({\n      showSignoffDialog: false\n    });\n  }\n\n  @autobind\n  async unsignProcess(reason: string) {\n    const { process } = this.state;\n\n    if (!process) {\n      return;\n    }\n\n    this.setState({\n      isUnsigning: true\n    });\n\n    const updatedProcess = await this.context.processStore.unsignProcess(process.id, reason);\n\n    this.setState({\n      isUnsigning: false,\n      notes: updatedProcess.notes,\n      showUnsignDialog: false,\n      process: updatedProcess\n    });\n  }\n\n  @autobind\n  async handleSignOff() {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    this.setState({\n      isSigningOff: true\n    });\n\n    const updatedProcess = await this.context.processStore.signCompletedProcess(process.id);\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      isSigningOff: false,\n      showSignoffDialog: false\n    });\n  }\n\n  @autobind\n  async handleAttachmentUpload(activity: Activity, file: File) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n    let originalFileName = file.name;\n    let fileName = getGUID() + originalFileName.substr(originalFileName.lastIndexOf('.'));\n\n    const updatedProcess = await this.context.processStore.uploadProcessActivityAttachment(process.id, activity.id, fileName, originalFileName, file);\n\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      activeActivityId: activity.id\n    });\n  }\n\n  @autobind\n  handleDeleteAttachmentDialogClosed() {\n    this.setState({\n      showDeleteAttachmentDialog: false,\n      deleteAttachmentActivity: undefined,\n      deleteAttachmentAttachment: undefined\n    });\n  }\n\n  @autobind\n  async beginAttachmentDelete(activity: Activity, attachment: Attachment) {\n    this.setState({\n      showDeleteAttachmentDialog: true,\n      deleteAttachmentActivity: activity,\n      deleteAttachmentAttachment: attachment\n    });\n  }\n\n  @autobind\n  async handleAttachmentDelete(activity: Activity, attachment: Attachment) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    const updatedProcess = await this.context.processStore.removeProcessActivityAttachment(process.id, activity.id, attachment.fileName);\n\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      activeActivityId: activity.id,\n      showDeleteAttachmentDialog: false,\n      deleteAttachmentActivity: undefined,\n      deleteAttachmentAttachment: undefined\n    });\n  }\n\n  @autobind\n  async handleResponsiblePartyUpdated(activity: Activity, newResponsibleParty: string) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    const updatedProcess = await this.context.processStore.updateProcessActivityResponsibleParty(process.id, activity.id, newResponsibleParty);\n\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      activeActivityId: activity.id\n    });\n  }\n\n  @autobind\n  async handleEditMonitoringAndReviewQuestions(item: MonitoringAndReview) {\n    const { process } = this.state;\n    if (process) {\n      try {\n        const updatedProcess = await this.context.processStore.updateMonitoringAndReviewQuestions(process.id, item);\n        this.setState({\n          process: updatedProcess\n        });\n      } catch (ex) {\n        this.setState({ information: { open: true, text: 'There was a problem autoSaving data. Please refresh page and try again.', isError: true } });\n      }\n    }\n  }\n\n  @autobind\n  async handleEditMonitoringAndReviewNotedExceptions(notedException: NotedException[] | undefined) {\n    const { process } = this.state;\n    if (process) {\n      try {\n        const updatedProcess = await this.context.processStore.updateMonitoringAndReviewNotedExceptions(process.id, notedException);\n        this.setState({\n          process: updatedProcess\n        });\n      } catch (ex) {\n        this.setState({ information: { open: true, text: 'There was a problem autoSaving data. Please refresh page and try again.', isError: true } });\n      }\n    }\n  }\n\n  @autobind\n  async handleEditMonitoringAndReviewNotes(rawText: string) {\n    this.setState({\n      isUpdatingNotes: true\n    });\n    if (this.state.process) {\n      const updatedProcess = await this.context.processStore.updateMonitoringAndReviewNotes(this.state.process.id, rawText);\n      this.setState({\n        process: updatedProcess\n      });\n    }\n  }\n\n  @autobind\n  async handleMonitoringAndReviewComplete() {\n    if (this.state.process) {\n      try {\n        this.setState({\n          isUpdatingNotes: true\n        });\n        const updatedProcess = await this.context.processStore.markMonitoringAndReviewAsComplete(this.state.process.id);\n        this.setState({\n          isUpdatingNotes: false,\n          process: updatedProcess\n        });\n      } catch (ex) {\n        this.setState({ information: { open: true, text: 'Could not complete due to incomplete data.', isError: true } });\n      } finally {\n        this.setState({\n          isUpdatingNotes: false\n        });\n      }\n    }\n  }\n\n  @autobind\n  async handleUpdateMonitoringAndReviewProcessOwner(notedExceptionId: string, value: string) {\n    if (this.state.process) {\n      const processId = this.state.process.id;\n      try {\n        this.setState({\n          isUpdatingNotes: true\n        });\n        const updatedProcess = await this.context.processStore.updateMonitoringAndReviewProcessOwner(processId, notedExceptionId, value);\n        this.setState({\n          isUpdatingNotes: false,\n          process: updatedProcess\n        });\n      } catch (ex) {\n        this.setState({ information: { open: true, text: 'Could not update process owner.', isError: true } });\n      } finally {\n        this.setState({\n          isUpdatingNotes: false\n        });\n      }\n    }\n  }\n\n  @autobind\n  getIsActivityExpanded(activity: Activity) {\n    const { activeActivityId } = this.state;\n    let expanded = false;\n\n    if (Array.isArray(activeActivityId)) {\n      expanded = !!activeActivityId.find(aaid => aaid === activity.id);\n    } else if (activeActivityId) {\n      expanded = activeActivityId === activity.id;\n    }\n\n    return expanded;\n  }\n\n  @autobind\n  async handleActivityExpanded(activity: Activity, activated: boolean) {\n    let { activeActivityId } = this.state;\n\n    // Turn it into an array.\n    if (Array.isArray(activeActivityId)) {\n      // Do Nothing\n    } else if (typeof activeActivityId === 'string') {\n      activeActivityId = [activeActivityId];\n    } else {\n      activeActivityId = [];\n    }\n\n    const ix = activeActivityId.indexOf(activity.id);\n    if (ix >= 0) {\n      activeActivityId.splice(ix, 1);\n    }\n\n    if (activated) {\n      activeActivityId.unshift(activity.id);\n    }\n\n    // Set the query string to contain the first five active activities.\n    const values = queryString.parse(this.props.location.search);\n    const aaids = activeActivityId.slice(0, 5);\n    values.aaid = aaids;\n\n    if (this.props.location.search !== queryString.stringify(values)) {\n      this.props.history.replace(`${this.props.location.pathname}?${queryString.stringify(values)}`);\n    }\n\n    this.setState({\n      activeActivityId\n    });\n  }\n\n  @autobind\n  async handleActivityCommentsUpdated(activity: Activity, newComments: string) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    const updatedProcess = await this.context.processStore.updateProcessActivityComments(process.id, activity.id, newComments);\n\n    this.setState({\n      process: updatedProcess,\n      notes: updatedProcess.notes,\n      activeActivityId: activity.id\n    });\n  }\n\n  @autobind\n  async handleInfoClose(event: any) {\n    this.setState({ information: { open: false, text: '', isError: false } });\n  }\n\n  @autobind\n  beginDeleteProcess() {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    this.setState({\n      showDeleteProcessDialog: true\n    });\n  }\n\n  @autobind\n  beginMoveProcess() {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n    this.setState({\n      showMoveProcessDialog: true\n    });\n  }\n\n  @autobind\n  handleDeleteProcessDialogClosed(deleted: Boolean) {\n    this.setState({\n      showDeleteProcessDialog: false\n    });\n\n    if (deleted === true) {\n      this.props.history.replace(`/processes`);\n    }\n  }\n\n  @autobind\n  handleMoveProcessToFiscalYearDialogClosed(msg?: string, to?: string) {\n    const { process } = this.state;\n    if (process && to) {\n      process.fiscalYear = to;\n    }\n\n    this.setState({\n      showMoveProcessDialog: false\n    });\n    if (msg && msg.length > 0) {\n      this.setState({\n        process,\n        information: { open: true, text: `${msg}`, isError: false }\n      });\n    }\n  }\n\n  @autobind\n  async showProcessLog() {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    this.setState({\n      showProcessLog: true,\n      processLog: undefined\n    });\n\n    const processLog = await this.getProcessLog(process);\n\n    this.setState({\n      processLog\n    });\n  }\n\n  @autobind\n  hideProcessLog() {\n    this.setState({\n      showProcessLog: false\n    });\n  }\n\n  @autobind\n  async getSharePointOrigin() {\n    /* istanbul ignore next */\n    if (process.env.NODE_ENV !== 'production') {\n      return 'http://localhost:3001';\n    }\n\n    const ctx = (await this.context.spContext.getContextInfo()) as any;\n    const a = document.createElement('a');\n    a.setAttribute('href', ctx.WebFullUrl);\n\n    const { hostname, port, protocol } = a;\n    const origin = `${protocol}//${hostname}${port.length ? `:${port}` : ''}`;\n    return origin;\n  }\n\n  @autobind\n  async getProcessLog(process: Process): Promise<ProcessLog> {\n    const { processLogStore } = this.context;\n    return await processLogStore.getProcessLogByProcessId(process.id);\n  }\n\n  @autobind\n  isPreviousActivityCompleted(index: number, activities: Activity[]) {\n    if (index === 0) {\n      return true;\n    }\n\n    if (index > activities.length - 1) {\n      return false;\n    }\n\n    const previousActivity = activities[index - 1];\n    switch (previousActivity.status) {\n      case ActivityStatus.Complete:\n      case ActivityStatus.CompleteRequiresReview:\n      case ActivityStatus.NotRequired:\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  @autobind\n  activityDepth(activityId: string, currentDepth?: number): number {\n    if (currentDepth && currentDepth >= 5) {\n      return 5;\n    }\n\n    if (!activityId) {\n      return currentDepth || 0;\n    }\n\n    const { process } = this.state;\n    if (!process || !process.template || !process.template.activities || process.template.activities.length <= 0) {\n      return currentDepth || 0;\n    }\n\n    const activityTemplateIndex = findIndex(process.template.activities, { id: activityId });\n    if (activityTemplateIndex <= 0) {\n      return currentDepth || 0;\n    }\n\n    const activityTemplate = process.template.activities[activityTemplateIndex];\n    if (activityTemplate.dependsOnPreviousActivity) {\n      return this.activityDepth(process.template.activities[activityTemplateIndex - 1].id, (currentDepth || 0) + 1);\n    }\n\n    return currentDepth || 0;\n  }\n\n  get processLinkHref() {\n    const { process } = this.state;\n    if (!process) {\n      return '';\n    }\n\n    return `mailto:\n?subject=${encodeURIComponent(`Sharing BPM Process '${process.name}'`)}\n&body=${encodeURIComponent(`This process can be viewed on the OFS Business Process Management Portal (BPM Portal) using the following link: ${window.location}`)}`;\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    const { match } = this.props;\n    const { processStore, processTemplateStore } = this.context;\n    const origin = await this.getSharePointOrigin();\n    const process = await processStore.getProcessById(match.params.id);\n    let responsibleParties = await processTemplateStore.getPartiesList();\n    responsibleParties = orderBy(responsibleParties, ['text'], 'asc');\n    this._isMounted === true &&\n      this.setState({\n        isLoadingProcess: false,\n        process,\n        notes: process.notes,\n        origin,\n        responsibleParties\n      });\n  }\n\n  async componentDidUpdate(prevProps: ProcessDetailsProps) {\n    const { match } = this.props;\n    if (match.params.id !== prevProps.match.params.id) {\n      const process = await this.context.processStore.getProcessById(match.params.id);\n      if (process && this._isMounted === true) {\n        this.setState({\n          isLoadingProcess: false,\n          process,\n          notes: process.notes\n        });\n      }\n    }\n  }\n\n  @autobind\n  async exportToZip() {\n    this.setState({\n      showExportProcessDialog: true\n    });\n  }\n\n  @autobind\n  handleExportProcessDialogClosed(result?: Blob) {\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n\n    if (result) {\n      saveAs(result, kebabCase(`${process.name}`) + '.zip');\n    }\n\n    this.setState({\n      showExportProcessDialog: false\n    });\n  }\n\n  @autobind\n  handleJobAidAttachments(process: Process, id: string): Attachment[] | undefined {\n    const activity = find(process.template.activities, { id: id });\n    if (activity) {\n      return activity.jobAidAttachments;\n    }\n    return undefined;\n  }\n\n  @autobind\n  handleNavigateToRejectedProcess(id: string) {\n    this.props.history.push(`/process/${id}`);\n  }\n\n  @autobind\n  async handleNotedExceptionAttachmentUpload(notedException: NotedException, attachmentFile: File): Promise<Attachment | undefined> {\n    const { processStore } = this.context;\n    const { process } = this.state;\n    if (!process) {\n      return;\n    }\n    return await processStore.uploadNotedExceptionAttachment(process.id, attachmentFile.name, attachmentFile, notedException.id);\n  }\n\n  public render() {\n    const { classes, currentUser } = this.props;\n    const {\n      isLoadingProcess,\n      isUpdatingNotes,\n      isSigningOff,\n      showSignoffDialog,\n      origin,\n      process,\n      notes,\n      showDeleteAttachmentDialog,\n      showDeleteProcessDialog,\n      showProcessLog,\n      showExportProcessDialog,\n      showMoveProcessDialog,\n      processLog,\n      showUnsignDialog,\n      isUnsigning\n    } = this.state;\n    const isAdmin = this.context.spContext.isAdministrator(currentUser);\n    const isSysAdmin = this.context.spContext.isSystemAdministrator(currentUser);\n\n    let noDeleteIcon = '';\n    let deleteIcon = 'none';\n    if (process && isAdmin) {\n      noDeleteIcon = 'none';\n      deleteIcon = '';\n    }\n\n    return (\n      <>\n        {isLoadingProcess && <CircularProgress className={classes.progress} size={30} thickness={5} />}\n        {!isLoadingProcess && process && (\n          <>\n            <p>\n              <Link to=\"/\">Home</Link>\n            </p>\n            <Typography variant=\"h5\" color=\"inherit\" noWrap className={classes.toolbarTitle}>\n              <Paper\n                style={{\n                  display: 'flex'\n                }}\n                square={false}\n              >\n                <Tooltip title=\"Share Process via Email\">\n                  <a href={this.processLinkHref} style={{ margin: 'auto', marginRight: 10, padding: 0, height: 24 }}>\n                    <ShareIcon color=\"secondary\" />\n                  </a>\n                </Tooltip>\n                <div style={{ display: '', width: '100%' }}>\n                  <DisplayEditableField\n                    readOnly={!isAdmin}\n                    isLoading={isLoadingProcess}\n                    label=\"Process Instance Name\"\n                    title=\"Process: \"\n                    field={process.name}\n                    onSave={async value => {\n                      this.setState({ isLoadingProcess: true });\n                      const updatedProcess = await this.context.processStore.updateProcessName(process.id, value);\n                      this.setState({\n                        process: updatedProcess,\n                        isLoadingProcess: false\n                      });\n                    }}\n                  />\n                </div>\n              </Paper>\n            </Typography>\n            <ProcessHeader classes={classes} process={process} origin={this.state.origin} />\n            <h4>\n              Activities <i>({process.activities.length} Total)</i>:\n            </h4>\n            {process.activities.map((activity, ix) => (\n              <ActivityCard\n                index={ix}\n                key={activity.id}\n                process={process}\n                expanded={this.getIsActivityExpanded(activity)}\n                activity={activity}\n                activityDepth={this.activityDepth(activity.id)}\n                template={process.template}\n                origin={origin}\n                responsibleParties={this.state.responsibleParties}\n                isPreviousActivityCompleted={this.isPreviousActivityCompleted(ix, process.activities)}\n                shouldShowWarningIfStatusChanges={this.shouldShowWarningIfStatusChanges(ix, process)}\n                allowActions={!(process.status === ProcessStatus.CompletedAndSigned || process.status === ProcessStatus.Rejected)}\n                onExpanded={this.handleActivityExpanded}\n                onMarkAsComplete={this.markProcessActivityAsComplete}\n                onMarkAsIncomplete={this.markProcessActivityAsIncomplete}\n                onMarkAsNotRequired={this.markProcessActivityAsNotRequired}\n                onMarkAsReviewed={this.markProcessActivityAsReviewed}\n                onAttachmentUpload={this.handleAttachmentUpload}\n                onAttachmentDelete={this.beginAttachmentDelete}\n                onResponsiblePartyUpdated={this.handleResponsiblePartyUpdated}\n                onCommentsUpdated={this.handleActivityCommentsUpdated}\n                jobAidAttachments={this.handleJobAidAttachments(process, activity.id)}\n              />\n            ))}\n            <Grid container spacing={8} style={{ paddingTop: '10px' }}>\n              <Grid item xs={6}>\n                <Card>\n                  <CardHeader title=\"Notes:\" />\n                  <CardContent>\n                    <div className={classes.parentOverlay}>\n                      {isUpdatingNotes && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.overlay} size={24} thickness={4} />}\n                      <TextField\n                        fullWidth\n                        variant=\"filled\"\n                        placeholder=\"Enter any comments or notes associated with the process\"\n                        rows=\"6\"\n                        rowsMax=\"6\"\n                        multiline\n                        value={notes}\n                        onChange={this.handleNoteChanged}\n                        margin=\"normal\"\n                        InputLabelProps={{ shrink: true }}\n                      />\n                    </div>\n                  </CardContent>\n                </Card>\n              </Grid>\n              <Grid item xs={6}>\n                <ProcessStatusCard\n                  classes={classes}\n                  process={process}\n                  beginSignOff={this.beginSignOff}\n                  beginUnsign={this.beginUnsign}\n                  beginReject={this.beginRejection}\n                  onNavigateToRejectedProcess={this.handleNavigateToRejectedProcess}\n                />\n              </Grid>\n              <Grid item xs={12} style={{ textAlign: 'right', paddingBottom: 1 }}>\n                <Tooltip title=\"Show Process Log\">\n                  <span>\n                    <IconButton onClick={this.showProcessLog}>\n                      <ProcessLogIcon style={{ fontSize: '24px' }} />\n                    </IconButton>\n                  </span>\n                </Tooltip>\n                <Tooltip title=\"Export Process\">\n                  <span>\n                    <IconButton disabled={process.status !== 'CompletedAndSigned'} onClick={this.exportToZip}>\n                      <ExportProcessIcon style={{ fontSize: '24px' }} />\n                    </IconButton>\n                  </span>\n                </Tooltip>\n                {isSysAdmin && (\n                  <Tooltip title=\"Move Process to Another Fiscal Year\">\n                    <span>\n                      <IconButton onClick={this.beginMoveProcess}>\n                        <LowPriorityIcon style={{ fontSize: '24px' }} />\n                      </IconButton>\n                    </span>\n                  </Tooltip>\n                )}\n\n                <Tooltip title=\"Delete Process\" style={{ display: deleteIcon }}>\n                  <span>\n                    <IconButton onClick={this.beginDeleteProcess}>\n                      <DeleteProcessIcon style={{ fontSize: '24px' }} />\n                    </IconButton>\n                  </span>\n                </Tooltip>\n                <Tooltip\n                  style={{ display: noDeleteIcon }}\n                  title=\"A process instance cannot be deleted (even after un-signing) if it has ever been approved and signed. Please contact the BPM tool admin if you want it removed\"\n                >\n                  <DeleteProcessIcon style={{ display: noDeleteIcon, fontSize: '24px', color: '#c4c2c2', position: 'relative', top: '8px', left: '10px' }} />\n                </Tooltip>\n              </Grid>\n              {isAdmin === true && (\n                <Grid item xs={12}>\n                  <div id=\"MonitoringAndReviewComponentView\">\n                    <MonitoringAndReviewComponent\n                      origin={origin}\n                      monitoringAndReview={process.monitoringAndReview || { status: MonitoringAndReviewStatus.NotStarted }}\n                      onEditQuestions={this.handleEditMonitoringAndReviewQuestions}\n                      onEditNotedExceptions={this.handleEditMonitoringAndReviewNotedExceptions}\n                      onNotesChange={this.handleEditMonitoringAndReviewNotes}\n                      onMonitoringAndReviewComplete={this.handleMonitoringAndReviewComplete}\n                      onUpdateMonitoringAndReviewProcessOwner={this.handleUpdateMonitoringAndReviewProcessOwner}\n                      onNotedExceptiononAttachmentUpload={this.handleNotedExceptionAttachmentUpload}\n                    />\n                  </div>\n                </Grid>\n              )}\n            </Grid>\n            <Dialog open={showSignoffDialog} onClose={this.handleSignOffDialogClose} aria-labelledby=\"responsive-dialog-title\">\n              <DialogTitle id=\"responsive-dialog-title\">Confirm Process Sign Off</DialogTitle>\n              <DialogContent>\n                <DialogContentText>\n                  By approving this process checklist, I am verifying that I have confirmed: i) all process steps were completed; ii) appropriate individual(s) completed each respective step and, in\n                  combination, a sufficient number of individuals were involved in the process cycle to ensure adequate segregation of duties; and iii) all process steps were completed in a\n                  sufficiently timely manner. Where any of these conditions were not previously met, I alerted the applicable individual(s) and had this process checklist recirculated for revision.\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                {isSigningOff && (\n                  <Grid container style={{ margin: '15px' }}>\n                    <CircularProgress variant=\"indeterminate\" disableShrink className={classes.progressSpinner} size={24} thickness={4} />\n                  </Grid>\n                )}\n                {!isSigningOff && (\n                  <>\n                    <Button onClick={this.handleSignOffDialogClose} color=\"primary\">\n                      Cancel\n                    </Button>\n                    <Button onClick={this.handleSignOff} color=\"primary\" autoFocus>\n                      Sign Off\n                    </Button>\n                  </>\n                )}\n              </DialogActions>\n            </Dialog>\n            <Dialog open={showProcessLog} onClose={this.hideProcessLog}>\n              <DialogTitle id=\"process-log-dialog-title\">Process Log</DialogTitle>\n              <DialogContent>\n                <Typography variant=\"caption\">\n                  {!processLog && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.progressSpinner} size={24} thickness={4} />}\n                  {processLog &&\n                    orderBy(processLog.logEntries, ['timeStamp'], ['desc']).map((entry, ix) => (\n                      <div key={ix}>\n                        {moment(entry.timeStamp).format('lll')} - {startCase(entry.kind)} - {entry.user!.displayName}\n                      </div>\n                    ))}\n                </Typography>\n              </DialogContent>\n            </Dialog>\n            <UnsignProcessDialog open={showUnsignDialog} onClose={this.handleUnsignDialogClose} handleUnsign={this.unsignProcess} process={process} isUnsigning={isUnsigning} />\n            <RejectProcessDialog\n              open={this.state.showRejectDialog}\n              onClose={this.handleRejectDialogClose}\n              handleReject={this.handleCompleteRejectProcess}\n              process={process}\n              isRejectinging={this.state.isRejecting}\n            />\n\n            <ConfirmDeleteAttachmentDialog\n              classes={classes}\n              open={showDeleteAttachmentDialog}\n              onClose={this.handleDeleteAttachmentDialogClosed}\n              onDeleteProcessTemplate={this.handleAttachmentDelete}\n              activity={this.state.deleteAttachmentActivity}\n              attachment={this.state.deleteAttachmentAttachment}\n            />\n            <DeleteProcessDialog open={showDeleteProcessDialog} process={process} onClose={this.handleDeleteProcessDialogClosed} />\n            {showExportProcessDialog && <ExportProcessDialog open={showExportProcessDialog} origin={origin} process={process} onClose={this.handleExportProcessDialogClosed} />}\n            {isSysAdmin && <MoveProcessToAnotherFiscalYearDialog open={showMoveProcessDialog} id={process.id} from={'N/A'} onClose={this.handleMoveProcessToFiscalYearDialogClosed} />}\n            <Snackbar\n              anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left'\n              }}\n              open={this.state.information.open}\n              autoHideDuration={6000}\n              onClose={this.handleInfoClose}\n            >\n              <SnackbarContent\n                classes={{ root: this.state.information.isError === true ? classes.snackbarError : classes.snackbarInfo }}\n                message={this.state.information.text}\n                action={[\n                  <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" className={classes.close} onClick={this.handleInfoClose}>\n                    <CloseIcon />\n                  </IconButton>\n                ]}\n              />\n            </Snackbar>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(ProcessDetail));\n\ninterface ProcessDetailsProps extends WithStyles<typeof styles>, RouteComponentProps<DetailRouterProps> {\n  currentUser: any;\n}\n\ninterface DetailRouterProps {\n  id: string;\n}\n\ninterface ProcessDetailState {\n  isLoadingProcess: boolean;\n  isUpdatingNotes: boolean;\n  showSignoffDialog: boolean;\n  isSigningOff: boolean;\n  showUnsignDialog: boolean;\n  showRejectDialog: boolean;\n  isUnsigning: boolean;\n  isRejecting: boolean;\n  process?: Process;\n  notes: string;\n  origin: string;\n  responsibleParties: { value: string; text: string }[];\n  showDeleteAttachmentDialog: boolean;\n  deleteAttachmentActivity?: Activity;\n  deleteAttachmentAttachment?: Attachment;\n  showProcessLog: boolean;\n  processLog?: ProcessLog;\n  showDeleteProcessDialog: boolean;\n  showMoveProcessDialog: boolean;\n  activeActivityId: string | string[] | undefined;\n  showExportProcessDialog: boolean;\n  information: { open: boolean; text: string; isError: boolean };\n}\n","import ProcessDetail from './ProcessDetail';\nexport default ProcessDetail;\nexport * from './ProcessDetail';\n","import React from 'react';\nimport moment from 'moment';\nimport { Theme, createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport AttachmentsArea from '../controls/AttachmentArea';\nimport { ProcessTemplate, Attachment } from '../../ppp';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: '5px',\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    },\n    formControl: {\n      margin: theme.spacing(),\n      width: '100%'\n    }\n  });\n\nclass ProcessHeader extends React.Component<TemplateHeaderProps> {\n  constructor(props: TemplateHeaderProps) {\n    super(props);\n  }\n\n  render() {\n    const { classes, data, path, isUploadingAttachment, origin } = this.props;\n    return (\n      <div className={classes.root}>\n        <Paper className={classes.paper}>\n          <Grid container className={classes.container} spacing={6}>\n            <Grid item xs={9}>\n              <TextField fullWidth label=\"Path\" className={classes.textField} value={path} InputProps={{ readOnly: true }} />\n            </Grid>\n            <Grid item xs={3}>\n              <TextField\n                fullWidth\n                label=\"Version\"\n                className={classes.textField}\n                value={`${data.status ? data!.status!.toString() : 'N/A'}, ${data.version ? data!.version : '0'}`}\n                InputProps={{ readOnly: true }}\n              />\n            </Grid>\n            <Grid item xs={9}>\n              <TextField fullWidth label=\"Created By\" className={classes.textField} value={data.createdBy ? data!.createdBy!.displayName : ''} InputProps={{ readOnly: true }} />\n            </Grid>\n            <Grid item xs={3}>\n              <TextField fullWidth label=\"Created Date\" className={classes.textField} value={data.created ? moment(data!.created).format('lll') : ''} InputProps={{ readOnly: true }} />\n            </Grid>\n            <Grid item xs={12}>\n              <Grid container spacing={0} justify={'flex-start'}>\n                <AttachmentsArea\n                  allowActions={true}\n                  isUploadingAttachment={isUploadingAttachment}\n                  attachments={this.props.data.jobAidAttachments}\n                  origin={origin}\n                  onAttachmentClicked={this.props.onAttachmentClicked}\n                  onAttachmentUpload={this.props.onProcessAttachmentUpload}\n                  onAttachmentDelete={this.props.onProcessAttachmentDelete}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(ProcessHeader);\n\ninterface TemplateHeaderProps extends WithStyles {\n  data: ProcessTemplate;\n  id: string;\n  path: string;\n  isUploadingAttachment: boolean;\n  origin: string;\n  onAttachmentClicked(attachment: Attachment): void;\n  onProcessAttachmentUpload(attachmentFile: File): Promise<void>;\n  onProcessAttachmentDelete(attachment: Attachment): Promise<void>;\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport autobind from 'autobind-decorator';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { WithStyles, Theme, createStyles, withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport { ActivityTemplate, Attachment } from '../../ppp';\nimport { getGUID } from '@pnp/common';\nimport RichEditorEditor from '../controls/RichEditorEditor';\nimport { CircularProgress } from '@material-ui/core';\nimport AttachmentsArea from '../controls/AttachmentArea';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    paper: {\n      ...theme.mixins.gutters(),\n      paddingTop: theme.spacing() * 2,\n      paddingBottom: theme.spacing() * 2\n    },\n    formControl: {\n      padding: '2px'\n    },\n    selectEmpty: {\n      marginTop: theme.spacing() * 2\n    },\n    editor: {\n      border: '1px solid grey',\n      minHeight: '6em'\n    },\n    activityAttachmentsColumn: {\n      borderLeft: `2px solid ${theme.palette.divider}`,\n      padding: `${theme.spacing()}px ${theme.spacing() * 2}px`,\n      marginTop: theme.spacing()\n    }\n  });\n\nclass ActivityTemplateDialog extends React.PureComponent<ActivityDialogProps & WithStyles, ActivityDialogState> {\n  private editor: any;\n  private waitForDebounce = 2000;\n  constructor(props: ActivityDialogProps & WithStyles) {\n    super(props);\n    this.state = {\n      id: getGUID(),\n      description: '',\n      allowAttachments: true,\n      dependsOnPreviousActivity: false,\n      responsibleParty: '',\n      requireAttachments: false,\n      requiresReview: false,\n      showTooltip: false,\n      editorState: {},\n      isPerformingAction: false,\n      jobAidAttachments: [],\n      isUploadingAttachment: false\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps: ActivityDialogProps, state: ActivityTemplate) {\n    const { activityTemplate } = nextProps;\n    if (activityTemplate) {\n      const showTooltip = activityTemplate.tooltip !== undefined ? true : false;\n      return {\n        id: activityTemplate.id,\n        description: activityTemplate.description,\n        responsibleParty: activityTemplate.responsibleParty,\n        allowAttachments: activityTemplate.allowAttachments,\n        dependsOnPreviousActivity: activityTemplate.dependsOnPreviousActivity,\n        requireAttachments: activityTemplate.requireAttachments,\n        requiresReview: activityTemplate.requiresReview,\n        tooltip: activityTemplate.tooltip,\n        showTooltip: showTooltip,\n        jobAidAttachments: activityTemplate.jobAidAttachments\n      };\n    } else {\n      return null;\n    }\n  }\n\n  @autobind\n  setEditor(editor: any) {\n    this.editor = editor;\n  }\n\n  @autobind\n  focusEditor() {\n    if (this.editor) {\n      this.editor.focus();\n    }\n  }\n\n  @autobind\n  onChange(editorState: any) {\n    this.setState({ editorState });\n  }\n\n  @autobind\n  handleClose(event: React.MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.props.onClose('');\n  }\n\n  @autobind\n  handleSubmit(event: React.MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.setState({ isPerformingAction: true }, () => {\n      // TODO: Hack, this wait half a sec.  for the last debounce.\n      // Researching for a better solution. This works for now.\n      setTimeout(() => {\n        this.props.onSave(this.state, this.props.index);\n        this.setState({ isPerformingAction: false });\n      }, this.waitForDebounce + 500);\n    });\n  }\n\n  @autobind\n  handleStringChange(name: string) {\n    const { onActivityTemplateChange, index } = this.props;\n    const currentActivityTemplate = { ...this.state } as ActivityTemplate;\n    return (event: React.ChangeEvent<{ name?: string | undefined; value: any }>) => {\n      switch (name) {\n        case 'description': {\n          currentActivityTemplate.description = event.target.value;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'tooltip': {\n          currentActivityTemplate.tooltip = event.target.value;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'responsibleParty': {\n          currentActivityTemplate.responsibleParty = event.target.value;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        default: {\n          // statements;\n          break;\n        }\n      }\n    };\n  }\n\n  @autobind\n  handleBooleanChange(name: string) {\n    const { onActivityTemplateChange, index } = this.props;\n    const currentActivityTemplate = { ...this.state } as ActivityTemplate;\n    return (event: React.ChangeEvent<HTMLInputElement>) => {\n      switch (name) {\n        case 'allowAttachments': {\n          currentActivityTemplate.allowAttachments = event.target.checked;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'requireAttachments': {\n          currentActivityTemplate.requireAttachments = event.target.checked;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'dependsOnPreviousActivity': {\n          currentActivityTemplate.dependsOnPreviousActivity = event.target.checked;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'requiresReview': {\n          currentActivityTemplate.requiresReview = event.target.checked;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'showTooltip': {\n          if (event.target.checked === false) {\n            currentActivityTemplate.tooltip = undefined;\n          } else {\n            currentActivityTemplate.tooltip = '';\n          }\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        default: {\n          // statements;\n          break;\n        }\n      }\n    };\n  }\n\n  @autobind\n  focusTooltipInputField(input: HTMLInputElement): void {\n    input && input.focus();\n  }\n\n  @autobind\n  handleDescriptionRTChange(rawText: string) {\n    const { onActivityTemplateChange, index } = this.props;\n    const currentActivityTemplate = { ...this.state } as ActivityTemplate;\n    currentActivityTemplate.description = rawText;\n    onActivityTemplateChange(currentActivityTemplate, index);\n  }\n\n  @autobind\n  handleAttachmentClicked(attachment: Attachment) {\n    window.open(this.props.origin + attachment.serverRelativeUrl, '_blank');\n  }\n\n  @autobind\n  async handleAttachmentUpload(attachmentFile: File) {\n    this.setState({\n      isPerformingAction: true,\n      isUploadingAttachment: true\n    });\n    const activity = this.state as ActivityTemplate;\n    await this.props.onAttachmentUpload(activity, attachmentFile);\n\n    this.setState({\n      isPerformingAction: false,\n      isUploadingAttachment: false\n    });\n  }\n\n  @autobind\n  async handleAttachmentDelete(attachment: Attachment) {\n    this.setState({\n      isPerformingAction: true,\n      isUploadingAttachment: true\n    });\n    const activity = this.state as ActivityTemplate;\n    await this.props.onAttachmentDelete(activity, attachment);\n\n    this.setState({\n      isPerformingAction: false,\n      isUploadingAttachment: false\n    });\n  }\n\n  render() {\n    const { description, isPerformingAction: isMoving, isUploadingAttachment } = this.state;\n    const { classes, index, origin } = this.props;\n    const header = `${index >= 0 ? 'Edit' : 'Add'} Activity`;\n\n    return (\n      <Dialog fullWidth={true} maxWidth=\"md\" open={this.props.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\" disableBackdropClick={true}>\n        <DialogTitle id=\"form-dialog-title\" style={{ padding: 5 }}>\n          {header}\n        </DialogTitle>\n        <DialogContent>\n          <Grid container spacing={0}>\n            <Grid item xs={12}>\n              <RichEditorEditor placeholder=\"Description...\" rawText={description} onChange={this.handleDescriptionRTChange} waitForDebounce={this.waitForDebounce} />\n            </Grid>\n            <Grid item xs={12}>\n              <Grid container>\n                <Grid item xs={8}>\n                  <Grid container>\n                    <Grid item xs={12}>\n                      <FormControlLabel\n                        className={classes.formControl}\n                        style={{ paddingTop: 5 }}\n                        control={<Checkbox className={classes.formControl} checked={this.state.allowAttachments} onChange={this.handleBooleanChange('allowAttachments')} value=\"allowAttachments\" />}\n                        label=\"Allow Attachments\"\n                      />\n                    </Grid>\n                    <Grid item xs={1} />\n                    <Grid item xs={11}>\n                      <FormControlLabel\n                        control={\n                          <Checkbox\n                            className={classes.formControl}\n                            checked={this.state.requireAttachments}\n                            onChange={this.handleBooleanChange('requireAttachments')}\n                            value=\"requireAttachments\"\n                            disabled={!this.state.allowAttachments}\n                          />\n                        }\n                        label=\"Require Attachments\"\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <FormControlLabel\n                        control={\n                          <Checkbox\n                            className={classes.formControl}\n                            style={{ paddingBottom: '13px' }}\n                            checked={this.state.dependsOnPreviousActivity}\n                            onChange={this.handleBooleanChange('dependsOnPreviousActivity')}\n                            value=\"dependsOnPreviousActivity\"\n                          />\n                        }\n                        label=\"Depends on Prior Activity\"\n                      />\n                    </Grid>\n                    <Grid item xs={8}>\n                      <FormControl fullWidth={true} style={{ paddingBottom: '15px' }}>\n                        <InputLabel htmlFor=\"responsible-party\">Responsible Party</InputLabel>\n                        <Select\n                          value={this.state.responsibleParty}\n                          onChange={this.handleStringChange('responsibleParty')}\n                          inputProps={{\n                            name: 'responsibleParty',\n                            id: 'responsibleParty'\n                          }}\n                        >\n                          <MenuItem value=\"\">\n                            <em>None</em>\n                          </MenuItem>\n                          {this.props.parties.map((party: { value: string; text: string }) => {\n                            return (\n                              <MenuItem key={party.value} value={party.text}>\n                                {party.text}\n                              </MenuItem>\n                            );\n                          })}\n                        </Select>\n                      </FormControl>\n                    </Grid>\n                    <Grid item xs={4} />\n                    <Grid item xs={12}>\n                      <FormControlLabel\n                        control={<Checkbox className={classes.formControl} checked={this.state.requiresReview} onChange={this.handleBooleanChange('requiresReview')} value=\"requiresReview\" />}\n                        label=\"Requires Secondary Review\"\n                      />\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Grid item xs={4} className={classes.activityAttachmentsColumn}>\n                  <AttachmentsArea\n                    allowActions={true}\n                    isUploadingAttachment={isUploadingAttachment}\n                    attachments={this.state.jobAidAttachments}\n                    origin={origin}\n                    onAttachmentClicked={this.handleAttachmentClicked}\n                    onAttachmentUpload={this.handleAttachmentUpload}\n                    onAttachmentDelete={this.handleAttachmentDelete}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <FormControlLabel\n                control={<Checkbox className={classes.formControl} checked={this.state.showTooltip} onChange={this.handleBooleanChange('showTooltip')} value=\"showTooltip\" />}\n                label=\"Tooltip?\"\n              />\n            </Grid>\n            {this.state.showTooltip ? (\n              <Grid item xs={12}>\n                <TextField\n                  inputRef={this.focusTooltipInputField}\n                  className={classes.formControl}\n                  fullWidth={true}\n                  id=\"activityTemplateTooltipTextField\"\n                  multiline\n                  placeholder=\"Tooltip\"\n                  rows=\"4\"\n                  value={this.state.tooltip}\n                  margin=\"normal\"\n                  onChange={this.handleStringChange('tooltip')}\n                />\n              </Grid>\n            ) : null}\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Grid container direction=\"row\" justify=\"flex-end\" spacing={8} alignItems=\"flex-start\" style={{ width: '100%', margin: 0 }}>\n            {isMoving && (\n              <Grid item style={{ marginBottom: 25, marginRight: 30 }}>\n                <CircularProgress size={25} />\n              </Grid>\n            )}\n            {!isMoving && (\n              <Grid item>\n                <Button style={{ margin: 5 }} variant=\"outlined\" color=\"primary\" onClick={this.handleSubmit}>\n                  Submit\n                </Button>\n                <Button style={{ margin: 5 }} variant=\"outlined\" color=\"primary\" onClick={this.handleClose}>\n                  Cancel\n                </Button>\n              </Grid>\n            )}\n          </Grid>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(ActivityTemplateDialog);\n\ninterface ActivityDialogProps {\n  activityTemplate?: ActivityTemplate;\n  index: number;\n  open: boolean;\n  parties: Array<{ value: string; text: string }>;\n  origin: string;\n  onActivityTemplateChange(item: ActivityTemplate, index: number): void;\n  onAttachmentUpload: (activity: ActivityTemplate, file: File) => Promise<void>;\n  onAttachmentDelete: (activity: ActivityTemplate, attachment: Attachment) => Promise<void>;\n  onClose(value: string): void;\n  onSave(item: ActivityTemplate, index: number): void;\n}\n\ninterface ActivityDialogState extends ActivityTemplate {\n  isUploadingAttachment: boolean;\n  showTooltip: boolean;\n  editorState: any;\n  isPerformingAction: boolean;\n}\n","import React from 'react';\nimport { WithStyles, withStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Typography from '@material-ui/core/Typography';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Paper from '@material-ui/core/Paper';\nimport DOMPurify from 'dompurify';\nimport { ActivityTemplate } from '../../ppp';\nimport UnfoldMore from '@material-ui/icons/UnfoldMore';\nimport Edit from '@material-ui/icons/Edit';\nimport Delete from '@material-ui/icons/Delete';\nimport AttachFile from '@material-ui/icons/AttachFile';\nimport HelpOutlineRounded from '@material-ui/icons/HelpOutlineRounded';\nimport autobind from 'autobind-decorator';\nimport { Fab } from '@material-ui/core';\nimport isEqual from 'lodash/isEqual';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      maxWidth: 752\n    },\n    listitem: {\n      backgroundColor: theme.palette.background.paper\n    },\n    listItemContent: {\n      paddingLeft: 5,\n      paddingRight: 55\n    },\n    deleteButton: {\n      color: theme.palette.secondary.dark\n    },\n    dependsOnRow: {\n      marginLeft: 20\n    },\n    notDependsOnRow: {\n      marginLeft: 0\n    },\n    paper: {},\n    responsiblePartyInitials: {\n      fontWeight: 100,\n      minWidth: '30px',\n      minHeight: '30px',\n      height: '30px',\n      width: '30px',\n      backgroundColor: theme.palette.primary.main,\n      boxShadow: 'none',\n      cursor: 'default'\n    }\n  });\n\nclass ActivityTemplateListItem extends React.PureComponent<ActivityTemplateListItemProps, ActivityTemplateListItemState> {\n  constructor(props: ActivityTemplateListItemProps) {\n    super(props);\n    this.state = {\n      id: '',\n      description: '',\n      responsibleParty: '',\n      allowAttachments: false,\n      dependsOnPreviousActivity: false,\n      requireAttachments: false,\n      requiresReview: false,\n      showTooltip: false,\n      dependsOnClassname: props.classes.dependsOnRow,\n      jobAidAttachments: []\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps: ActivityTemplateListItemProps, state: ActivityTemplateListItemState) {\n    if (\n      nextProps.activityTemplate.id !== state.id ||\n      nextProps.activityTemplate.allowAttachments !== state.allowAttachments ||\n      nextProps.activityTemplate.dependsOnPreviousActivity !== state.dependsOnPreviousActivity ||\n      nextProps.activityTemplate.description !== state.description ||\n      nextProps.activityTemplate.requireAttachments !== state.requireAttachments ||\n      nextProps.activityTemplate.requiresReview !== state.requiresReview ||\n      nextProps.activityTemplate.responsibleParty !== state.responsibleParty ||\n      nextProps.activityTemplate.tooltip !== state.tooltip ||\n      !isEqual(nextProps.activityTemplate.jobAidAttachments, state.jobAidAttachments)\n    ) {\n      return {\n        id: nextProps.activityTemplate.id,\n        description: nextProps.activityTemplate.description,\n        responsibleParty: nextProps.activityTemplate.responsibleParty,\n        allowAttachments: nextProps.activityTemplate.allowAttachments,\n        dependsOnPreviousActivity: nextProps.activityTemplate.dependsOnPreviousActivity,\n        requireAttachments: nextProps.activityTemplate.requireAttachments,\n        requiresReview: nextProps.activityTemplate.requiresReview,\n        tooltip: nextProps.activityTemplate.tooltip,\n        jobAidAttachments: nextProps.activityTemplate.jobAidAttachments,\n        dependsOnClassname: ActivityTemplateListItem.setDependsOnClassname(nextProps, nextProps.activityTemplate.dependsOnPreviousActivity)\n      };\n    } else {\n      return null;\n    }\n  }\n\n  static setDependsOnClassname(props: ActivityTemplateListItemProps, dependsOnValue: boolean): string {\n    return dependsOnValue ? props.classes.dependsOnRow : props.classes.notDependsOnRow;\n  }\n\n  static getInitials(name: string): string {\n    let initials = name.match(/\\b\\w/g) || [];\n    return ((initials.shift() || '') + (initials.pop() || '')).toUpperCase();\n  }\n\n  @autobind\n  handleDeleteActionTemplate(event: React.MouseEvent, activity: ActivityTemplate, index: number) {\n    this.props.onClickDelete(activity, index);\n  }\n\n  @autobind\n  handleBooleanChange(name: string) {\n    const { onActivityTemplateChange, index } = this.props;\n    const currentActivityTemplate = { ...this.state };\n    return (event: React.ChangeEvent<HTMLInputElement>) => {\n      switch (name) {\n        case 'allowAttachments': {\n          currentActivityTemplate.allowAttachments = event.target.checked;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'requireAttachments': {\n          currentActivityTemplate.requireAttachments = event.target.checked;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'dependsOnPreviousActivity': {\n          const value = this.props.index !== undefined && this.props.index === 0 ? false : event.target.checked;\n          currentActivityTemplate.dependsOnPreviousActivity = value;\n          currentActivityTemplate.dependsOnClassname = ActivityTemplateListItem.setDependsOnClassname(this.props, event.target.checked);\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        case 'requiresReview': {\n          currentActivityTemplate.requiresReview = event.target.checked;\n          onActivityTemplateChange(currentActivityTemplate, index);\n          break;\n        }\n        default: {\n          // statements;\n          break;\n        }\n      }\n    };\n  }\n\n  render() {\n    const { id, description, dependsOnPreviousActivity, allowAttachments, requireAttachments, requiresReview, responsibleParty, tooltip, jobAidAttachments, dependsOnClassname } = this.state;\n    const { classes, activityDepth, index, readOnly } = this.props;\n    return (\n      <Paper className={classes.paper + ' ' + dependsOnClassname} style={{ marginLeft: `${activityDepth * 15}px` }} id={id}>\n        <Grid container spacing={0} direction=\"row\" wrap=\"nowrap\" justify=\"center\">\n          <Grid item style={{ padding: 10 }}>\n            <Avatar>\n              <UnfoldMore />\n            </Avatar>\n          </Grid>\n          <Grid item xs zeroMinWidth>\n            <Grid container className={classes.listItemContent} direction=\"column\" spacing={0} justify=\"flex-start\">\n              <Grid item>\n                <Typography variant=\"subtitle2\">{`Activity #${index + 1}`}</Typography>\n              </Grid>\n              <Grid item className={'rte'} dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(description) }} />\n              <Grid item style={{ paddingTop: 5 }}>\n                {responsibleParty && (\n                  <>\n                    <Typography variant=\"subtitle1\">\n                      <Fab size=\"small\" color=\"primary\" className={classes.responsiblePartyInitials}>\n                        {ActivityTemplateListItem.getInitials(responsibleParty)}\n                      </Fab>\n                      <span style={{ paddingLeft: 7 }}>{responsibleParty}</span>\n                    </Typography>\n                  </>\n                )}\n              </Grid>\n              <Grid container justify=\"flex-end\">\n                <FormControl>\n                  <FormGroup row>\n                    {tooltip && tooltip.length > 0 && (\n                      <FormControlLabel\n                        control={\n                          <Tooltip title={tooltip ? tooltip : ''} enterDelay={500} leaveDelay={200}>\n                            <HelpOutlineRounded color=\"action\" />\n                          </Tooltip>\n                        }\n                        label=\"\"\n                      />\n                    )}\n                    {index > 0 && (\n                      <FormControlLabel\n                        hidden={index !== undefined && index === 0}\n                        control={<Switch onChange={this.handleBooleanChange('dependsOnPreviousActivity')} checked={dependsOnPreviousActivity} />}\n                        label=\"Depends On Previous\"\n                      />\n                    )}\n                    <FormControlLabel control={<Switch onChange={this.handleBooleanChange('allowAttachments')} checked={allowAttachments} />} label=\"Allow Attachments\" />\n                    <FormControlLabel\n                      control={<Switch onChange={this.handleBooleanChange('requireAttachments')} checked={requireAttachments} disabled={!allowAttachments} />}\n                      label=\"Require Attachments\"\n                    />\n                    <FormControlLabel control={<Switch onChange={this.handleBooleanChange('requiresReview')} checked={requiresReview} />} label=\"Requires Secondary  Review\" />\n                  </FormGroup>\n                </FormControl>\n              </Grid>\n            </Grid>\n          </Grid>\n          {!readOnly && (\n            <Grid item>\n              {jobAidAttachments && jobAidAttachments.length > 0 && (\n                <Tooltip\n                  title={jobAidAttachments\n                    .map(elem => {\n                      return elem.fileName;\n                    })\n                    .join(', ')}\n                  enterDelay={500}\n                  leaveDelay={200}\n                >\n                  <IconButton\n                    onClick={(event: React.MouseEvent) => {\n                      event.preventDefault();\n                      event.stopPropagation();\n                      this.props.onClickEdit(this.state, this.props.index);\n                    }}\n                    key={id}\n                  >\n                    <AttachFile />\n                  </IconButton>\n                </Tooltip>\n              )}\n              <IconButton\n                aria-label=\"Edit / View\"\n                onClick={(event: React.MouseEvent) => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  this.props.onClickEdit(this.state, this.props.index);\n                }}\n                key={id}\n              >\n                <Edit />\n              </IconButton>\n              <IconButton\n                onClick={(e: React.MouseEvent) => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  this.handleDeleteActionTemplate(e, this.state, this.props.index);\n                }}\n              >\n                <Delete className={classes.deleteButton} />\n              </IconButton>\n            </Grid>\n          )}\n        </Grid>\n      </Paper>\n    );\n  }\n}\n\ninterface ActivityTemplateListItemProps extends WithStyles {\n  activityTemplate: ActivityTemplate;\n  index: number;\n  activityDepth: number;\n  readOnly: boolean;\n  onClickEdit(activityTemplate: ActivityTemplate, index: number): void;\n  onActivityTemplateChange(item: ActivityTemplate, index: number): void;\n  onClickDelete(activityTemplate: ActivityTemplate, index: number): void;\n}\n\ninterface ActivityTemplateListItemState extends ActivityTemplate {\n  showTooltip: boolean;\n  dependsOnClassname: string;\n}\n\nexport default withStyles(styles)(ActivityTemplateListItem);\n","import React from 'react';\nimport { Theme, createStyles, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { ActivityTemplate } from '../../ppp';\nimport { DragDropContext, Droppable, Draggable, DragUpdate, DroppableProvided, DroppableStateSnapshot, DraggableProvided, DraggableStateSnapshot } from 'react-beautiful-dnd';\nimport ActivityTemplateListItem from './ActivityTemplateListItem';\nimport autobind from 'autobind-decorator';\nimport findIndex from 'lodash/findIndex';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    list: {\n      padding: 0,\n      margin: 0,\n      listStyle: 'none'\n    },\n    listitem: {\n      margin: `0px`,\n      padding: '2px 2px'\n    }\n  });\n\nconst getItemStyle = (isDragging: boolean, draggableStyle: any) => ({\n  background: isDragging ? 'lightgrey' : '',\n  ...draggableStyle\n});\n\nconst reorder = (list: Array<ActivityTemplate>, startIndex: number, endIndex: number): Array<ActivityTemplate> => {\n  const [removed] = list.splice(startIndex, 1);\n  list.splice(endIndex, 0, removed);\n  return list;\n};\n\nclass ActivitiesList extends React.Component<ActivitiesListProps, ActivitiesListState> {\n  constructor(props: ActivitiesListProps) {\n    super(props);\n\n    this.state = { activities: [] };\n  }\n\n  static getDerivedStateFromProps(nextProps: ActivitiesListProps, state: ActivitiesListState) {\n    return { activities: nextProps.activities };\n  }\n\n  @autobind\n  onDragEnd(result: DragUpdate) {\n    if (!result.destination) {\n      return;\n    }\n    if (this.state.activities) {\n      const activities = reorder(this.state.activities, result.source.index, result.destination.index);\n      this.props.onActivitiesOrderChange(activities);\n    }\n  }\n\n  @autobind\n  handleClickEdit(item: ActivityTemplate, index: number) {\n    this.props.onClickEdit(item, index);\n  }\n\n  @autobind\n  handleClickDelete(item: ActivityTemplate, index: number) {\n    this.props.onClickDelete(item, index);\n  }\n\n  @autobind\n  handleActivityTemplateChange(item: ActivityTemplate, index: number) {\n    this.props.onActivityTemplateChange(item, index);\n  }\n\n  @autobind\n  activityDepth(activityId: string, currentDepth?: number): number {\n    if (currentDepth && currentDepth >= 5) {\n      return 5;\n    }\n\n    if (!activityId) {\n      return currentDepth || 0;\n    }\n\n    const { activities } = this.state;\n    if (!activities || activities.length <= 0) {\n      return currentDepth || 0;\n    }\n\n    const activityTemplateIndex = findIndex(activities, { id: activityId });\n    if (activityTemplateIndex <= 0) {\n      return currentDepth || 0;\n    }\n\n    const activityTemplate = activities[activityTemplateIndex];\n    if (activityTemplate.dependsOnPreviousActivity) {\n      return this.activityDepth(activities[activityTemplateIndex - 1].id, (currentDepth || 0) + 1);\n    }\n\n    return currentDepth || 0;\n  }\n\n  render() {\n    const { classes, readOnly } = this.props;\n    const { activities } = this.state;\n\n    return (\n      <DragDropContext onDragEnd={this.onDragEnd}>\n        <Droppable droppableId=\"droppable\" isDropDisabled={readOnly}>\n          {(provided: DroppableProvided, snapshot: DroppableStateSnapshot) => (\n            <div ref={provided.innerRef} className={classes.list}>\n              {activities.map((activity: ActivityTemplate, index: number) => (\n                <Draggable key={activity.id} draggableId={activity.id} index={index} isDragDisabled={readOnly}>\n                  {(draggableProvided: DraggableProvided, draggableSnapshot: DraggableStateSnapshot) => (\n                    <div\n                      key={activity.id}\n                      className={classes.listitem}\n                      ref={draggableProvided.innerRef}\n                      {...draggableProvided.draggableProps}\n                      {...draggableProvided.dragHandleProps}\n                      style={getItemStyle(draggableSnapshot.isDragging, draggableProvided.draggableProps.style)}\n                    >\n                      <ActivityTemplateListItem\n                        key={index}\n                        index={index}\n                        readOnly={readOnly}\n                        activityTemplate={activity}\n                        activityDepth={this.activityDepth(activity.id)}\n                        onClickEdit={this.handleClickEdit}\n                        onClickDelete={this.handleClickDelete}\n                        onActivityTemplateChange={this.handleActivityTemplateChange}\n                      />\n                    </div>\n                  )}\n                </Draggable>\n              ))}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n    );\n  }\n}\n\ninterface ActivitiesListProps extends WithStyles {\n  activities: Array<ActivityTemplate> | undefined;\n  readOnly: boolean;\n  onClickEdit(item: ActivityTemplate, index: number): any;\n  onClickDelete(item: ActivityTemplate, index: number): any;\n  onActivityTemplateChange(item: ActivityTemplate, index: number): any;\n  onActivitiesOrderChange(activities: Array<ActivityTemplate>): void;\n}\n\ninterface ActivitiesListState {\n  activities: Array<ActivityTemplate>;\n}\n\nexport default withStyles(styles)(ActivitiesList);\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { ActivityTemplate } from '../../ppp';\nimport Grid from '@material-ui/core/Grid';\nimport { truncate } from 'lodash';\n\nclass DeleteActivityTemplateDialog extends React.Component<DeleteActivityTemplateDialogProps, DeleteActivityTemplateDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: DeleteActivityTemplateDialogProps) {\n    super(props);\n\n    this.state = {\n      isDeleting: false\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.setState({\n        isDeleting: false\n      });\n      this.props.onClose(false);\n    }\n  }\n\n  get activitySummaryText(): string {\n    const { activityTemplate } = this.props;\n    if (activityTemplate) {\n      const text = new DOMParser().parseFromString(activityTemplate.description, 'text/html');\n      if (text.body && text.body.textContent) {\n        return truncate((text.body.textContent || '').trim(), { length: 100 });\n      }\n    }\n    return '[ Not Available ]';\n  }\n\n  @autobind\n  async handleDelete() {\n    const { onClose, activityTemplate, index } = this.props;\n\n    if (activityTemplate === undefined || !activityTemplate.id) {\n      if (onClose) {\n        onClose(false);\n      }\n      return;\n    }\n\n    if (activityTemplate) {\n      await this.setState({\n        isDeleting: true\n      });\n      await new Promise(resolve => setTimeout(resolve, 500)); // give time to spin the wheel\n      try {\n        this.props.onDelete(activityTemplate, index);\n      } catch (error) {\n        // TODO: just   delete error if any. Make sure the popup closes and isDeleting reset\n      }\n      if (onClose) {\n        onClose(false);\n      }\n      this.setState({\n        isDeleting: false\n      });\n    }\n  }\n\n  render() {\n    const { classes, activityTemplate } = this.props;\n    const { isDeleting } = this.state;\n\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-delete-Activity-dialog-title\" fullWidth={true} maxWidth=\"xs\">\n        <DialogTitle id=\"confirm-delete-activity-dialog-title\">Delete Activity Template?</DialogTitle>\n        <DialogContent>\n          {activityTemplate && (\n            <div>\n              Are you sure you wish to delete the activity titled{' '}\n              <strong>\n                <i>{this.activitySummaryText}</i>\n              </strong>\n            </div>\n          )}\n        </DialogContent>\n        <DialogActions>\n          {isDeleting && (\n            <Grid container style={{ marginLeft: '50%', marginBottom: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isDeleting && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\" tabIndex={1}>\n                Cancel\n              </Button>\n              <Button onClick={this.handleDelete} color=\"primary\" tabIndex={2} disabled={isDeleting}>\n                Delete\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(DeleteActivityTemplateDialog);\n\ninterface DeleteActivityTemplateDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (deleted: boolean) => void;\n  onDelete: (activityTemplate: ActivityTemplate, index: number) => void;\n  activityTemplate?: ActivityTemplate;\n  index: number;\n}\n\ninterface DeleteActivityTemplateDialogState {\n  isDeleting: boolean;\n}\n","import React from 'react';\nimport { Theme, withStyles, WithStyles } from '@material-ui/core/styles';\nimport { Link, RouteComponentProps, withRouter, Prompt } from 'react-router-dom';\nimport ProcessHeader from '../controls/process-header';\nimport green from '@material-ui/core/colors/green';\nimport { ProcessTemplate, ActivityTemplate, ProcessTemplateResponse, ProcessTemplateVersion, Attachment } from '../../ppp';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport SaveIcon from '@material-ui/icons/Save';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport LaunchRounded from '@material-ui/icons/LaunchRounded';\nimport autobind from 'autobind-decorator';\nimport ActivityTemplateDialog from '../dialogs/ActivityTemplateDialog';\nimport ConfirmationDialog from '../dialogs/ConfirmationDialog';\nimport ActivitiesList from '../controls/ActivitiesList';\nimport { getGUID } from '@pnp/common';\nimport { AppContext } from '../../AppContext';\nimport trim from 'lodash/trim';\nimport toUpper from 'lodash/toUpper';\nimport DeleteActivityTemplateDialog from '../dialogs/DeleteActivityTemplateDialog';\nimport DisplayEditableField from '../controls/DisplayEditableField';\nimport find from 'lodash/find';\n\nconst styles = (theme: Theme) => ({\n  section: {\n    marginTop: theme.spacing(),\n    marginBottom: theme.spacing()\n  },\n  toolbarTitle: {},\n  buttonActions: {\n    margin: '0px 2px'\n  },\n  wrapper: {\n    margin: theme.spacing()\n  },\n  facebook2: {\n    color: '#6798e5',\n    animationDuration: '550ms'\n  },\n  icons: {\n    marginRight: theme.spacing()\n  },\n  buttonSuccess: {\n    backgroundColor: green[500],\n    '&:hover': {\n      backgroundColor: green[700]\n    }\n  },\n  fabProgress: {\n    color: green[500],\n    top: -6,\n    left: -6,\n    zIndex: 1\n  },\n  buttonProgress: {\n    color: green[500],\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  },\n  input: {}\n});\n\nclass ProcessTemplateEditor extends React.Component<ProcessTemplateEditorProps, ProcessTemplateEditorState> {\n  private _isMounted: boolean = false;\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: ProcessTemplateEditorProps) {\n    super(props);\n\n    const processTemplate: ProcessTemplate = { title: '', description: '' };\n    this.state = {\n      readOnly: true,\n      data: processTemplate,\n      open: false,\n      path: '',\n      parties: [],\n      versionHistory: [],\n      loading: false,\n      selectedActivityTemplateIndex: -1,\n      deleteConfirmationOpen: false,\n      confirmationOpen: false,\n      confirmationTitle: '',\n      confirmationMessage: '',\n      isPerformingAction: false,\n      isUploadingAttachment: false,\n      dataIsDirty: false,\n      height: 0,\n      origin: ''\n    };\n  }\n\n  public async componentDidMount() {\n    this._isMounted = true;\n    const { match } = this.props;\n    const { id, ver } = match.params;\n    this.getAllData(id, ver);\n  }\n\n  public componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  @autobind\n  async getSharePointOrigin() {\n    /* istanbul ignore next */\n    if (process.env.NODE_ENV !== 'production') {\n      return 'http://localhost:3001';\n    }\n\n    const ctx = (await this.context.spContext.getContextInfo()) as any;\n    const a = document.createElement('a');\n    a.setAttribute('href', ctx.WebFullUrl);\n\n    const { hostname, port, protocol } = a;\n    const origin = `${protocol}//${hostname}${port.length ? `:${port}` : ''}`;\n    return origin;\n  }\n\n  @autobind\n  handleImport(event: React.ChangeEvent<HTMLInputElement>) {\n    if (event && event.target && event.target.files && event.target.files.length >= 0) {\n      const file = event.target.files[0];\n      this.importFile(file, event.target);\n    }\n  }\n\n  @autobind\n  importFile(file: File, target: any) {\n    if (file) {\n      this.setState({ isPerformingAction: true }, () => {\n        const reader = new FileReader();\n        reader.addEventListener(\n          'load',\n          async (evt: any) => {\n            try {\n              if (evt && evt.currentTarget && evt.currentTarget.result) {\n                let binary = '';\n                const bytes = new Uint8Array(evt.currentTarget.result);\n                const length = bytes.byteLength;\n                for (var i = 0; i < length; i++) {\n                  binary += String.fromCharCode(bytes[i]);\n                }\n                const XLSX = await import('xlsx');\n                let workbook = XLSX.read(binary, {\n                  type: 'binary'\n                });\n                let spreadsheetdata = XLSX.utils.sheet_to_json(workbook.Sheets[workbook.SheetNames[0]], {\n                  range: 0\n                });\n                let row: any;\n                const { data } = this.state;\n                let activitiesAddedCount = 0;\n                for (row of spreadsheetdata) {\n                  if (row !== undefined && row.Activity !== undefined) {\n                    const responsibleParty = row.ResponsibleParty || '';\n                    const allowAttachments = this.getboolean(row.Attachments);\n                    const requireAttachment = this.getboolean(row.RequireAttachment);\n                    const dependsPrior = this.getboolean(row.DependsPrior);\n                    const externalReviewer = this.getboolean(row.ExternalReviewer);\n                    const tooltip = row.Tooltip;\n                    const activity: ActivityTemplate = {\n                      id: getGUID(),\n                      description: row.Activity,\n                      allowAttachments: allowAttachments,\n                      dependsOnPreviousActivity: dependsPrior,\n                      responsibleParty: responsibleParty,\n                      requireAttachments: requireAttachment,\n                      requiresReview: externalReviewer,\n                      tooltip: tooltip,\n                      jobAidAttachments: []\n                    };\n                    if (data.activities === undefined) {\n                      data.activities = [];\n                    }\n                    data.activities.push(activity);\n                    activitiesAddedCount++;\n                  }\n                }\n                if (activitiesAddedCount > 0) {\n                  this.setState({\n                    data,\n                    dataIsDirty: true,\n                    confirmationOpen: true,\n                    confirmationTitle: 'Import Activities',\n                    confirmationMessage: `${activitiesAddedCount} Activities were imported successfully.`\n                  });\n                }\n              }\n            } catch (e) {\n              this.setState({ isPerformingAction: false });\n              console.log(e);\n            }\n            this.setState({ isPerformingAction: false });\n            target.value = ''; // HACK to circumvent opening again the same file name issue.\n          },\n          false\n        );\n\n        reader.addEventListener(\n          'error',\n          e => {\n            this.setState({ isPerformingAction: false });\n          },\n          false\n        );\n\n        if (reader) {\n          setTimeout(() => reader.readAsArrayBuffer(file), 200);\n        }\n      });\n    }\n  }\n\n  getboolean(value: string): boolean {\n    if (!value || value === undefined) {\n      return false;\n    }\n    if (value && trim(value).length === 0) {\n      return false;\n    }\n    value = toUpper(value);\n    if (value && value.length > 0 && (value.charAt(0) === 'N' || value.charAt(0) === 'F')) {\n      return false;\n    }\n    return true;\n  }\n\n  @autobind\n  async handleSaveDraft(event: React.MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (this.state.readOnly === true) {\n      return;\n    }\n    const { data } = this.state;\n    const { processTemplateStore } = this.context;\n\n    try {\n      this.setState({ isPerformingAction: true });\n      const response = await processTemplateStore.saveProcessTemplateAsDraft(this.state.path, data);\n      this.setState({ data: response, isPerformingAction: false, dataIsDirty: false });\n    } catch (e) {\n      console.log(e);\n      this.setState({ isPerformingAction: false });\n    }\n  }\n\n  @autobind\n  handleAddNewActivityClickOpen() {\n    if (this.state.readOnly === true) {\n      return;\n    }\n    const newActivityTemplate: ActivityTemplate = {\n      id: getGUID(),\n      description: '',\n      allowAttachments: true,\n      dependsOnPreviousActivity: false,\n      responsibleParty: '',\n      requireAttachments: false,\n      requiresReview: false,\n      jobAidAttachments: []\n    };\n    this.setState({ selectedActivityTemplate: newActivityTemplate, selectedActivityTemplateIndex: -1, open: true });\n  }\n\n  @autobind\n  handleClickEdit(activityTemplate: ActivityTemplate, index: number) {\n    if (this.state.readOnly === true) {\n      return;\n    }\n    if (this.state.data.activities && index >= 0) {\n      this.setState({ selectedActivityTemplate: this.state.data.activities[index], selectedActivityTemplateIndex: index, open: true });\n    }\n  }\n\n  @autobind\n  handleClickDelete(activityTemplate: ActivityTemplate, index: number) {\n    if (this.state.readOnly === true) {\n      return;\n    }\n    this.setState({\n      deleteConfirmationOpen: true,\n      selectedActivityTemplate: activityTemplate,\n      selectedActivityTemplateIndex: index\n    });\n  }\n\n  @autobind\n  deleteActivity(activityTemplate: ActivityTemplate, index: number) {\n    let { activities } = this.state.data;\n    if (activities !== undefined) {\n      const newActivitiesState = [...activities]; // clone the array\n      if (activityTemplate.id === newActivitiesState[index].id) {\n        // just a safeguard\n        newActivitiesState.splice(index, 1);\n        this.state.data.activities = newActivitiesState;\n        this.setState({ data: this.state.data, open: false, dataIsDirty: true });\n      } else {\n        throw Error('ID doesnt match to delete.');\n      }\n    }\n  }\n\n  @autobind\n  handleClose() {\n    this.setState({ open: false });\n  }\n\n  @autobind\n  handleActivitySave(item: ActivityTemplate, index: number) {\n    this.updateActivity(item, index);\n    setTimeout(() => {\n      this.highlightItem(item.id);\n      if (index < 0) {\n        this.scrollToElement(item.id); // Only scroll for new rows\n      }\n    }, 500);\n  }\n\n  @autobind\n  async handlePublishTemplate(event: React.MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    const { processTemplateStore } = this.context;\n    const { id } = this.state.data;\n    if (id !== undefined && id.length > 0) {\n      try {\n        this._isMounted && this.setState({ isPerformingAction: true });\n        const response: ProcessTemplateResponse = await processTemplateStore.publishProcessTemplateById(id);\n        this.setState({\n          data: response,\n          isPerformingAction: false,\n          dataIsDirty: false,\n          confirmationOpen: true,\n          confirmationTitle: 'Published Template',\n          confirmationMessage: `Process template ${this.state.data.description} has been published successfully.`\n        });\n      } catch (e) {\n        console.log(e);\n        this.setState({\n          isPerformingAction: false,\n          dataIsDirty: false,\n          confirmationOpen: true,\n          confirmationTitle: 'Error Message',\n          confirmationMessage: `Error pubishing template. Error: ${e}.`\n        });\n      }\n    }\n  }\n\n  @autobind\n  handleCancelEdits(event: React.MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    const { match } = this.props;\n    const { id, ver } = match.params;\n    if (this._isMounted) {\n      this.getTemplate(id, ver);\n    }\n  }\n\n  @autobind\n  handleActivityTemplateChange(item: ActivityTemplate, index: number) {\n    this.updateActivity(item, index);\n  }\n\n  @autobind\n  handleActivityTemplateDialogChange(activityTemplate: ActivityTemplate, index: number) {\n    this.setState({\n      selectedActivityTemplate: activityTemplate\n    });\n  }\n\n  @autobind\n  async handleAttachmentUpload(activity: ActivityTemplate, file: File) {\n    const { processTemplateStore } = this.context;\n    const { id } = this.state.data;\n    if (id) {\n      const response = await processTemplateStore.uploadProcessTemplateAttachment(id, file.name, file, activity.id);\n      if (response) {\n        this.updateActivityJobAidAttachments(activity.id, response as Attachment);\n      }\n    }\n  }\n\n  @autobind\n  async beginAttachmentDelete(activity: ActivityTemplate, attachment: Attachment) {\n    const { selectedActivityTemplate } = this.state;\n    const { id } = this.state.data;\n    if (id && selectedActivityTemplate) {\n      const jaAttachment = find(selectedActivityTemplate.jobAidAttachments, { fileName: attachment.fileName });\n      if (jaAttachment) {\n        const idxJA = selectedActivityTemplate.jobAidAttachments.indexOf(jaAttachment);\n        if (idxJA >= 0) {\n          let buffer = [...selectedActivityTemplate.jobAidAttachments];\n          buffer.splice(idxJA, 1);\n          selectedActivityTemplate.jobAidAttachments = buffer;\n          this.setState({ selectedActivityTemplate });\n        }\n      }\n    }\n  }\n\n  @autobind\n  handleActivitiesOrderChange(activities: Array<ActivityTemplate>) {\n    if (this.state.readOnly === true) {\n      return;\n    }\n    if (activities === undefined) {\n      activities = [];\n    }\n    this.state.data.activities = activities;\n    if (activities.length > 0) {\n      activities[0].dependsOnPreviousActivity = false;\n    }\n    this.setState({ data: this.state.data, dataIsDirty: true });\n  }\n\n  @autobind\n  async getAllData(id: string, ver?: string) {\n    const { processTemplateStore } = this.context;\n    if (id && id.length > 10) {\n      if (ver && ver.length > 0) {\n        this.setState({ readOnly: true, isPerformingAction: true });\n      } else {\n        this.setState({ readOnly: false, isPerformingAction: true });\n      }\n      try {\n        const [containerPath, data, versionHistory, parties, origin] = await Promise.all([\n          processTemplateStore.getProcessTemplateContainerById(id),\n          processTemplateStore.getProcessTemplateById(id, ver),\n          processTemplateStore.getProcessTemplateVersionHistoryById(id),\n          processTemplateStore.getPartiesList(),\n          this.getSharePointOrigin()\n        ]);\n        this._isMounted &&\n          this.setState(\n            {\n              path: containerPath,\n              data: data,\n              versionHistory: versionHistory,\n              parties: parties,\n              isPerformingAction: false,\n              dataIsDirty: false,\n              readOnly: data.version !== data.currentVersionNumber,\n              origin: origin\n            },\n            () => {\n              this.setState({ height: window.innerHeight });\n            }\n          );\n      } catch (e) {\n        console.log(`ERROR -> ${e}`);\n        this.setState({ isPerformingAction: false });\n      }\n    }\n  }\n\n  async getTemplate(id: string, ver?: string) {\n    const { processTemplateStore } = this.context;\n    if (id && id.length > 10) {\n      this.setState({ isPerformingAction: true });\n      try {\n        const data = await processTemplateStore.getProcessTemplateById(id); // this so far is  used only in Non ReadOnly, Version is not nessesary.\n        this._isMounted &&\n          this.setState(\n            {\n              data: data,\n              isPerformingAction: false,\n              dataIsDirty: false,\n              readOnly: false\n            },\n            () => {\n              this.setState({ height: window.innerHeight });\n            }\n          );\n      } catch (e) {\n        console.log(`ERROR -> ${e}`);\n        this.setState({ isPerformingAction: false });\n      }\n    }\n  }\n\n  @autobind\n  updateActivity(item: ActivityTemplate, index?: number) {\n    const { data } = this.state;\n    if (this.state.readOnly === true) {\n      return;\n    }\n    if (data.activities === undefined) {\n      data.activities = [];\n    }\n    // BR: if requireAttachments = true then set allowAttachments = true\n    if (item && (item.allowAttachments === false && item.requireAttachments === true)) {\n      item.requireAttachments = false;\n    }\n    if (item && (item.allowAttachments === false && item.requireAttachments === true)) {\n      item.allowAttachments = true;\n    }\n\n    if (index !== undefined && index >= 0) {\n      data.activities[index].id = item.id;\n      data.activities[index].description = item.description;\n      data.activities[index].allowAttachments = item.allowAttachments;\n      data.activities[index].dependsOnPreviousActivity = item.dependsOnPreviousActivity;\n      data.activities[index].responsibleParty = item.responsibleParty;\n      data.activities[index].requireAttachments = item.requireAttachments;\n      data.activities[index].requiresReview = item.requiresReview;\n      data.activities[index].tooltip = item.tooltip !== undefined ? item.tooltip : undefined;\n      if (item.jobAidAttachments) {\n        data.activities[index].jobAidAttachments = [...item.jobAidAttachments]; //\n      } else {\n        data.activities[index].jobAidAttachments = [];\n      }\n    } else {\n      data.activities.push(item);\n    }\n\n    // BR: Make sure the first activity is not depending on any activity.\n    if (data.activities.length > 0) {\n      data.activities[0].dependsOnPreviousActivity = false;\n    }\n    this.setState({ data, open: false, dataIsDirty: true }, () => {\n      /*  this.setState({ height: window.innerHeight }); */\n    });\n  }\n\n  @autobind\n  updateActivityJobAidAttachments(id: string, item: Attachment) {\n    const { selectedActivityTemplate } = this.state;\n    if (this.state.readOnly === true) {\n      return;\n    }\n    if (selectedActivityTemplate) {\n      if (selectedActivityTemplate.id === id) {\n        if (!selectedActivityTemplate.jobAidAttachments) {\n          selectedActivityTemplate.jobAidAttachments = [];\n        }\n        const jaAttachment = find(selectedActivityTemplate.jobAidAttachments, { fileName: item.fileName });\n        if (!jaAttachment) {\n          selectedActivityTemplate.jobAidAttachments = [...selectedActivityTemplate.jobAidAttachments, item];\n          this.setState({ selectedActivityTemplate, dataIsDirty: true });\n        }\n      }\n    }\n  }\n\n  @autobind\n  updateProcessJobAidAttachments(id: string, item: Attachment) {\n    const { data } = this.state;\n\n    if (this.state.readOnly === true) {\n      return;\n    }\n    if (data.id && data.id === id) {\n      if (!data.jobAidAttachments) {\n        data.jobAidAttachments = [];\n      }\n      const jaAttachment = find(data.jobAidAttachments, { fileName: item.fileName });\n      if (!jaAttachment) {\n        data.jobAidAttachments = [...data.jobAidAttachments, item];\n        this.setState({ data, dataIsDirty: true });\n      }\n    }\n  }\n\n  scrollToElement(id: string) {\n    const ele = document.getElementById(id);\n    if (ele) {\n      const clientRects = ele.getClientRects();\n      /* istanbul ignore next */\n      const top = clientRects[0] ? clientRects[0].top : 0;\n      /* istanbul ignore next */\n      if (top > window.pageYOffset + window.innerHeight || top < window.pageYOffset) {\n        // @ts-ignore\n        const isIE = /*@cc_on!@*/ false || !!document.documentMode;\n        if (isIE) {\n          document.documentElement.scrollTop = top;\n        } else {\n          window.scroll({\n            top: top,\n            behavior: 'smooth'\n          });\n        }\n      }\n    }\n  }\n\n  highlightItem(id: string) {\n    const ele = document.getElementById(id);\n    if (ele) {\n      ele.classList.add('backgroundAnimated');\n      setTimeout(() => {\n        ele.classList.remove('backgroundAnimated');\n      }, 5000);\n    }\n  }\n\n  hasScrollbar() {\n    const body = document.getElementsByTagName('body')[0];\n    if (body) {\n      return body.scrollHeight > window.innerHeight;\n    }\n    return false;\n  }\n\n  @autobind\n  handleAttachmentClicked(attachment: Attachment) {\n    window.open(this.state.origin + attachment.serverRelativeUrl, '_blank');\n  }\n\n  @autobind\n  async handleProcessAttachmentUpload(attachmentFile: File) {\n    const { processTemplateStore } = this.context;\n    const { id } = this.state.data;\n    this.setState({\n      isPerformingAction: true,\n      isUploadingAttachment: true\n    });\n    if (attachmentFile && id) {\n      const response = await processTemplateStore.uploadProcessTemplateAttachment(id, attachmentFile.name, attachmentFile);\n      if (response) {\n        this.updateProcessJobAidAttachments(id, response as Attachment);\n      }\n    }\n    this.setState({\n      isPerformingAction: false,\n      isUploadingAttachment: false\n    });\n  }\n\n  @autobind\n  async handleProcessAttachmentDelete(attachment: Attachment) {\n    const { data } = this.state;\n\n    this.setState({\n      isPerformingAction: true,\n      isUploadingAttachment: true\n    });\n\n    if (data.id) {\n      const jaAttachment = find(data.jobAidAttachments, { fileName: attachment.fileName });\n      if (jaAttachment && jaAttachment !== undefined && data.jobAidAttachments) {\n        const idx = data.jobAidAttachments.indexOf(jaAttachment as Attachment);\n        if (idx >= 0) {\n          let buffer = [...data.jobAidAttachments];\n          buffer.splice(idx, 1);\n          data.jobAidAttachments = buffer;\n          this.setState({ data, dataIsDirty: true });\n        }\n      }\n    }\n    this.setState({\n      isPerformingAction: false,\n      isUploadingAttachment: false\n    });\n  }\n\n  public render() {\n    const { classes, ...others } = this.props;\n    const { data, loading, isPerformingAction, isUploadingAttachment, dataIsDirty, path, readOnly, origin } = this.state;\n    let pathDisplay = path;\n    if (pathDisplay) {\n      pathDisplay = pathDisplay // Clean a bit the path for display\n        .replace(/^\\/|\\/$/g, '')\n        .replace(/\\//g, ' / ');\n    }\n    return (\n      <React.Fragment>\n        <Prompt when={dataIsDirty} message=\"You have unsaved changes, are you sure you want to leave?\" />\n        <p>\n          <Link to=\"/\">Home</Link> &gt; <Link to=\"/templates\">Process Templates</Link>\n        </p>\n        <DisplayEditableField\n          readOnly={readOnly}\n          isLoading={this.state.isPerformingAction}\n          label=\"Process Template Title\"\n          title=\"Template Editor: \"\n          field={this.state.data.title}\n          onSave={value => {\n            data.title = value;\n            this.setState({ data, dataIsDirty: true });\n          }}\n        />\n\n        <ProcessHeader\n          {...others}\n          id={this.props.match.params.id}\n          data={data}\n          path={pathDisplay}\n          origin={origin}\n          isUploadingAttachment={isUploadingAttachment}\n          onAttachmentClicked={this.handleAttachmentClicked}\n          onProcessAttachmentUpload={this.handleProcessAttachmentUpload}\n          onProcessAttachmentDelete={this.handleProcessAttachmentDelete}\n        />\n\n        <Grid container direction=\"row\" alignItems=\"center\" justify=\"space-between\">\n          <Grid item className={classes.section}>\n            <Typography variant=\"h5\" color=\"inherit\" noWrap className={classes.toolbarTitle} id=\"addActivityButton\">\n              Activities\n            </Typography>\n          </Grid>\n\n          {isPerformingAction && (\n            <Grid item xs={3} className={classes.section}>\n              <CircularProgress style={{ margin: '2px' }} variant=\"indeterminate\" disableShrink className={classes.facebook2} size={30} thickness={4} />\n            </Grid>\n          )}\n          {!isPerformingAction && (\n            <>\n              <Grid item className={classes.section}>\n                <Button variant=\"outlined\" color=\"primary\" className={classes.buttonActions} onClick={this.handleCancelEdits} disabled={!dataIsDirty || readOnly}>\n                  <ClearIcon className={classes.icons} />\n                  Cancel Changes\n                </Button>\n                <Button variant=\"outlined\" color=\"primary\" className={classes.buttonActions} onClick={this.handleSaveDraft} disabled={!dataIsDirty || readOnly}>\n                  <SaveIcon className={classes.icons} />\n                  Save Draft\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  className={classes.buttonActions}\n                  onClick={this.handlePublishTemplate}\n                  disabled={dataIsDirty || (!data.activities || data.activities.length === 0) || readOnly}\n                >\n                  <PublishIcon className={classes.icons} />\n                  Publish Template\n                </Button>\n              </Grid>\n            </>\n          )}\n        </Grid>\n\n        <Grid item className={classes.section}>\n          <Grid container justify=\"space-between\">\n            <Grid item>\n              <Button variant=\"contained\" color=\"primary\" className={classes.buttonActions} onClick={this.handleAddNewActivityClickOpen} disabled={readOnly}>\n                <AddIcon className={classes.icons} /> Activity\n              </Button>\n              <input\n                accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\n                className={classes.input}\n                style={{ display: 'none' }}\n                id=\"import-button-file\"\n                type=\"file\"\n                onChange={this.handleImport}\n              />\n              <label htmlFor=\"import-button-file\">\n                <Button component=\"span\" disabled={loading || readOnly}>\n                  <ArrowUpward className={classes.icons} />\n                  Import Activities from Excel\n                </Button>\n                {loading && <CircularProgress size={24} className={classes.buttonProgress} />}\n              </label>\n              <Button href=\"ActivityTemplate.xlsx\">\n                <LaunchRounded className={classes.icons} />\n                Download Excel Template\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        {data.activities && (\n          <ActivitiesList\n            readOnly={this.state.readOnly}\n            activities={this.state.data.activities}\n            onActivityTemplateChange={this.handleActivityTemplateChange}\n            onClickEdit={this.handleClickEdit}\n            onClickDelete={this.handleClickDelete}\n            onActivitiesOrderChange={this.handleActivitiesOrderChange}\n          />\n        )}\n        {!isPerformingAction && this.hasScrollbar() && (\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ padding: 10 }}>\n            <Button\n              id=\"scrollToBottomButton\"\n              style={{ width: '300px' }}\n              onClick={() => {\n                this.scrollToElement('addActivityButton');\n              }}\n            >\n              <ArrowUpward />\n              <span style={{ paddingLeft: 5 }}> Scroll Up </span>\n            </Button>\n          </Grid>\n        )}\n        <ActivityTemplateDialog\n          activityTemplate={this.state.selectedActivityTemplate}\n          index={this.state.selectedActivityTemplateIndex}\n          parties={this.state.parties}\n          open={this.state.open}\n          onActivityTemplateChange={this.handleActivityTemplateDialogChange}\n          onClose={this.handleClose}\n          onSave={this.handleActivitySave}\n          origin={this.state.origin}\n          onAttachmentUpload={this.handleAttachmentUpload}\n          onAttachmentDelete={this.beginAttachmentDelete}\n        />\n        <ConfirmationDialog\n          open={this.state.confirmationOpen}\n          title={this.state.confirmationTitle}\n          message={this.state.confirmationMessage}\n          onClose={() => {\n            this.setState({ confirmationOpen: false });\n          }}\n        />\n        <DeleteActivityTemplateDialog\n          open={this.state.deleteConfirmationOpen}\n          index={this.state.selectedActivityTemplateIndex}\n          activityTemplate={this.state.selectedActivityTemplate}\n          onClose={() => {\n            this.setState({ deleteConfirmationOpen: false });\n          }}\n          onDelete={(activityTemplate, index) => {\n            if (activityTemplate && index >= 0) {\n              this.deleteActivity(activityTemplate, index);\n            }\n          }}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(ProcessTemplateEditor));\n\ninterface ProcessTemplateEditorProps extends WithStyles<typeof styles>, RouteComponentProps<DetailRouterProps> {\n  // TODO add more props here if nessesary\n}\n\ninterface DetailRouterProps {\n  id: string;\n  ver: string;\n}\n\ninterface ProcessTemplateEditorState {\n  versionHistory: ProcessTemplateVersion[];\n  data: ProcessTemplate;\n  open: boolean;\n  path: string;\n  parties: Array<{ value: string; text: string }>;\n  readOnly: boolean;\n  loading: boolean;\n  confirmationTitle: string;\n  confirmationMessage: string;\n  confirmationOpen: boolean;\n  deleteConfirmationOpen: boolean;\n  selectedActivityTemplate?: ActivityTemplate;\n  selectedActivityTemplateIndex: number;\n  isPerformingAction: boolean;\n  isUploadingAttachment: boolean;\n\n  dataIsDirty: boolean;\n  height: number;\n  origin: string;\n}\n","import React from 'react';\nimport { Paper, Popper, MenuItem, MenuList, ClickAwayListener, ButtonGroup, Button, Grow, Divider, Typography, ListItemSecondaryAction } from '@material-ui/core';\nimport autobind from 'autobind-decorator';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport AccountIcon from '@material-ui/icons/AccountCircle';\nimport { Theme, createStyles, withStyles, WithStyles } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport { AppContext } from '../../AppContext';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport DoneIcon from '@material-ui/icons/Done';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport chunk from 'lodash/chunk';\nimport { observer } from 'mobx-react';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport { green } from '@material-ui/core/colors';\nimport ConfirmationDialog from '../dialogs/ConfirmationDialog';\n\nexport const styles = (theme: Theme) =>\n  createStyles({\n    profileIcon: {\n      minWidth: 40,\n      minHeight: 40,\n      color: theme.palette.grey.A200,\n      marginRight: theme.spacing()\n    },\n    snackbarError: {\n      backgroundColor: theme.palette.error.dark\n    },\n    snackbarInfo: { backgroundColor: green[800] },\n    close: {}\n  });\n\n@observer\nclass AppBarProfile extends React.Component<AppBarProfileProps, AppBarProfileState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: AppBarProfileProps) {\n    super(props);\n    this.state = {\n      open: false,\n      anchorEl: null,\n      isSynching: false,\n      progress: 0,\n      syncInfo: { open: false, text: '', isError: false }\n    };\n  }\n\n  @autobind\n  async componentDidUpdate(prevProps: AppBarProfileProps) {\n    // TODO:\n  }\n\n  @autobind\n  handleMenuItemClick(event: React.MouseEvent<HTMLLIElement, MouseEvent>, index: number, id: string) {\n    this.setState({ open: false });\n    this.props.onViewChange(id);\n  }\n\n  @autobind\n  handleGlobalMenuItemClick(event: React.MouseEvent<HTMLLIElement, MouseEvent>, index: number, id: string) {\n    this.setState({ open: false });\n    this.props.onViewChange(id);\n  }\n\n  @autobind\n  handleToggle(event: React.MouseEvent<HTMLButtonElement>) {\n    const anchorEl = event.currentTarget.parentElement;\n    if (anchorEl) {\n      this.setState((state, props) => {\n        return { open: !state.open, anchorEl };\n      });\n    }\n  }\n\n  @autobind\n  getTitle(currentUser: any): string {\n    if (currentUser && currentUser.Title) {\n      return currentUser.Title;\n    }\n    return '';\n  }\n\n  @autobind\n  async handleDelete(event: React.MouseEvent<HTMLButtonElement, MouseEvent>, index: number, id: string, isGlobal: boolean) {\n    if (isGlobal === false && index === 0) {\n      alert('You cannot delete this view');\n    } else {\n      if (confirm('Do you want to delete this view?')) {\n        const view = this.context.personalizationStore.filterViews.filter(i => i.id === id);\n        if (view && view.length > 0) {\n          await this.context.personalizationStore.deleteFilterById(view[0].id);\n          if (this.context.personalizationStore.selectedViewFilter && this.context.personalizationStore.selectedViewFilter.id === id) {\n            this.context.personalizationStore.setDefaultFilter();\n            this.props.history.push(`/processes/`);\n          }\n          await this.context.personalizationStore.loadViews();\n        }\n      }\n    }\n  }\n\n  @autobind\n  handleClose(event: React.MouseEvent<Document, MouseEvent>) {\n    this.setState({ open: false, anchorEl: null });\n  }\n\n  increaseProgress(by: number, setTo?: number) {\n    this.setState((state: AppBarProfileState, props: AppBarProfileProps) => {\n      return {\n        progress: setTo && setTo > 0 ? setTo : state.progress + by\n      };\n    });\n  }\n\n  @autobind\n  async handleSyncRepository() {\n    let totalCount = 0;\n    let totalErrorCount = 0;\n    const deleteBatchSize = 50;\n    const procChunkSize = 30;\n    if (this.state.isSynching === false) {\n      this.setState({ isSynching: true, progress: 5, syncInfo: { open: false, text: '', isError: false } });\n      try {\n        // *** STEP ONE ***\n        await this.context.spContext.buildReportingItemList();\n        this.increaseProgress(0, 10);\n\n        // *** STEP TWO ***\n        let deletedItems = await this.context.reportingStore.clearReportingSPList(deleteBatchSize);\n        while (deletedItems > 0) {\n          // deleting in batches\n          deletedItems = await this.context.reportingStore.clearReportingSPList(deleteBatchSize);\n          this.increaseProgress(1, undefined);\n        }\n        this.setState({ progress: 35 });\n\n        if (deletedItems === 0) {\n          // *** STEP THREE ***\n          const processes = await this.context.processStore.listAllProcesses();\n          this.increaseProgress(0, 50);\n\n          // *** STEP FOUR ***\n          const chunks = chunk(processes, procChunkSize);\n          for (let i = 0; i < chunks.length; i++) {\n            const r = await this.context.reportingStore.updateRepository(chunks[i]);\n            if (r) {\n              totalCount += r.processInstanceCount;\n              if (r.processInError) {\n                totalErrorCount += r.processInError.length;\n                console.log(`Batch ${i + 1} errors: `, r.processInError);\n              }\n            }\n            if (this.state.progress < 100) {\n              const progressUnit = Math.ceil(50 / chunks.length); // 50 is the  50% progress remaining to increase.\n              this.increaseProgress(progressUnit, undefined);\n            }\n          }\n          this.increaseProgress(0, 100);\n        }\n\n        this.setState({\n          isSynching: false,\n          syncInfo: {\n            open: true,\n            text: `The Data Synchronization operation completed. \n          ${totalCount} processes were synced with ${totalErrorCount} errors. `,\n            isError: false\n          }\n        });\n      } catch (error) {\n        console.log('There was an error with the Reporting Data Synchronization', JSON.stringify(error));\n        this.setState({ isSynching: false, syncInfo: { open: true, text: 'There was an error Reporting Data Synchronization.', isError: true } });\n      }\n    }\n  }\n\n  @autobind\n  async handleInfoClose() {\n    this.setState({ syncInfo: { open: false, text: '', isError: false } });\n  }\n\n  @autobind\n  getHyperlink() {\n    return (\n      <Paper>\n        <Button fullWidth color=\"primary\" onClick={this.handleIButtonClick}>\n          Go To Sharepoint Reporting List\n        </Button>\n      </Paper>\n    );\n  }\n\n  @autobind\n  async handleIButtonClick() {\n    const url = (await this.context.spContext.getSharePointOrigin()) + `/Lists/${this.context.spContext.getReportingListViewName()}.aspx`;\n    window.open(url, '_blank');\n  }\n\n  render() {\n    const { open, anchorEl } = this.state;\n    const { currentUser } = this.props;\n    const { filterViews, selectedViewFilter } = this.context.personalizationStore;\n    return (\n      <>\n        {currentUser && (\n          <>\n            <AccountIcon className={this.props.classes.profileIcon} />\n            <ButtonGroup variant=\"contained\" aria-label=\"Split button\">\n              <Button title=\"Logged User\" onClick={this.handleToggle}>\n                {this.getTitle(currentUser)}\n              </Button>\n              <Button variant=\"contained\" size=\"small\" aria-owns={open ? 'menu-list-grow' : undefined} aria-haspopup=\"true\" onClick={this.handleToggle}>\n                <ArrowDropDownIcon />\n              </Button>\n            </ButtonGroup>\n          </>\n        )}\n        <Popper style={{ width: 400 }} open={open} anchorEl={anchorEl} transition disablePortal>\n          {({ TransitionProps, placement }) => (\n            <ClickAwayListener onClickAway={this.handleClose}>\n              <Grow\n                {...TransitionProps}\n                style={{\n                  transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n                }}\n              >\n                <Paper id=\"menu-list-grow\">\n                  <MenuList>\n                    {filterViews\n                      .filter((i, idx) => i.global === false)\n                      .map((option, index) => (\n                        <MenuItem key={`l${option.id}`} onClick={event => this.handleMenuItemClick(event, index, option.id)}>\n                          {selectedViewFilter && selectedViewFilter.id === option.id && <DoneIcon style={{ paddingRight: 5 }} />}\n                          {option.name}\n                          {index !== 0 && (\n                            <ListItemSecondaryAction>\n                              <IconButton edge=\"end\" aria-label=\"Delete View\" key={`l${option.id}-${index}`} onClick={event => this.handleDelete(event, index, option.id, false)}>\n                                <DeleteIcon />\n                              </IconButton>\n                            </ListItemSecondaryAction>\n                          )}\n                        </MenuItem>\n                      ))}\n                  </MenuList>\n                  <Divider />\n                  <Typography style={{ paddingLeft: 5, paddingTop: 5, fontWeight: 600 }}>Global Views/Searches</Typography>\n                  <MenuList>\n                    {filterViews\n                      .filter((i, idx) => i.global === true)\n                      .map((option, index) => (\n                        <MenuItem key={`g${option.id}`} id={option.id} onClick={event => this.handleGlobalMenuItemClick(event, index, option.id)}>\n                          {selectedViewFilter && selectedViewFilter.id === option.id && <DoneIcon style={{ paddingRight: 5 }} />}\n                          {option.name}\n                          {this.context.spContext.isAdministrator(currentUser) && (\n                            <ListItemSecondaryAction>\n                              <IconButton edge=\"end\" aria-label=\"Delete View\" key={`l${option.id}-${index}`} onClick={event => this.handleDelete(event, index, option.id, true)}>\n                                <DeleteIcon />\n                              </IconButton>\n                            </ListItemSecondaryAction>\n                          )}\n                        </MenuItem>\n                      ))}\n                  </MenuList>\n                  {this.context.spContext.isAdministrator(currentUser) && (\n                    <>\n                      <Divider />\n                      <Typography style={{ paddingLeft: 5, paddingTop: 5, fontWeight: 600 }}>Admin Functionality</Typography>\n                      <MenuList>\n                        <MenuItem key={0} onClick={event => this.handleSyncRepository()} disabled={this.state.isSynching}>\n                          <>\n                            {!this.state.isSynching && <SyncIcon style={{ paddingRight: 5 }} />}\n                            {this.state.isSynching && <CircularProgress variant=\"static\" value={this.state.progress} size={30} style={{ padding: 5 }} />}\n                          </>\n                          Sync Reporting Data\n                        </MenuItem>\n                      </MenuList>\n                    </>\n                  )}\n                </Paper>\n              </Grow>\n            </ClickAwayListener>\n          )}\n        </Popper>\n\n        {this.state.syncInfo && this.state.syncInfo.isError && (\n          <ConfirmationDialog message={this.state.syncInfo.text} title={'Error synching the Reporting List '} open={this.state.syncInfo.open} onClose={this.handleInfoClose} />\n        )}\n\n        {this.state.syncInfo && this.state.syncInfo.isError === false && (\n          <ConfirmationDialog message={this.state.syncInfo.text} title={'OFS PPP Reporting List '} children={this.getHyperlink()} open={this.state.syncInfo.open} onClose={this.handleInfoClose} />\n        )}\n      </>\n    );\n  }\n}\n\ninterface AppBarProfileProps extends RouteComponentProps, WithStyles {\n  currentUser: any;\n  onViewChange(id: string): void;\n}\n\ninterface AppBarProfileState {\n  open: boolean;\n  anchorEl: any;\n  isSynching: boolean;\n  progress: number;\n  syncInfo: { open: boolean; text: string; isError: boolean };\n}\n\nexport default withRouter(withStyles(styles)(AppBarProfile));\n","import { createMuiTheme } from '@material-ui/core';\n\nexport const theme = createMuiTheme({\n  overrides: {\n    MuiTableCell: {\n      root: {\n        padding: '1px, 1px, 1px, 1px'\n      }\n    }\n  }\n});\n","import React, { FunctionComponent, useContext } from 'react';\nimport { makeStyles, Theme, createStyles, useTheme } from '@material-ui/core/styles';\nimport Badge from '@material-ui/core/Badge';\nimport NotificationsIcon from '@material-ui/icons/NotificationsNone';\nimport { IconButton, ListItemIcon, Grid, Tooltip, FormControlLabel, Switch, Typography, CircularProgress } from '@material-ui/core';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport LayersClearIcon from '@material-ui/icons/LayersClear';\nimport RefreshRoundedIcon from '@material-ui/icons/RefreshRounded';\nimport VerifiedUserOutlinedIcon from '@material-ui/icons/VerifiedUserOutlined';\nimport Drawer from '@material-ui/core/Drawer';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport { AppContext } from '../../AppContext';\nimport { NotificationsProcessLogEntry, NotificationLogEntry } from '../../ppp/ProcessLogEntry';\nimport moment from 'moment';\nimport { useHistory } from 'react-router-dom';\n\nconst drawerWidth = 300;\nconst refreshInterval = 3200 * 1000; /// about 53 minutes\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: 60\n    },\n    title: {\n      flexGrow: 1\n    },\n    hide: {\n      display: 'none'\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0\n    },\n    drawerPaper: {\n      width: drawerWidth,\n      backgroundColor: theme.palette.grey[50]\n    },\n    drawerHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1),\n      ...theme.mixins.toolbar,\n      justifyContent: 'flex-start',\n      backgroundColor: theme.palette.grey[300]\n    },\n    listItem: {\n      marginBottom: 1,\n      '&.Mui-selected': {\n        backgroundColor: theme.palette.grey[100]\n      }\n    },\n    listItemNewItem: {\n      marginBottom: 1,\n      '&.Mui-selected': {},\n      '&:hover': {}\n    },\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(3),\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      marginRight: -drawerWidth\n    },\n    contentShift: {\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      }),\n      marginRight: 0\n    },\n    Icon: {\n      padding: 0,\n      margin: 0,\n      minWidth: 30\n    },\n    fabProgress: {\n      position: 'absolute',\n      zIndex: 1\n    },\n    spin: {\n      animationName: 'spin',\n      animationDuration: '4000ms',\n      animationIterationCount: 'infinite',\n      animationTimingFunction: 'linear'\n    }\n  })\n);\n\ntype NotificationsProps = {\n  disabled: boolean;\n  currentUser: any;\n};\n\nconst getTitle = (currentUser: any): string => {\n  if (currentUser && currentUser.Title) {\n    return currentUser.Title;\n  }\n  return '';\n};\n\nexport const Notifications: FunctionComponent<NotificationsProps> = ({ disabled, currentUser }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const appContext = useContext(AppContext);\n  const history = useHistory();\n  const [open, setOpen] = React.useState(false);\n  const [includeOwns, setIncludeOwns] = React.useState(false);\n  const [visibleControl, setVisibleControl] = React.useState(false);\n  const [unread, setUnread] = React.useState(0);\n  const [logs, setLogs] = React.useState<NotificationsProcessLogEntry[]>();\n  const [isRefreshing, setIsRefreshing] = React.useState<boolean>(false);\n  let isAutoRefreshingData = false;\n  let currentCacheId: string | undefined = undefined;\n  const currentUserText = getTitle(currentUser);\n\n  const fetchData = async (noCache?: boolean) => {\n    setIsRefreshing(true);\n    const userConfig = await appContext.personalizationStore.getUserConfig();\n    if (userConfig && userConfig.notificationsSection) {\n      // setIncludeOwns(userConfig.notificationsSection.includeOwns);\n      if (noCache === true) {\n        currentCacheId = undefined;\n      }\n      const results = await appContext.processLogStore.getProcessLogs(userConfig.notificationsSection.lastToken, currentCacheId);\n      if (results && results.cacheId !== currentCacheId) {\n        let filteredProcessLog: NotificationLogEntry[] = results.logEntries;\n        if (userConfig.notificationsSection.includeOwns !== true) {\n          filteredProcessLog = results.logEntries.filter(el => {\n            if (el && el.user) {\n              const a = el.user.displayName.toLowerCase();\n              const b = currentUserText.toLowerCase();\n              if (a === b) {\n                return true; // TODO: not filtering yet\n              }\n            }\n            return true;\n          });\n        }\n        const numOfNew = filteredProcessLog.reduce((total, el) => {\n          if (el.timeStamp) {\n            const last = new Date(el.timeStamp);\n            const token = new Date(userConfig.notificationsSection.lastToken);\n            return last > token ? total + 1 : total;\n          }\n          return total;\n        }, 0);\n        setUnread(numOfNew);\n        setLogs(filteredProcessLog || []);\n        currentCacheId = results.cacheId;\n      }\n    }\n    setIsRefreshing(false);\n  };\n\n  React.useEffect(\n    () => {\n      setVisibleControl(false);\n      let interval: any;\n      if (currentUser && currentUser.Title && currentUser.Title.length > 1) {\n        fetchData().then(() => {\n          interval = setInterval(async () => {\n            if (currentUser && currentUser.Title && currentUser.Title.length > 0) {\n              isAutoRefreshingData = true;\n              await fetchData();\n              isAutoRefreshingData = false;\n            }\n          }, refreshInterval);\n        });\n      }\n      return () => {\n        if (interval) {\n          clearInterval(interval);\n        }\n      };\n    },\n    [currentUser]\n  );\n\n  const handleDrawerOpen = async () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleClearBadge = async () => {\n    setUnread(0);\n    await appContext.personalizationStore.saveNotificationsToken();\n    if (!isAutoRefreshingData) {\n      await fetchData();\n    }\n  };\n\n  const handleGetLogs = async () => {\n    await fetchData(true);\n  };\n\n  const handleListItemClick = (event: React.MouseEvent<HTMLDivElement, MouseEvent>, index: number, log: any) => {\n    if (log && log.processId && log.processId.length > 10) {\n      history.push(`/process/${log.processId}`);\n    }\n  };\n\n  const handleIncludeMine = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const val = event.target.checked;\n    await appContext.personalizationStore.saveIncludeOwn(val);\n    setIncludeOwns(val);\n  };\n\n  const setIcons = (kind: string) => {\n    switch (kind) {\n      case 'ProcessCompleted':\n      case 'ProcessStarted':\n      case 'ProcessDeleted':\n      case 'ProcessRejected':\n      case 'ProcessCompleted':\n      case 'ProcessUnsigned':\n        return <ArrowForwardIcon />;\n      case 'MonitoringAndReviewProcessCompleted':\n      case 'MonitoringAndReviewProcessOwnerChanged':\n        return <VerifiedUserOutlinedIcon />;\n      default:\n        return <ArrowForwardIcon />;\n    }\n  };\n\n  return (\n    <div className={classes.root} style={{ margin: 0, padding: 0 }}>\n      <IconButton onClick={handleDrawerOpen} style={{ marginTop: 5 }} aria-label=\"show 17 new notifications\" color=\"inherit\">\n        <Badge badgeContent={unread} color=\"secondary\">\n          <NotificationsIcon />\n        </Badge>\n      </IconButton>\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"right\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <Grid container direction=\"row\" justify=\"space-between\">\n            <Grid item>\n              <IconButton onClick={handleDrawerClose}>{theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronRightIcon />}</IconButton>\n            </Grid>\n            {visibleControl && (\n              <Grid item>\n                <Tooltip title=\"Include or show my changes in the logs.\">\n                  <span>\n                    <FormControlLabel control={<Switch onChange={handleIncludeMine} checked={includeOwns} color=\"secondary\" />} label=\"Include mine\" labelPlacement=\"bottom\" />\n                  </span>\n                </Tooltip>\n              </Grid>\n            )}\n            <Grid item>\n              <Tooltip title=\"Get or refresh logs\">\n                <span>\n                  <IconButton onClick={handleGetLogs} disabled={isRefreshing}>\n                    <RefreshRoundedIcon /> {isRefreshing && <CircularProgress size={32} className={classes.fabProgress} />}\n                  </IconButton>\n                </span>\n              </Tooltip>\n            </Grid>\n            <Grid item>\n              <Tooltip title=\"Mark Notifications as Read\">\n                <span>\n                  <IconButton onClick={handleClearBadge}>\n                    <LayersClearIcon />{' '}\n                  </IconButton>\n                </span>\n              </Tooltip>\n            </Grid>\n          </Grid>\n        </div>\n        <Divider />\n        <List>\n          {logs &&\n            logs.map((text, index) => (\n              <Tooltip title={text.processName} key={index} onClick={event => handleListItemClick(event, index, text)}>\n                <ListItem button key={index} className={index < unread ? classes.listItemNewItem : classes.listItem} selected={index < unread ? true : false}>\n                  <ListItemIcon className={classes.Icon}>{setIcons(text.kind)}</ListItemIcon>\n                  <ListItemText\n                    primary={\n                      <Typography style={{ fontWeight: index < unread ? 500 : undefined, fontSize: index < unread ? '1.3em' : undefined }}>{text.kind.replace(/([a-z])([A-Z])/g, '$1 $2')}</Typography>\n                    }\n                    secondary={`${moment(text.timeStamp || '').format('lll')} by ${(text.user && text.user.displayName) || ''}`}\n                  />\n                </ListItem>\n              </Tooltip>\n            ))}\n        </List>\n      </Drawer>\n    </div>\n  );\n};\n","export default [\n  { id: 'functionArea', numeric: false, disablePadding: false, label: 'OFS Function Area' },\n  { id: 'template.title', numeric: false, disablePadding: false, label: 'Process Type' },\n  { id: 'name', numeric: false, disablePadding: false, label: 'Name' },\n  { id: 'initiatedOn', numeric: false, disablePadding: false, label: 'Date Initiated' },\n  { id: 'status', numeric: false, disablePadding: false, label: 'Process Status' },\n  { id: 'transactionDate', numeric: false, disablePadding: false, label: 'Transaction Date' },\n  { id: 'signOff.timestamp', numeric: false, disablePadding: false, label: 'Date Signed' },\n  { id: 'signOff.signer.displayName', numeric: false, disablePadding: false, label: 'Signed By' },\n  { id: 'monitoringAndReview.status', numeric: false, disablePadding: false, label: 'M & R Status' },\n  { id: 'action', numeric: false, disablePadding: false, label: 'Action' }\n];\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport { withStyles, WithStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport headerColumns from './processTableHeaderColumns';\nimport { styles } from './styles';\nimport { grey } from '@material-ui/core/colors';\n\nexport default class ProcessTableHead extends React.PureComponent<ProcessTableHeadProps> {\n  @autobind\n  createSortHandler(property: any) {\n    return (event: any) => {\n      this.props.onRequestSort(event, property);\n    };\n  }\n\n  render() {\n    const { classes, showSelect, orderBy, order } = this.props;\n    const CustomTableCell = withStyles((theme: Theme) =>\n      createStyles({\n        head: {\n          backgroundColor: theme.palette.primary.dark,\n          color: theme.palette.common.white,\n          '&:hover': {\n            backgroundColor: theme.palette.primary.light\n          }\n        }\n      })\n    )(TableCell);\n\n    return (\n      <TableHead>\n        <TableRow>\n          {!showSelect && (\n            <CustomTableCell className={classes.tableCell} align=\"center\">\n              Select\n            </CustomTableCell>\n          )}\n          {headerColumns.map(col => (\n            <CustomTableCell key={col.id} className={classes.tableCell} align=\"center\" padding={col.disablePadding ? 'none' : 'default'} sortDirection={orderBy === col.id ? order : false}>\n              <Tooltip title={col.label} placement={col.numeric ? 'bottom-end' : 'bottom-start'} enterDelay={300}>\n                <TableSortLabel active={orderBy === col.id} direction={order} onClick={this.createSortHandler(col.id)} style={orderBy === col.id ? { color: grey[300] } : {}}>\n                  {col.label}\n                </TableSortLabel>\n              </Tooltip>\n            </CustomTableCell>\n          ))}\n        </TableRow>\n      </TableHead>\n    );\n  }\n}\n\ninterface ProcessTableHeadProps extends WithStyles<typeof styles> {\n  showSelect: boolean;\n  numSelected: number;\n  onRequestSort(event: any, property: any): void;\n  order: any;\n  orderBy: string;\n  rowCount: number;\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Fab, FormControl, InputLabel, Input, FormHelperText, FormControlLabel } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport autobind from 'autobind-decorator';\nimport { AppContext } from '../../AppContext';\n\nexport default class FormDialog extends React.Component<FilterViewDialogProps, FilterViewDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: FilterViewDialogProps) {\n    super(props);\n    this.state = {\n      open: false,\n      name: '',\n      requiredName: false,\n      global: false,\n      isDuplicate: false,\n      overwriteViewName: false\n    };\n  }\n\n  private isNewView(): boolean {\n    const vf = this.context.personalizationStore.selectedViewFilter;\n    return !(vf && vf.id !== '' && vf.id !== '0' && vf.id.length > 10);\n  }\n\n  @autobind\n  handleClickOpen() {\n    let name = '';\n    if (this.isNewView() === false) {\n      name = this.context.personalizationStore.selectedViewFilter.name;\n    }\n    this.setState({ open: true, overwriteViewName: false, name, requiredName: false });\n  }\n\n  @autobind\n  handleClose() {\n    this.setState({ open: false });\n  }\n\n  @autobind\n  async handleSave() {\n    let duplicateId: string = '';\n\n    if (this.state.global) {\n      this.context.personalizationStore.filterViews\n        .filter(i => i.global === true)\n        .forEach(f => {\n          if (this.state.name.toLowerCase() === f.name.toLowerCase()) {\n            duplicateId = f.id;\n            return;\n          }\n        });\n    } else {\n      this.context.personalizationStore.filterViews\n        .filter(i => i.global === false)\n        .forEach(f => {\n          if (this.state.name.toLowerCase() === f.name.toLowerCase()) {\n            duplicateId = f.id;\n            return;\n          }\n        });\n    }\n\n    if (duplicateId.length === 0 || this.state.overwriteViewName === true) {\n      await this.props.onSaveView(this.state.name, this.state.global, duplicateId);\n      this.setState({ open: false, isDuplicate: false });\n      return;\n    }\n    this.setState({ isDuplicate: duplicateId.length >= 0 });\n  }\n\n  @autobind\n  handleGlobalChkBox(event: React.ChangeEvent<HTMLInputElement>, checked: boolean) {\n    this.setState({ global: checked });\n  }\n\n  @autobind\n  handleoverwriteViewNameChkBox(event: React.ChangeEvent<HTMLInputElement>, checked: boolean) {\n    this.setState({ overwriteViewName: checked });\n  }\n\n  @autobind\n  handleViewNameChange(event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement | HTMLSelectElement>): void {\n    if (event && event.target) {\n      this.setState({ name: event.target.value }, () => {\n        this.setState({ requiredName: this.state.name === '' });\n      });\n    }\n  }\n\n  render() {\n    const { open, name, requiredName, isDuplicate } = this.state;\n    const isNewView = this.isNewView();\n    return (\n      <>\n        <Fab\n          size=\"small\"\n          variant=\"extended\"\n          color=\"primary\"\n          aria-label=\"Save Filtered View\"\n          onClick={this.handleClickOpen}\n          style={{ margin: 3, paddingTop: 1, paddingBottom: 1, fontSize: '.8em', height: '25px' }}\n        >\n          <AddIcon style={{ fontSize: '.9em' }} /> Save Filtered View\n        </Fab>\n        <Dialog open={open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\" maxWidth={'sm'} fullWidth={true}>\n          <DialogTitle id=\"form-dialog-title\">Save New Filter View</DialogTitle>\n          <DialogContent>\n            {isNewView && <DialogContentText>Please enter a name for the new filter view. This view will then appear under your profile name.</DialogContentText>}\n            {!isNewView && <DialogContentText>Update view \" {name} \" or use a different view name to create a new one.</DialogContentText>}\n            <FormControl error={requiredName || isDuplicate} fullWidth>\n              <InputLabel htmlFor=\"component-error\">View Name</InputLabel>\n              <Input fullWidth id=\"viewname\" value={name} onChange={this.handleViewNameChange} aria-describedby=\"viewname-text\" />\n              {requiredName && <FormHelperText id=\"viewname-text\">View Name is required.</FormHelperText>}\n              {isDuplicate && <FormHelperText id=\"viewname-text\">View name already exists.</FormHelperText>}\n              {isDuplicate && (\n                <FormControlLabel\n                  style={{ marginLeft: 50 }}\n                  control={<Checkbox value=\"overwriteViewName\" checked={this.state.overwriteViewName} onChange={this.handleoverwriteViewNameChkBox} />}\n                  label={<span style={{ fontWeight: 600 }}>Overwrite?</span>}\n                />\n              )}\n            </FormControl>\n            <FormControlLabel control={<Checkbox value=\"global\" checked={this.state.global} onChange={this.handleGlobalChkBox} />} label=\"Global\" />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={this.handleSave} color=\"primary\" disabled={requiredName}>\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </>\n    );\n  }\n}\n\ninterface FilterViewDialogProps {\n  onSaveView(name: string, global: boolean, overwriteViewId?: string): void;\n}\n\ninterface FilterViewDialogState {\n  open: boolean;\n  name: string;\n  requiredName: boolean;\n  global: boolean;\n  isDuplicate: boolean;\n  overwriteViewName: boolean;\n}\n","import React from 'react';\nimport Fade from '@material-ui/core/Fade';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport {\n  Button,\n  Menu,\n  MenuList,\n  Collapse,\n  ListItemText,\n  Paper,\n  Chip,\n  Tooltip,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormGroup,\n  InputAdornment,\n  IconButton,\n  InputLabel,\n  Input,\n  FormHelperText\n} from '@material-ui/core';\nimport { WithStyles, Theme, createStyles, withStyles } from '@material-ui/core/styles';\nimport autobind from 'autobind-decorator';\nimport Clear from '@material-ui/icons/Clear';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport CheckCircle from '@material-ui/icons/CheckCircle';\nimport CheckCircleOutline from '@material-ui/icons/RadioButtonUnchecked';\nimport FilterList from '@material-ui/icons/FilterList';\nimport { AppContext } from '../../AppContext';\nimport { MuiPickersUtilsProvider, DatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport SaveCustomFilterDialog from '../dialogs/SaveCustomFilterDialog';\nimport { observer } from 'mobx-react';\nimport { FilterObject } from '../../ppp/FilterObject';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    displayHeader: {\n      marginLeft: theme.spacing(1),\n      color: theme.palette.primary.dark,\n      fontSize: '1.4em'\n    },\n    paper: {\n      padding: theme.spacing(3),\n      maxWidth: 690\n    },\n    checkbox: {\n      fontSize: '.8rem',\n      color: theme.palette.text.secondary,\n      fontStyle: 'italic'\n    },\n    buttons: {\n      display: 'flex',\n      justifyContent: 'flex-end'\n    }\n  });\n\n@observer\nclass ProcessFilters extends React.Component<ProcessFiltersProps, ProcessFiltersState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: ProcessFiltersProps) {\n    super(props);\n\n    this.state = {\n      anchorEl: undefined,\n      collapse: {},\n      keywords: undefined,\n      byName: true,\n      byFuncArea: true,\n      byRespParty: true,\n      byProcTempName: true\n    };\n  }\n\n  @autobind\n  handleAddChangeFilterClick(event: any) {\n    this.setState({ anchorEl: event.currentTarget });\n  }\n\n  @autobind\n  toggleCollapse(categoryKey: string) {\n    const { collapse } = this.state;\n    if (collapse[categoryKey]) {\n      collapse[categoryKey] = !collapse[categoryKey];\n    } else {\n      collapse[categoryKey] = true;\n    }\n    this.setState({ collapse: collapse });\n  }\n\n  @autobind\n  handleClose() {\n    this.setState({ anchorEl: undefined });\n  }\n\n  @autobind\n  handleAddFilter(data: FilterObject) {\n    this.props.onAddFilterFunction(data);\n  }\n\n  @autobind\n  handleFilterDelete(data: FilterObject) {\n    this.props.onRemoveFilterFunction(data);\n  }\n\n  @autobind\n  handleKeywordsSearchChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      keywords: event.target.value\n    });\n  }\n\n  @autobind\n  handleClearFilters() {\n    this.props.onClearFilterFunction();\n  }\n\n  @autobind\n  handleSaveView(name: string, global: boolean, overwriteViewId?: string): void {\n    this.props.onSaveView(name, global, overwriteViewId);\n  }\n\n  @autobind\n  handleCheckboxChange(event: React.ChangeEvent<HTMLInputElement>) {\n    if (event.target.name === 'byName') {\n      this.setState({ byName: event.target.checked });\n    }\n    if (event.target.name === 'byFuncArea') {\n      this.setState({ byFuncArea: event.target.checked });\n    }\n    if (event.target.name === 'byRespParty') {\n      this.setState({ byRespParty: event.target.checked });\n    }\n    if (event.target.name === 'byProcTempName') {\n      this.setState({ byProcTempName: event.target.checked });\n    }\n  }\n\n  @autobind\n  handleApplyKeywords(filterItem: FilterObject, categoryLabel: string) {\n    if (this.state.keywords && this.state.keywords.length > 1) {\n      this.handleAddFilter({\n        key: filterItem.key,\n        category: filterItem.category,\n        label: `${categoryLabel} : ${this.state.keywords} (${this.getFieldsToString(true).replace(',', ', ')})`,\n        DateRange: filterItem.DateRange,\n        LessThan: filterItem.LessThan,\n        Date: '',\n        keyword: this.state.keywords,\n        keywordFields: this.getFieldsToString(false)\n      });\n      this.setState({ keywords: undefined, byFuncArea: true, byName: true, byRespParty: true, byProcTempName: true });\n      this.setState({ anchorEl: undefined });\n    }\n  }\n\n  @autobind\n  handleKeypress(e: any, filterItem: FilterObject, categoryLabel: string) {\n    if (e.charCode === 13) {\n      this.handleApplyKeywords(filterItem, categoryLabel);\n    }\n  }\n\n  getFieldsToString(unCamelCase: boolean = false) {\n    let fields: string[] = [];\n    if (this.state.byName === true) {\n      fields.push('byName');\n    }\n    if (this.state.byFuncArea === true) {\n      fields.push('byFuncArea');\n    }\n    if (this.state.byProcTempName === true) {\n      fields.push('byProcTempName');\n    }\n    if (this.state.byRespParty === true) {\n      fields.push('byRespParty');\n    }\n    if (unCamelCase && unCamelCase === true) {\n      if (fields.length >= 4) {\n        return 'All';\n      }\n      fields = fields.map(i => i.replace('by', '').replace(/([A-Z])/g, ' $1'));\n    }\n    return fields.join(',');\n  }\n\n  private renderFilters(filters: FilterObject[], categoryLabel: string): React.ReactElement<any>[] {\n    const components: React.ReactElement<any>[] = [];\n    const { keywords, byName, byFuncArea, byProcTempName, byRespParty } = this.state;\n\n    filters &&\n      filters.map(filterItem => {\n        if (filterItem.DateRange) {\n          components.push(\n            <MenuItem key={filterItem.key}>\n              {this.context.personalizationStore.selectedViewFilter.filterSet.filter(x => {\n                return x.key === filterItem.key;\n              }).length > 0 ? (\n                <CheckCircle />\n              ) : (\n                <CheckCircleOutline />\n              )}\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <DatePicker\n                  label={filterItem.key}\n                  value={new Date(filterItem.Date)}\n                  format=\"MM/dd/yyyy\"\n                  onChange={date => {\n                    filterItem.Date = date;\n                    this.handleAddFilter({\n                      key: filterItem.key,\n                      category: filterItem.category,\n                      label: categoryLabel + ': ' + filterItem.label + ' - ' + new Date(date).toLocaleDateString('en-US'),\n                      DateRange: true,\n                      LessThan: filterItem.LessThan,\n                      Date: date\n                    });\n                  }}\n                />\n              </MuiPickersUtilsProvider>\n            </MenuItem>\n          );\n        } else if (filterItem.category === 'Keywords') {\n          components.push(\n            <Paper className={this.props.classes.paper} key={filterItem.key}>\n              <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"stretch\" spacing={0}>\n                <Grid item xs={12}>\n                  <FormControl fullWidth className={'clsx(classes.margin, classes.textField)'} variant=\"filled\">\n                    <InputLabel htmlFor=\"standard-adornment-keywords-filter\">Text Filter</InputLabel>\n                    <Input\n                      autoFocus={true}\n                      required\n                      id=\"textFilter\"\n                      autoComplete=\"text\"\n                      onChange={this.handleKeywordsSearchChange}\n                      onKeyPress={e => this.handleKeypress(e, filterItem, categoryLabel)}\n                      value={this.state.keywords || ''}\n                      endAdornment={\n                        <InputAdornment position=\"end\">\n                          <IconButton aria-label=\"clear keywords\" onClick={() => this.setState({ keywords: undefined })}>\n                            <ClearIcon />\n                          </IconButton>\n                        </InputAdornment>\n                      }\n                    />\n                    <FormHelperText id=\"keywords-helper-text\">Enter words or word framents. Then, hit apply below.</FormHelperText>\n                  </FormControl>\n                </Grid>\n                <Grid container justify=\"flex-start\">\n                  <FormControl>\n                    <FormGroup row>\n                      <FormControlLabel\n                        className={this.props.classes.checkbox}\n                        control={<Checkbox color=\"secondary\" name=\"byName\" onChange={this.handleCheckboxChange} checked={this.state.byName} />}\n                        label=\"Name\"\n                      />\n                      <FormControlLabel\n                        className={this.props.classes.checkbox}\n                        control={<Checkbox color=\"secondary\" name=\"byRespParty\" onChange={this.handleCheckboxChange} checked={this.state.byRespParty} />}\n                        label=\"Responsible Party\"\n                      />\n                      <FormControlLabel\n                        className={this.props.classes.checkbox}\n                        control={<Checkbox color=\"secondary\" name=\"byFuncArea\" onChange={this.handleCheckboxChange} checked={this.state.byFuncArea} />}\n                        label=\"Functional Area\"\n                      />\n                      <FormControlLabel\n                        className={this.props.classes.checkbox}\n                        control={<Checkbox color=\"secondary\" name=\"byProcTempName\" onChange={this.handleCheckboxChange} checked={this.state.byProcTempName} />}\n                        label=\"Proc Template Name\"\n                      />\n                    </FormGroup>\n                  </FormControl>\n                </Grid>\n                <Grid container justify=\"flex-end\">\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    disabled={(!keywords || (keywords && keywords.length <= 1)) === true || [byName, byFuncArea, byProcTempName, byRespParty].some(i => i === true) === false}\n                    onClick={() => this.handleApplyKeywords(filterItem, categoryLabel)}\n                  >\n                    {'Apply'}\n                  </Button>\n                </Grid>\n              </Grid>\n            </Paper>\n          );\n        } else {\n          components.push(\n            <MenuItem\n              disabled={this.props.isLoading}\n              key={filterItem.key}\n              onClick={e => {\n                this.handleAddFilter({\n                  key: filterItem.key,\n                  category: filterItem.category,\n                  label: categoryLabel + ': ' + filterItem.label,\n                  DateRange: filterItem.DateRange,\n                  LessThan: filterItem.LessThan,\n                  Date: ''\n                });\n              }}\n            >\n              {this.context.personalizationStore.selectedViewFilter.filterSet.filter(x => {\n                return x.key === filterItem.key;\n              }).length > 0 ? (\n                <CheckCircle />\n              ) : (\n                <CheckCircleOutline />\n              )}\n              <ListItemText inset primary={filterItem.label} />\n            </MenuItem>\n          );\n        }\n      });\n\n    return components;\n  }\n\n  private renderFilterMenu(): React.ReactElement<any>[] {\n    const components: React.ReactElement<any>[] = [];\n    const { collapse } = this.state;\n    this.context.personalizationStore.filterConfig.categories &&\n      this.context.personalizationStore.filterConfig.categories.map(category =>\n        components.push(\n          <React.Fragment key={category.key}>\n            <MenuItem\n              onClick={e => {\n                this.toggleCollapse(category.key);\n              }}\n            >\n              <ListItemText inset={false} primary={category.name} />\n              {collapse[category.key] ? <ExpandLess /> : <ExpandMore />}\n            </MenuItem>\n            <Collapse in={collapse[category.key]} timeout=\"auto\" unmountOnExit>\n              <MenuList test-id={`menu-list-${category.key}`}>\n                {this.renderFilters(this.context.personalizationStore.filterConfig.filters.filter(f => f.category === category.key), category.name)}\n              </MenuList>\n            </Collapse>\n          </React.Fragment>\n        )\n      );\n    return components;\n  }\n\n  render() {\n    const { anchorEl } = this.state;\n    const { classes } = this.props;\n    const open = Boolean(anchorEl);\n    const { filterSet, name, isDirty } = this.context.personalizationStore.selectedViewFilter;\n\n    return (\n      <>\n        <Grid item xs={12}>\n          <Button\n            id=\"add-change-filter-button\"\n            variant=\"outlined\"\n            aria-owns={open ? 'filter-menu' : undefined}\n            aria-haspopup=\"true\"\n            onClick={this.handleAddChangeFilterClick}\n            style={{ padding: 4, margin: 5 }}\n          >\n            <FilterList /> Add/Change Filter\n          </Button>\n          <Box className={classes.displayHeader} m={0} p={0} component=\"span\">\n            {`Current View:  ${name ? name : 'No View Selected'}${isDirty === true ? ' *' : ''}`}\n          </Box>\n          <Tooltip title=\"Clear All Filters\">\n            <span>\n              <Button id=\"clear-all-filters\" variant=\"outlined\" style={{ float: 'right' }} onClick={this.handleClearFilters}>\n                <Clear />\n              </Button>\n            </span>\n          </Tooltip>\n          <Menu id=\"filter-menu\" anchorEl={anchorEl} open={open} onClose={this.handleClose} TransitionComponent={Fade}>\n            <MenuList>\n              <div>{this.renderFilterMenu()}</div>\n            </MenuList>\n          </Menu>\n        </Grid>\n        <Paper style={{ padding: 2, paddingBottom: 1, marginBottom: 8, flex: 1 }}>\n          Filters:\n          {filterSet &&\n            filterSet.map(data => {\n              return (\n                <Chip\n                  key={data.key}\n                  label={data.label}\n                  style={{ margin: 1 }}\n                  onDelete={e => {\n                    this.handleFilterDelete(data);\n                  }}\n                />\n              );\n            })}\n          <Grid container alignItems=\"flex-start\" justify=\"flex-end\" direction=\"row\" style={{ margin: 0, padding: 0 }}>\n            <SaveCustomFilterDialog onSaveView={this.handleSaveView} />\n          </Grid>\n        </Paper>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(ProcessFilters);\n\ninterface ProcessFiltersProps extends WithStyles<typeof styles> {\n  style?: React.CSSProperties;\n  onChange?: (fy: string | undefined) => void;\n  onAddFilterFunction: (data: FilterObject) => void;\n  onRemoveFilterFunction: (data: FilterObject) => void;\n  onClearFilterFunction: () => void;\n  onSaveView: (name: string, global: boolean, overwriteViewId?: string) => void;\n  isLoading: boolean;\n}\n\ninterface ProcessFiltersState {\n  anchorEl?: HTMLElement;\n  collapse: CollapseArray;\n  keywords?: string;\n  byName: boolean;\n  byFuncArea: boolean;\n  byRespParty: boolean;\n  byProcTempName: boolean;\n}\n\ninterface CollapseArray {\n  [key: string]: boolean;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport JSZip from 'jszip';\nimport { saveAs } from 'file-saver';\nimport moment from 'moment';\nimport stableSort from 'lodash/orderBy';\nimport startCase from 'lodash/startCase';\nimport kebabCase from 'lodash/kebabCase';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport cn from 'classnames';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Table from '@material-ui/core/Table';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Paper from '@material-ui/core/Paper';\nimport { Process } from '../../ppp';\nimport { AppContext } from '../../AppContext';\nimport { getFiscalYear } from '../../util/pppUtils';\nimport ProcessTableHead from './ProcessTableHead';\nimport { styles } from './styles';\nimport { ProcessExporter } from '../../services/ProcessExporter';\nimport ProcessFilters from './ProcessFilters';\nimport { FilterObject } from '../../ppp/FilterObject';\nimport { Filter } from '../../ppp/Filter';\nimport { Snackbar, IconButton, SnackbarContent } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { when } from 'mobx';\nimport { MonitoringAndReviewStatus } from '../../ppp/MonitoringAndReviewStatus';\n\nexport class ProcessTable extends React.Component<ProcessTableProps, ProcessTableState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n  private _isMount = false;\n\n  constructor(props: ProcessTableProps) {\n    super(props);\n\n    this.state = {\n      fiscalYear: getFiscalYear(),\n      isLoading: true,\n      showSelect: false,\n      currentExportStatus: '',\n      selectedProcesses: [],\n      order: 'desc',\n      orderBy: 'initiatedOn',\n      selected: [],\n      processes: [],\n      page: 0,\n      rowsPerPage: 25,\n      availableResponsibleParties: [],\n      functionalAreas: [],\n      information: { open: false, text: '', isError: false }\n    };\n  }\n\n  async componentDidMount() {\n    this._isMount = true;\n\n    when(\n      () => this.context.personalizationStore.areFiltersLoaded && this.context.personalizationStore.isConfiguredFiltersLoaded,\n      async () => {\n        // check viewId\n        if (this.props.match.params.viewId && this.props.match.params.viewId.length > 0) {\n          // there's a selected View ID, load it.\n          const id = this.props.match.params.viewId;\n          const filterView = this.context.personalizationStore.filterViews.find(fv => fv.id === id);\n          if (filterView) {\n            this.context.personalizationStore.selectedViewFilter = {\n              id: filterView.id,\n              name: filterView.name,\n              global: filterView.global,\n              filterSet: [...filterView.filterSet]\n            };\n            if (this.props.location.pathname.indexOf('/processes') >= 0) {\n              this.props.history.replace(`/processes/${id}`);\n            }\n            await this.getFiscalYears();\n          }\n        } else {\n          await this.getFiscalYears();\n        }\n      }\n    );\n  }\n\n  componentWillUnmount() {\n    this._isMount = false;\n  }\n\n  @autobind\n  async getFiscalYears(): Promise<void> {\n    this.setState({ processes: [], isLoading: true });\n    const filters = this.context.personalizationStore.selectedViewFilter && this.context.personalizationStore.selectedViewFilter.filterSet;\n    const fys: Array<string | undefined> = filters\n      .map(i => {\n        if (i.category === 'FY') {\n          return i.key;\n        }\n      })\n      .filter(i => i);\n    this.setState({ processes: await this.context.processStore.listAllProcessesForFiscalYears(fys), isLoading: false }, () => {\n      this.context.personalizationStore.configureDataSpecificFilters(this.state.processes);\n    });\n  }\n\n  @autobind\n  private handleChangePage(event: React.MouseEvent<HTMLButtonElement, MouseEvent> | null, page: number) {\n    this.setState({ page });\n  }\n\n  @autobind\n  private handleChangeRowsPerPage(event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) {\n    const x = event.target.value;\n    this.setState({ rowsPerPage: Number(x) });\n  }\n\n  @autobind\n  private handleRequestSort(event: any, property: string) {\n    const orderBy = property;\n    let order: 'asc' | 'desc' = 'desc';\n\n    if (this.state.orderBy === property && this.state.order === 'desc') {\n      order = 'asc';\n    }\n\n    this.setState({ order, orderBy });\n  }\n\n  private getFilterIndex(data: Array<FilterObject>, check: FilterObject) {\n    for (var x = 0; x < data.length; x++) {\n      if (data[x].key === check.key) {\n        return x;\n      }\n    }\n    return -1;\n  }\n\n  @autobind\n  async handleFilterDelete(data: FilterObject) {\n    const filters = (this.context.personalizationStore.selectedViewFilter && this.context.personalizationStore.selectedViewFilter.filterSet) || ([] as Array<FilterObject>);\n    if (this.filterDelete(data, filters)) {\n      await this.getFiscalYears();\n    } else {\n      // this is to refresh the \"soft\" Filter done  at render.\n      this.setState({ processes: [...this.state.processes] });\n    }\n  }\n\n  @autobind\n  async handleAddFilter(data: FilterObject) {\n    if (this._isMount) {\n      if (this.addFilter(data) === true) {\n        await this.getFiscalYears();\n      } else {\n        // this is to refresh the \"soft\" Filter done at render.\n        this.setState({ processes: [...this.state.processes] });\n      }\n    }\n  }\n\n  @autobind\n  filterDelete(data: FilterObject, selectedFilters: Array<FilterObject>): boolean {\n    let needsFYDataRefresh = false;\n    this.context.personalizationStore.selectedViewFilter.isDirty = true;\n    const yearFilter = selectedFilters.filter(sf => {\n      return sf.category === 'FY';\n    });\n    if (data.category === 'FY') {\n      if (yearFilter.length > 1) {\n        const filterToDelete = this.getFilterIndex(selectedFilters, data);\n        selectedFilters.splice(filterToDelete, 1);\n        needsFYDataRefresh = true;\n      }\n    } else {\n      const filterToDelete = this.getFilterIndex(selectedFilters, data);\n      selectedFilters.splice(filterToDelete, 1);\n    }\n    return needsFYDataRefresh;\n  }\n\n  @autobind\n  addFilter(data: FilterObject): boolean {\n    let needsFYDataRefresh = false;\n    const selectedFilters = (this.context.personalizationStore.selectedViewFilter && this.context.personalizationStore.selectedViewFilter.filterSet) || [];\n    this.context.personalizationStore.selectedViewFilter.isDirty = true;\n\n    // TODO: test for FY mods\n    if (data.category === 'FY') {\n      needsFYDataRefresh = true;\n    }\n    if (!data.DateRange) {\n      if (\n        selectedFilters.filter(check => {\n          return check.label === data.label;\n        }).length < 1\n      ) {\n        selectedFilters.push(data);\n      } else {\n        this.filterDelete(data, selectedFilters);\n      }\n    } else {\n      if (\n        selectedFilters.filter(check => {\n          return check.key === data.key;\n        }).length < 1\n      ) {\n        selectedFilters.push(data);\n      } else {\n        this.filterDelete(data, selectedFilters);\n        selectedFilters.push(data);\n      }\n    }\n    return needsFYDataRefresh;\n  }\n\n  @autobind\n  async handleClearFilters() {\n    this.context.personalizationStore.setDefaultFilter();\n    await this.getFiscalYears();\n    this.props.history.replace(`/processes`);\n  }\n\n  @autobind\n  applyFilters(selectedFilters: FilterObject[], processes: Process[]) {\n    let statusFilters: FilterObject[];\n    let functionalAreaFilters: FilterObject[];\n    let createdByFilters: FilterObject[];\n    let responsiblePartyFilters: FilterObject[];\n    let transactionDateFilters: FilterObject[];\n    let creationDateFilters: FilterObject[];\n    let keywordsFilters: FilterObject[];\n    functionalAreaFilters = selectedFilters.filter(sf => sf.category === 'FunctionalArea');\n    statusFilters = selectedFilters.filter(sf => sf.category === 'status');\n    createdByFilters = selectedFilters.filter(sf => sf.category === 'CreatedBy');\n    responsiblePartyFilters = selectedFilters.filter(sf => sf.category === 'ResponsibleParty');\n    transactionDateFilters = selectedFilters.filter(sf => sf.category === 'TransactionDate');\n    creationDateFilters = selectedFilters.filter(sf => sf.category === 'CreationDate');\n    keywordsFilters = selectedFilters.filter(sf => sf.category === 'Keywords');\n    return processes.filter(p => {\n      // true is default here because if the filter doesnt exist, it'll allow the row in.\n      let isStatusFiltered = true;\n      let isFunctionalAreaFiltered = true;\n      let isCreatedByFiltered = true;\n      let isResponsiblePartyFiltered = true;\n      let isTransactionDateFiltered = true;\n      let isCreationDateFiltered = true;\n      let isKeywordsFiltered = true;\n      // Filter By Status\n      if (statusFilters && statusFilters.length > 0) {\n        isStatusFiltered = statusFilters.some(sf => {\n          return p.status === sf.key;\n        });\n      }\n      // Filter by Functional Area\n      if (functionalAreaFilters && functionalAreaFilters.length > 0) {\n        isFunctionalAreaFiltered = functionalAreaFilters.some(sf => {\n          return p.functionArea === sf.key;\n        });\n      }\n      // Filter by Created By\n      if (createdByFilters && createdByFilters.length > 0) {\n        isCreatedByFiltered = createdByFilters.some(sf => {\n          if (p.initiatedBy) {\n            return p.initiatedBy.displayName === sf.key;\n          } else {\n            return false;\n          }\n        });\n      }\n      // Filter By Responsible Party\n      if (responsiblePartyFilters && responsiblePartyFilters.length > 0) {\n        isResponsiblePartyFiltered = responsiblePartyFilters.some(sf => {\n          return p.activities.some(a => {\n            return a.responsibleParty === sf.key;\n          });\n        });\n      }\n      // Filter By Transaction Date\n      if (transactionDateFilters && transactionDateFilters.length > 0) {\n        const pDate = new Date(p.transactionDate);\n        pDate.setHours(0, 0, 0, 0);\n        isTransactionDateFiltered = transactionDateFilters.every(sf => {\n          if (sf.LessThan) {\n            return pDate <= new Date(sf.Date);\n          } else {\n            return pDate >= new Date(sf.Date);\n          }\n        });\n      }\n      // Filter By Creation Date\n      if (creationDateFilters && creationDateFilters.length > 0 && p.initiatedOn) {\n        const pDate = new Date(p.initiatedOn);\n        pDate.setHours(0, 0, 0, 0);\n        isCreatedByFiltered = creationDateFilters.every(sf => {\n          if (sf.LessThan) {\n            return pDate <= new Date(sf.Date);\n          } else {\n            return pDate >= new Date(sf.Date);\n          }\n        });\n      }\n\n      // Filter By Keywords\n      if (keywordsFilters && keywordsFilters.length > 0) {\n        isKeywordsFiltered = keywordsFilters.every(kf => {\n          let byName = false;\n          let byFuncArea = false;\n          let byProcTempName = false;\n          let byRespParty = false;\n          if (kf.keyword && p.name && kf.keywordFields && kf.keywordFields.split(',').findIndex(i => i === 'byName') >= 0) {\n            byName = p.name.toLowerCase().indexOf(kf.keyword.toLowerCase()) >= 0;\n          }\n          if (kf.keyword && p.name && kf.keywordFields && kf.keywordFields.split(',').findIndex(i => i === 'byFuncArea') >= 0) {\n            byFuncArea = p.functionArea.toLowerCase().indexOf(kf.keyword.toLowerCase()) >= 0;\n          }\n          if (kf.keyword && p.name && kf.keywordFields && kf.keywordFields.split(',').findIndex(i => i === 'byProcTempName') >= 0) {\n            byProcTempName = p.template.title.toLowerCase().indexOf(kf.keyword.toLowerCase()) >= 0;\n          }\n          if (kf.keyword && p.name && kf.keywordFields && kf.keywordFields.split(',').findIndex(i => i === 'byRespParty') >= 0) {\n            const keywordLower = kf.keyword.toLowerCase();\n            byRespParty = p.activities.some(a => {\n              return a.responsibleParty.toLowerCase().indexOf(keywordLower) >= 0;\n            });\n          }\n          const returnValue = byName === true || byFuncArea === true || byProcTempName === true || byRespParty === true;\n          return returnValue;\n        });\n      }\n\n      // All filters use \"AND\" combined.\n      return isKeywordsFiltered && isStatusFiltered && isFunctionalAreaFiltered && isCreatedByFiltered && isResponsiblePartyFiltered && isTransactionDateFiltered && isCreationDateFiltered;\n    });\n  }\n\n  @autobind\n  async loadAllProcesses() {\n    this.setState({\n      isLoading: true\n    });\n    var processes: Process[];\n    processes = await this.context.processStore.listAllProcesses();\n    this.setState({\n      processes,\n      isLoading: false\n    });\n  }\n\n  @autobind\n  handleBeginExport() {\n    this.setState({\n      showSelect: true\n    });\n  }\n\n  @autobind\n  handleCancelExport() {\n    this.setState({\n      showSelect: false,\n      selectedProcesses: []\n    });\n  }\n\n  @autobind\n  async getSharePointOrigin() {\n    /* istanbul ignore next */\n    if (process.env.NODE_ENV !== 'production') {\n      return 'http://localhost:3001';\n    }\n\n    const ctx = (await this.context.spContext.getContextInfo()) as any;\n    const a = document.createElement('a');\n    a.setAttribute('href', ctx.WebFullUrl);\n\n    const { hostname, port, protocol } = a;\n    const origin = `${protocol}//${hostname}${port.length ? `:${port}` : ''}`;\n    return origin;\n  }\n\n  @autobind\n  public async handleCompleteExport() {\n    const { selectedProcesses } = this.state;\n    if (selectedProcesses.length === 0) {\n      alert('Please select process');\n      return;\n    }\n    this.setState({\n      currentExportStatus: 'Initiating...',\n      showSelect: false\n    });\n\n    const origin = await this.getSharePointOrigin();\n    const bigZip = new JSZip();\n    for (const process of selectedProcesses) {\n      let processUrl = await this.context.processStore.getProcessPathByProcessId(process.id);\n      const file = await ProcessExporter.exportProcess(process, processUrl, origin, (newStatus: string) => {\n        this.setState({\n          currentExportStatus: newStatus\n        });\n      });\n\n      bigZip.file(`${process.functionArea}/${kebabCase(process.name)}.zip`, await file.generateAsync({ type: 'blob' }));\n    }\n\n    const result = await bigZip.generateAsync({ type: 'blob' });\n    saveAs(result, 'processes-bulk-export.zip');\n\n    this.setState({\n      currentExportStatus: '',\n      selectedProcesses: []\n    });\n  }\n\n  @autobind\n  handleProcessSelectedChange(e: React.ChangeEvent<HTMLInputElement>, process: Process, checked: boolean) {\n    const { selectedProcesses } = this.state;\n\n    const ix = selectedProcesses.indexOf(process);\n    if (ix > -1) {\n      selectedProcesses.splice(ix, 1);\n    }\n\n    if (checked) {\n      selectedProcesses.push(process);\n    }\n\n    this.setState({\n      selectedProcesses\n    });\n  }\n\n  @autobind\n  async handleSaveView(Name: string, global: boolean, overwriteViewId?: string): Promise<number> {\n    const filters = (this.context.personalizationStore.selectedViewFilter && this.context.personalizationStore.selectedViewFilter.filterSet) || [];\n    var filterToSave: Filter;\n    filterToSave = {\n      id: '',\n      global: global,\n      name: Name,\n      filterSet: filters\n    };\n\n    if (overwriteViewId && overwriteViewId.length > 0) {\n      // delete this view first\n      try {\n        await this.context.personalizationStore.deleteFilterById(overwriteViewId);\n      } catch {\n        // TODO: ignore error for now\n      }\n    }\n\n    try {\n      const result = await this.context.personalizationStore.saveFilter(filterToSave, global);\n      if (result && result === 200) {\n        this.setState({ information: { open: true, text: `View ${Name} was saved successfully.`, isError: false } });\n        await this.context.personalizationStore.loadViews(this.props.currentUser.Title);\n        this.context.personalizationStore.filterViews.forEach(f => {\n          if (Name.toUpperCase() === f.name.toUpperCase()) {\n            this.context.personalizationStore.selectedViewFilter = f;\n            this.props.history.replace(`/processes/${f.id}`);\n            return;\n          }\n        });\n        return result;\n      } else {\n        this.setState({ information: { open: true, text: `Couldnt save view ${Name}. Status #${result}.`, isError: true } });\n      }\n    } catch (error) {\n      this.setState({ information: { open: true, text: `There was an error saving view ${Name}.`, isError: true } });\n    }\n    return 0;\n  }\n\n  @autobind\n  async handleInfoClose(event: any) {\n    this.setState({ information: { open: false, text: '', isError: false } });\n  }\n\n  render() {\n    const { classes, onNavigateToProcess } = this.props;\n    const { isLoading, showSelect, selectedProcesses, currentExportStatus, processes, order, orderBy, selected, rowsPerPage, page } = this.state;\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, processes.length - page * rowsPerPage);\n    const filters = (this.context.personalizationStore.selectedViewFilter && this.context.personalizationStore.selectedViewFilter.filterSet) || [];\n    const rows = this.applyFilters(filters, processes);\n\n    return (\n      <Paper className={classes.root}>\n        {isLoading && <CircularProgress className={classes.progress} disableShrink size={50} thickness={5} />}\n        <Grid container spacing={0}>\n          <Grid item xs={12}>\n            <ProcessFilters\n              onAddFilterFunction={this.handleAddFilter}\n              onRemoveFilterFunction={this.handleFilterDelete}\n              onClearFilterFunction={this.handleClearFilters}\n              onSaveView={this.handleSaveView}\n              isLoading={this.state.isLoading}\n            />\n          </Grid>\n        </Grid>\n        <div className={classes.tableWrapper}>\n          <Table className={classes.table} aria-labelledby=\"Process instances\">\n            <ProcessTableHead\n              classes={classes}\n              showSelect={showSelect}\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onRequestSort={this.handleRequestSort}\n              rowCount={processes.length}\n            />\n            <TableBody>\n              {stableSort(rows, [orderBy], [order])\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((n: Process, processIndex: number) => {\n                  const isSelected = false;\n                  return (\n                    <TableRow hover aria-checked={isSelected} tabIndex={-1} key={n.id} selected={isSelected}>\n                      {!showSelect && (\n                        <TableCell className={classes.tableCell}>\n                          <Checkbox\n                            disabled={n.status !== 'CompletedAndSigned'}\n                            checked={!!selectedProcesses.find(p => p === n)}\n                            onChange={(e, checked) => this.handleProcessSelectedChange(e, n, checked)}\n                            value=\"\"\n                          />\n                        </TableCell>\n                      )}\n                      <TableCell className={classes.tableCell}>{n.functionArea}</TableCell>\n                      <TableCell className={classes.tableCell}>{n.template.title}</TableCell>\n                      <TableCell className={cn(classes.tableCell, classes.nameCell)} onClick={() => onNavigateToProcess(n)}>\n                        {n.name}\n                      </TableCell>\n                      <TableCell className={classes.tableCell}>{moment(n.initiatedOn).format('lll')}</TableCell>\n                      <TableCell className={classes.tableCell}>{startCase(n.status)}</TableCell>\n                      <TableCell className={classes.tableCell}>{n.transactionDate ? moment(new Date(n.transactionDate)).format('MM-DD-YYYY') : ''}</TableCell>\n                      <TableCell className={classes.tableCell}>{n.signOff && n.signOff.timeStamp && moment(n.signOff.timeStamp).format('lll')}</TableCell>\n                      <TableCell className={classes.tableCell} style={{ wordBreak: 'break-word' }}>\n                        {n.signOff && n.signOff.signer && n.signOff.signer.displayName}\n                      </TableCell>\n                      <TableCell className={classes.tableCell}>{startCase((n.monitoringAndReview && n.monitoringAndReview.status) || MonitoringAndReviewStatus.NotStarted)}</TableCell>\n                      <TableCell>\n                        <Button variant=\"contained\" color=\"primary\" onClick={() => onNavigateToProcess(n)}>\n                          View\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n              {emptyRows > 0 && (\n                <TableRow style={{ height: 49 * emptyRows }}>\n                  <TableCell colSpan={6} />\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </div>\n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25, 50, 100, 1000]}\n          component=\"div\"\n          count={rows.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          backIconButtonProps={{\n            'aria-label': 'Previous Page'\n          }}\n          nextIconButtonProps={{\n            'aria-label': 'Next Page'\n          }}\n          onChangePage={this.handleChangePage}\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\n        />\n        <Dialog open={currentExportStatus !== ''}>\n          <DialogTitle id=\"export-dialog-title\">Exporting Processes...</DialogTitle>\n          <DialogContent>\n            <div>{currentExportStatus}</div>\n            <LinearProgress />\n          </DialogContent>\n          <DialogActions />\n        </Dialog>\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left'\n          }}\n          open={this.state.information.open}\n          autoHideDuration={6000}\n          onClose={this.handleInfoClose}\n        >\n          <SnackbarContent\n            classes={{ root: this.state.information.isError === true ? classes.snackbarError : classes.snackbarInfo }}\n            message={this.state.information.text}\n            action={[\n              <IconButton key=\"close\" aria-label=\"Close\" color=\"inherit\" className={classes.close} onClick={this.handleInfoClose}>\n                <CloseIcon />\n              </IconButton>\n            ]}\n          />\n        </Snackbar>\n      </Paper>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(ProcessTable));\n\ninterface ProcessTableProps extends WithStyles<typeof styles>, RouteComponentProps<ProcessTableRouterProps> {\n  onNavigateToProcess: (process: Process) => void;\n  currentUser: any;\n}\n\ninterface ProcessTableRouterProps {\n  viewId: string | undefined;\n}\n\ninterface ProcessTableState {\n  isLoading: boolean;\n  showSelect: boolean;\n  selectedProcesses: Process[];\n  currentExportStatus: string;\n  functionalAreas: string[];\n  fiscalYear: string;\n  order: 'desc' | 'asc';\n  orderBy: string;\n  selected: [];\n  processes: Process[];\n  page: number;\n  rowsPerPage: number;\n  availableResponsibleParties: { value: string; text: string }[];\n  information: { open: boolean; text: string; isError: boolean };\n}\n","import ProcessTable from './ProcessTable';\nexport default ProcessTable;\nexport * from './ProcessTable';\n","import { Theme, createStyles } from '@material-ui/core/styles';\n\nexport const styles = (theme: Theme) => {\n  return createStyles({\n    root: {\n      width: '100%',\n      minHeight: '400px'\n    },\n    table: {\n      minWidth: '90%'\n    },\n    tableWrapper: {\n      overflowX: 'auto'\n    },\n    tableCell: {\n      whiteSpace: 'normal',\n      '-ms-word-wrap': 'break-word',\n      wordWrap: 'break-word'\n    },\n    nameCell: {\n      '&:hover': {\n        textDecoration: 'underline'\n      },\n      cursor: 'pointer'\n    },\n    progress: {\n      position: 'fixed',\n      [theme.breakpoints.down('lg')]: {\n        marginLeft: '40%'\n      },\n      [theme.breakpoints.up('xl')]: {\n        marginLeft: '30%'\n      },\n      marginTop: theme.spacing(40)\n    },\n    close: {\n      padding: theme.spacing(0.5)\n    },\n    snackbarError: {\n      backgroundColor: theme.palette.error.dark\n    },\n    snackbarInfo: {}\n  });\n};\n","import React from 'react';\nimport find from 'lodash/find';\nimport orderBy from 'lodash/orderBy';\nimport moment from 'moment';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport autobind from 'autobind-decorator';\nimport Grid from '@material-ui/core/Grid';\nimport Chip from '@material-ui/core/Chip';\nimport ErrorOutlineOutlinedIcon from '@material-ui/icons/ErrorOutlineOutlined';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport { AppContext } from '../../AppContext';\nimport { styles } from './styles';\nimport { ProcessTemplate, Process, ProcessTemplateVersion } from '../../ppp';\nimport { getFiscalYear } from '../../util/pppUtils';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport MaskedInput from 'react-text-mask';\nimport { Input, InputLabel, FormControl, FormHelperText } from '@material-ui/core';\n\nexport class InitiateProcessDialog extends React.Component<InitiateProcessDialogProps, InitiateProcessDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n  private _isMounted: boolean = false;\n\n  constructor(props: InitiateProcessDialogProps) {\n    super(props);\n\n    this.state = {\n      allowFunctionProcessSelection: !!!props.path,\n      allowProcessTemplateSelection: !!!props.processTemplate,\n      isLoadingFunctionProcesses: false,\n      isLoadingProcessTemplates: false,\n      isLoadingVersions: true,\n      isInitiating: false,\n      selectedFunctionProcess: props.path || '/',\n      selectedProcessTemplate: props.processTemplate,\n      selectedVersion: undefined,\n      processName: '',\n      fiscalYear: '',\n      transactionDate: null,\n      versions: [],\n      showError: false,\n      errorMessage: 'There was an error creating the process instance.'\n    };\n  }\n\n  public componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  @autobind\n  handleSelectedFunctionProcessChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      selectedFunctionProcess: event.target.value\n    });\n\n    this.loadProcessTemplates(event.target.value);\n  }\n\n  @autobind\n  handleSelectedProcessTemplateChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const selectedProcessTemplate = find(this.state.processTemplates, { id: event.target.value });\n    this.setState({\n      selectedProcessTemplate\n    });\n\n    this.loadProcessTemplateVersions(selectedProcessTemplate);\n  }\n\n  @autobind\n  handleSelectedVersionChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const selectedVersion = find(this.state.versions, { version: event.target.value });\n    this.setState({\n      selectedVersion\n    });\n  }\n\n  @autobind\n  handleProcessNameChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      processName: event.target.value\n    });\n  }\n\n  @autobind\n  handleFiscalYearChange(event: React.ChangeEvent<HTMLInputElement>) {\n    if (event.target.value.length == 4) {\n      if (Number.isInteger(parseInt(event.target.value))) {\n        this.setState({\n          fiscalYear: event.target.value\n        });\n      }\n    }\n  }\n\n  @autobind\n  handleTransactionDateChange(date: Date) {\n    this.setState({\n      transactionDate: date\n    });\n  }\n\n  @autobind\n  handleClose(event: React.MouseEvent<HTMLElement>) {\n    const { onClose } = this.props;\n    this.setState({ showError: false });\n    if (!onClose) {\n      return;\n    }\n\n    onClose(undefined);\n  }\n\n  FiscalYearFormat(props: any) {\n    const { ...other } = props;\n\n    return <MaskedInput {...other} mask={[/\\d/, /\\d/, /\\d/, /\\d/]} />;\n  }\n\n  @autobind\n  async initiateProcess() {\n    const { onClose } = this.props;\n    var { selectedProcessTemplate, selectedVersion, processName, transactionDate, fiscalYear } = this.state;\n\n    if (!selectedProcessTemplate || !selectedProcessTemplate.id || !selectedVersion) {\n      return;\n    }\n\n    this.setState({\n      isInitiating: true\n    });\n\n    if (fiscalYear === '') {\n      fiscalYear = getFiscalYear();\n    } else if (fiscalYear.length === 4) {\n      fiscalYear = 'FY' + fiscalYear.substring(2);\n    }\n\n    try {\n      const newProcess = await this.context.processStore.createProcessFromProcessTemplate(\n        selectedProcessTemplate.id,\n        selectedVersion.version,\n        processName,\n        transactionDate,\n        fiscalYear,\n        this.props.relatedRejectedProcessInstance\n      );\n\n      if (onClose) {\n        onClose(newProcess);\n      }\n    } catch (error) {\n      console.log('ERROR', error);\n      this.setState({ showError: true });\n    } finally {\n      this.setState({\n        isInitiating: false\n      });\n    }\n  }\n\n  @autobind\n  async loadFunctionProcesses() {\n    this._isMounted === true &&\n      this.setState({\n        isLoadingFunctionProcesses: true,\n        isLoadingProcessTemplates: true,\n        isLoadingVersions: true\n      });\n\n    const tree = await this.context.processTemplateStore.listAllProcessTemplates();\n\n    // Filter to only containers that contain templates.\n    const functionProcesses: string[] = [];\n    for (const functionProcess of Object.keys(tree)) {\n      if (tree[functionProcess].length > 0) {\n        functionProcesses.push(functionProcess);\n      }\n    }\n\n    if (functionProcesses.length === 0 && this._isMounted === true) {\n      this.setState({\n        isLoadingFunctionProcesses: false,\n        functionProcesses,\n        selectedFunctionProcess: undefined,\n        isLoadingProcessTemplates: false,\n        selectedProcessTemplate: undefined,\n        processTemplates: []\n      });\n      return;\n    }\n\n    this._isMounted === true &&\n      this.setState({\n        isLoadingFunctionProcesses: false,\n        functionProcesses,\n        isLoadingProcessTemplates: false,\n        selectedFunctionProcess: functionProcesses[0],\n        processTemplates: tree[functionProcesses[0]],\n        selectedProcessTemplate: tree[functionProcesses[0]][0]\n      });\n\n    await this.loadProcessTemplateVersions(tree[functionProcesses[0]][0]);\n  }\n\n  @autobind\n  async loadProcessTemplates(functionProcess?: string) {\n    if (!functionProcess) {\n      functionProcess = this.state.selectedFunctionProcess;\n    }\n\n    if (!functionProcess) {\n      return;\n    }\n\n    this.setState({\n      isLoadingProcessTemplates: true,\n      isLoadingVersions: true\n    });\n\n    const processTemplates = await this.context.processTemplateStore.listProcessTemplatesInContainer(functionProcess);\n\n    const selectedProcessTemplate = this.state.selectedProcessTemplate;\n\n    this.setState({\n      isLoadingProcessTemplates: false,\n      processTemplates,\n      selectedProcessTemplate: processTemplates.length === 0 ? undefined : processTemplates[0]\n    });\n\n    if (!processTemplates || processTemplates.length === 0) {\n      this.setState({\n        isLoadingVersions: false,\n        selectedVersion: undefined,\n        versions: []\n      });\n      return;\n    }\n\n    if (!selectedProcessTemplate || !selectedProcessTemplate.id) {\n      await this.loadProcessTemplateVersions(processTemplates[0]);\n      return;\n    }\n\n    if (selectedProcessTemplate.id !== processTemplates[0].id) {\n      await this.loadProcessTemplateVersions(processTemplates[0]);\n      return;\n    }\n  }\n\n  @autobind\n  async loadProcessTemplateVersions(processTemplate?: ProcessTemplate) {\n    if (!processTemplate) {\n      processTemplate = this.state.selectedProcessTemplate;\n    }\n\n    if (!processTemplate || !processTemplate.id) {\n      return;\n    }\n\n    this._isMounted === true &&\n      this.setState({\n        isLoadingVersions: true\n      });\n\n    const versions = await this.context.processTemplateStore.getProcessTemplateVersionHistoryById(processTemplate.id!);\n    let selectedVersion = versions.find(ver => {\n      return ver.isCurrentVersion && ver.version.endsWith('.0');\n    });\n\n    if (!selectedVersion) {\n      selectedVersion = versions.find(ver => {\n        return ver.isCurrentVersion && !ver.version.endsWith('.0');\n      });\n    }\n\n    this._isMounted === true &&\n      this.setState({\n        isLoadingVersions: false,\n        versions,\n        selectedVersion\n      });\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    this._isMounted === true && this.setState({ showError: false });\n    if (this.state.allowFunctionProcessSelection) {\n      await this.loadFunctionProcesses();\n    } else if (this.state.selectedFunctionProcess && this.state.allowProcessTemplateSelection) {\n      await this.loadProcessTemplates();\n    } else if (this.state.selectedFunctionProcess && this.state.selectedProcessTemplate) {\n      await this.loadProcessTemplateVersions();\n    }\n  }\n\n  render() {\n    const { classes, open, path, processTemplate } = this.props;\n    const {\n      allowProcessTemplateSelection,\n      allowFunctionProcessSelection,\n      isLoadingFunctionProcesses,\n      isLoadingProcessTemplates,\n      isLoadingVersions,\n      isInitiating,\n      selectedFunctionProcess,\n      selectedProcessTemplate,\n      functionProcesses,\n      processName,\n      processTemplates,\n      fiscalYear,\n      transactionDate,\n      versions\n    } = this.state;\n\n    let { selectedVersion } = this.state;\n\n    let filteredVersions: ProcessTemplateVersion[] = [];\n    if (versions) {\n      filteredVersions = versions.filter(ver => ver.version.endsWith('.0'));\n    }\n\n    if (filteredVersions.length === 0) {\n      selectedVersion = undefined;\n    }\n\n    return (\n      <Dialog open={open} onClose={this.handleClose} aria-labelledby=\"initiate-process-dialog-title\" fullWidth={true} maxWidth=\"sm\">\n        <DialogTitle id=\"initiate-process-dialog-title\">Initiate Process</DialogTitle>\n        <DialogContent>\n          <Grid container spacing={8} justify=\"space-between\" alignItems=\"flex-end\" style={{ width: '100%', margin: 0 }}>\n            <Grid item xs={12} style={{ margin: 0, paddingTop: 0, paddingBottom: 0 }}>\n              {isLoadingFunctionProcesses && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />}\n              {!isLoadingFunctionProcesses && allowFunctionProcessSelection && (!functionProcesses || functionProcesses.length <= 0) && <i>No Function Processes Defined</i>}\n              {!isLoadingFunctionProcesses && allowFunctionProcessSelection && functionProcesses && functionProcesses.length > 0 && (\n                <Tooltip title={selectedFunctionProcess}>\n                  <TextField\n                    select\n                    fullWidth\n                    label=\"OFS Function/Program\"\n                    className={classes.textField}\n                    value={selectedFunctionProcess}\n                    onChange={this.handleSelectedFunctionProcessChange}\n                    SelectProps={{\n                      MenuProps: {\n                        className: classes.versionMenuItem\n                      }\n                    }}\n                    helperText=\"Please select the OFS Function Program that contains the Process Template to initiate.\"\n                  >\n                    {functionProcesses &&\n                      orderBy(functionProcesses).map(fp => (\n                        <MenuItem key={fp} value={fp}>\n                          {fp}\n                        </MenuItem>\n                      ))}\n                  </TextField>\n                </Tooltip>\n              )}\n              {!allowFunctionProcessSelection && (\n                <Tooltip title={selectedFunctionProcess}>\n                  <TextField disabled fullWidth label=\"OFS Function/Program\" className={classes.textField} value={path} />\n                </Tooltip>\n              )}\n            </Grid>\n            <Grid item xs={12} style={{ margin: 0, paddingTop: 10, paddingBottom: 0 }}>\n              {isLoadingProcessTemplates && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />}\n              {!isLoadingProcessTemplates && allowProcessTemplateSelection && (!processTemplates || processTemplates.length <= 0) && <i>No Process Templates</i>}\n              {!isLoadingProcessTemplates && allowProcessTemplateSelection && selectedFunctionProcess && processTemplates && processTemplates.length > 0 && (\n                <TextField\n                  select\n                  fullWidth\n                  label=\"Process Template\"\n                  className={classes.textField}\n                  value={selectedProcessTemplate && selectedProcessTemplate.id}\n                  onChange={this.handleSelectedProcessTemplateChange}\n                  SelectProps={{\n                    MenuProps: {\n                      className: classes.versionMenuItem\n                    }\n                  }}\n                  helperText=\"Please select the Process Template to initiate.\"\n                >\n                  {processTemplates &&\n                    orderBy(processTemplates, ['title'], ['asc']).map(pt => (\n                      <MenuItem key={pt.id} value={pt.id}>\n                        {pt.title}\n                      </MenuItem>\n                    ))}\n                </TextField>\n              )}\n              {!allowProcessTemplateSelection && <TextField disabled fullWidth label=\"Process Template\" className={classes.textField} value={processTemplate!.title} />}\n            </Grid>\n            <Grid item xs={12} style={{ margin: 0, paddingTop: 10, paddingBottom: 0 }}>\n              {isLoadingVersions && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />}\n              {!isLoadingVersions && (!versions || versions.length <= 0) && <div />}\n              {!isLoadingVersions && selectedProcessTemplate && (\n                <TextField\n                  select\n                  fullWidth\n                  label=\"Version\"\n                  className={classes.textField}\n                  value={selectedVersion ? selectedVersion.version : '-1'}\n                  onChange={this.handleSelectedVersionChange}\n                  SelectProps={{\n                    MenuProps: {\n                      className: classes.versionMenuItem\n                    }\n                  }}\n                  helperText=\"Please select the version of the Process Template to initiate.\"\n                >\n                  {filteredVersions.length > 0 &&\n                    orderBy(filteredVersions, ['version'], ['desc']).map(ver => (\n                      <MenuItem key={ver.version} value={ver.version}>\n                        {ver.version} <i>(Published On {moment(ver.createdOn).format('lll')})</i>\n                      </MenuItem>\n                    ))}\n                  }\n                  {filteredVersions.length < 1 && (\n                    <MenuItem value=\"-1\">\n                      <i>The selected Process Template has not been published.</i>\n                    </MenuItem>\n                  )}\n                </TextField>\n              )}\n\n              {!isLoadingVersions && selectedProcessTemplate && (\n                <TextField\n                  fullWidth\n                  label=\"Name\"\n                  className={classes.textField}\n                  value={processName}\n                  onChange={this.handleProcessNameChange}\n                  helperText=\"Please enter a name to describe the initiating process.\"\n                />\n              )}\n\n              <br />\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <Grid item xs={12}>\n                  {!isLoadingVersions && selectedProcessTemplate && (\n                    <KeyboardDatePicker clearable className={classes.textField} label=\"Transaction Date\" value={transactionDate} onChange={this.handleTransactionDateChange} format=\"MM-dd-yyyy\" />\n                  )}\n                </Grid>\n              </MuiPickersUtilsProvider>\n\n              {!isLoadingVersions && selectedProcessTemplate && (\n                <FormControl className={classes.textField}>\n                  <InputLabel htmlFor=\"fiscal-year-input\">Fiscal Year</InputLabel>\n                  <Input value={fiscalYear} onChange={this.handleFiscalYearChange} id=\"fiscal-year-input\" inputComponent={this.FiscalYearFormat} />\n                  <FormHelperText>4 digit fiscal year.</FormHelperText>\n                </FormControl>\n              )}\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          {isInitiating && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isInitiating && (\n            <>\n              {this.state.showError && <Chip size=\"small\" icon={<ErrorOutlineOutlinedIcon />} label={this.state.errorMessage} color=\"secondary\" />}\n              <Button onClick={this.handleClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button\n                onClick={this.initiateProcess}\n                color=\"primary\"\n                disabled={!selectedProcessTemplate || !selectedProcessTemplate.id || !selectedVersion || !(processName.length >= 3) || !(parseInt(fiscalYear) > 1000)}\n              >\n                Initiate\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(InitiateProcessDialog);\n\ninterface InitiateProcessDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (newProcess?: Process) => void;\n  path?: string;\n  processTemplate?: ProcessTemplate;\n  relatedRejectedProcessInstance?: { id: string; name: string };\n}\n\ninterface InitiateProcessDialogState {\n  allowFunctionProcessSelection: boolean;\n  allowProcessTemplateSelection: boolean;\n  isLoadingFunctionProcesses: boolean;\n  isLoadingProcessTemplates: boolean;\n  isLoadingVersions: boolean;\n  isInitiating: boolean;\n  selectedFunctionProcess?: string;\n  selectedProcessTemplate?: ProcessTemplate;\n  selectedVersion?: ProcessTemplateVersion;\n  functionProcesses?: string[];\n  processTemplates?: ProcessTemplate[];\n  processName: string;\n  fiscalYear: string;\n  transactionDate?: any;\n  versions?: ProcessTemplateVersion[];\n  showError: boolean;\n  errorMessage: string;\n}\n","import { Theme, createStyles } from '@material-ui/core/styles';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    paper: {\n      paddingTop: 20,\n      paddingBottom: 20\n    },\n    modal: {\n      top: '50%',\n      left: '50%',\n      transform: `translate(-50%, -50%)`,\n      position: 'absolute',\n      width: theme.spacing() * 50,\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing() * 2\n    },\n    caption: {\n      fontSize: 16,\n      textAlign: 'center'\n    },\n    progress: {\n      margin: theme.spacing() * 2,\n      color: '#00695c',\n      marginLeft: '32px'\n    },\n    actionButton: {\n      padding: 0,\n      minWidth: 'auto'\n    },\n    initiateProcessActionButton: {\n      padding: 0,\n      minWidth: 'auto',\n      paddingLeft: '15px',\n      paddingRight: '15px'\n    },\n    treeNode: {\n      height: 30\n    },\n    treeNodeListItemIcon: {\n      marginRight: '6px'\n    },\n    containerIcon: {\n      marginRight: 0,\n      alignItems: 'center',\n      verticalAlign: 'middle'\n    },\n    addSubFolderButton: {\n      width: 18,\n      height: 18,\n      color: '#1B5E20'\n    },\n    addProcessTemplateButton: {\n      width: 18,\n      height: 18,\n      color: '#1B5E20'\n    },\n    deleteContainerButton: {},\n    treeIconButton: {\n      color: theme.palette.primary.light\n    },\n    treeText: {\n      flex: '0 0 auto',\n      paddingLeft: 8,\n      paddingRight: 24\n    },\n    processTemplateNodeText: {\n      '&:hover': {\n        textDecoration: 'underline'\n      },\n      paddingRight: '0px'\n    },\n    formControl: {},\n    exportButton: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      marginTop: theme.spacing(0.5)\n    },\n    treeTextFlex: {\n      flex: 1\n    },\n    treeTextButton: {\n      color: theme.palette.primary.light\n    },\n    button: {\n      minWidth: 'auto',\n      minHeight: 'auto',\n      width: 'auto',\n      height: 'auto',\n      fontSize: 12,\n      lineHeight: 1,\n      padding: 4\n    },\n    listitemButton: {\n      minWidth: 'auto',\n      minHeight: 'auto',\n      width: 'auto',\n      height: 'auto',\n      fontSize: 10,\n      lineHeight: 1,\n      color: 'rgba(0, 0, 0, 0.50)',\n      marginLeft: 8\n    }\n  });\n\nexport default styles;\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport autobind from 'autobind-decorator';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport cn from 'classnames';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport InputIcon from '@material-ui/icons/Input';\nimport EditIcon from '@material-ui/icons/Edit';\nimport styles from './style';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport { ProcessTemplate } from '../../ppp';\nimport { Button, Tooltip, Checkbox, Box, FormControl, Select } from '@material-ui/core';\nimport { AppContext } from '../../AppContext';\n\n@observer\nexport class ProcessTemplateNode extends React.Component<ProcessTemplateNodeProps, { versions: Array<string>; versionDisabled: boolean }> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: ProcessTemplateNodeProps) {\n    super(props);\n    this.state = {\n      versions: [],\n      versionDisabled: false\n    };\n  }\n\n  @autobind\n  navigateToProcessTemplate(event: React.MouseEvent<HTMLElement>) {\n    event.stopPropagation();\n    const { processTemplate, navigateToProcessTemplate } = this.props;\n    if (!processTemplate.id) {\n      return;\n    }\n\n    navigateToProcessTemplate(processTemplate.id);\n  }\n\n  @autobind\n  initiateProcess() {\n    const { container, processTemplate, initiateProcess } = this.props;\n    initiateProcess(container, processTemplate);\n  }\n\n  @autobind\n  getProcessTemplateListItemStyle(): React.CSSProperties {\n    const result: React.CSSProperties = {\n      // paddingLeft: 0\n    };\n\n    if (this.props.selectedProcessTemplateId === this.props.processTemplate.id) {\n      result.backgroundColor = '#FFF3E0';\n    }\n\n    return result;\n  }\n\n  @autobind\n  selectProcessTemplate() {\n    this.props.selectProcessTemplate(this.props.processTemplate.id);\n  }\n\n  @autobind\n  async setVersionOptions(id: string | undefined) {\n    if (id) {\n      this.setState({ versionDisabled: true });\n      const versions = await this.context.processTemplateStore.getProcessTemplateVersionHistoryById(id);\n      const versionsToShow: Array<string> = [];\n      versions.forEach(ver => {\n        if (ver.isCurrentVersion === false) {\n          versionsToShow.push(ver.version);\n        }\n      });\n      this.setState({ versions: versionsToShow, versionDisabled: false });\n    }\n  }\n\n  render() {\n    const { classes, processTemplate } = this.props;\n\n    if (!processTemplate) {\n      return;\n    }\n\n    return (\n      <ListItem id={`process-template-${processTemplate.id}`} dense button className={classes.treeNode} style={this.getProcessTemplateListItemStyle()} onClick={this.selectProcessTemplate}>\n        <ListItemIcon classes={{ root: classes.treeNodeListItemIcon }}>\n          <Box display=\"flex\" alignItems={'center'}>\n            {this.props.exportMode === 'Active' && (\n              <>\n                <Checkbox\n                  edge=\"start\"\n                  onChange={e => {\n                    let version = undefined;\n                    if (e.target && e.target.checked === true) {\n                      this.setVersionOptions(processTemplate.id);\n                      version = this.props.selectedVersionNumer || processTemplate.version;\n                    }\n                    return this.props.onSelectProcessTemplateForExport(processTemplate.id, version);\n                  }}\n                  checked={this.props.selectedVersionNumer && this.props.selectedVersionNumer.length > 0 ? true : false}\n                  tabIndex={-1}\n                  disableRipple\n                  inputProps={{ 'aria-labelledby': 'Select to export' }}\n                />\n                <FormControl variant=\"outlined\" className={classes.formControl}>\n                  <Select\n                    disabled={this.props.selectedVersionNumer && this.props.selectedVersionNumer.length > 0 ? false : true || this.state.versionDisabled}\n                    native\n                    value={this.props.selectedVersionNumer}\n                    onChange={e => {\n                      if (e.target && e.target.value) {\n                        this.props.onSelectProcessTemplateForExport(processTemplate.id, e.target.value as string | undefined);\n                      }\n                    }}\n                    inputProps={{\n                      name: 'version',\n                      id: 'version-simple'\n                    }}\n                  >\n                    <option style={{ fontWeight: 'bold' }} value={processTemplate.version || ''}>{`${processTemplate.version}*`}</option>\n                    {this.state.versions &&\n                      this.state.versions.map(i => (\n                        <option key={i} value={i}>\n                          {i}\n                        </option>\n                      ))}\n                  </Select>\n                </FormControl>\n              </>\n            )}\n            <AssignmentIcon />\n          </Box>\n        </ListItemIcon>\n        <ListItemText\n          onClick={this.navigateToProcessTemplate}\n          inset\n          primary={processTemplate.title}\n          className={cn(classes.treeText, classes.processTemplateNodeText, {\n            [classes.treeTextFlex]: false\n          })}\n        />\n        <Tooltip title=\"Show more menu items\">\n          <span>\n            <Button className={classes.listitemButton} size=\"small\" onClick={e => this.props.showProcessTemplateMenu(e, this.props.container, this.props.processTemplate)}>\n              <MoreVertIcon />\n              {/* actions */}\n            </Button>\n          </span>\n        </Tooltip>\n        <Tooltip title=\"Edit/View Process Template\">\n          <Button className={classes.listitemButton} size=\"small\" aria-label=\"Edit Template\" onClick={this.navigateToProcessTemplate}>\n            <EditIcon />\n            {/* edit */}\n          </Button>\n        </Tooltip>\n        <Tooltip title=\"Initiate Process\">\n          <span>\n            <Button color=\"primary\" size=\"small\" aria-label=\"Initiate Process\" onClick={this.initiateProcess}>\n              <InputIcon />\n              {/* initiate */}\n            </Button>\n          </span>\n        </Tooltip>\n      </ListItem>\n    );\n  }\n}\n\nexport default withStyles(styles)(ProcessTemplateNode);\n\nexport interface ProcessTemplateNodeProps extends WithStyles<typeof styles> {\n  container: ProcessTemplateContainer;\n  processTemplate: ProcessTemplate;\n  showProcessTemplateMenu: (event: React.MouseEvent<HTMLElement>, container: ProcessTemplateContainer, processTemplate: ProcessTemplate) => void;\n  navigateToProcessTemplate: (processTemplateId: string) => void;\n  initiateProcess: (container: ProcessTemplateContainer, processTemplate: ProcessTemplate) => void;\n  selectedProcessTemplateId?: string;\n  selectProcessTemplate: (processTemplateId?: string) => void;\n  onSelectProcessTemplateForExport: (processTemplateId?: string, version?: string) => void;\n  exportMode: string;\n  selectedVersionNumer?: string | undefined;\n}\n","import React from 'react';\nimport { computed } from 'mobx';\nimport { observer } from 'mobx-react';\nimport orderBy from 'lodash/orderBy';\nimport autobind from 'autobind-decorator';\n\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport cn from 'classnames';\nimport Collapse from '@material-ui/core/Collapse';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport FolderOpenIcon from '@material-ui/icons/FolderOpen';\nimport IndicateFolderClosedIcon from '@material-ui/icons/ArrowRight';\nimport IndicateFolderOpenIcon from '@material-ui/icons/ArrowDropDown';\nimport Button from '@material-ui/core/Button';\nimport { Droppable, Draggable, DroppableProvided, DroppableStateSnapshot } from 'react-beautiful-dnd';\n\nimport styles from './style';\nimport ProcessTemplateNode from './ProcessTemplateNode';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport { ProcessTemplate } from '../../ppp';\n\n@observer\nexport class ProcessTemplateContainerNode extends React.Component<ProcessTemplateContainerProps> {\n  static defaultProps = {\n    className: ''\n  };\n\n  @autobind\n  getContainerStyle(isDraggingOver: boolean) {\n    if (isDraggingOver) {\n      return { backgroundColor: 'aliceblue' };\n    }\n    return {};\n  }\n\n  @autobind\n  getProcessTemplateStyle(isDragging: boolean, draggableStyle: any) {\n    return {\n      ...draggableStyle\n    };\n  }\n\n  @autobind\n  toggleContainer() {\n    this.props.toggleContainerShowChildren(this.props.container);\n  }\n\n  @computed get containerName() {\n    const { container } = this.props;\n    let containerName = container.name;\n    if (containerName === '/') {\n      containerName = '';\n    }\n    return containerName;\n  }\n\n  render() {\n    const { classes, className, container, templatesToExport } = this.props;\n\n    const getExportedData = (id: string | undefined): string | undefined => {\n      if (templatesToExport) {\n        const index = templatesToExport.findIndex(i => i.id === id);\n        if (index >= 0) {\n          return templatesToExport[index].version ? templatesToExport[index].version : undefined;\n        }\n      }\n      return undefined;\n    };\n\n    return (\n      <>\n        <Droppable droppableId={`ptc-${container.index}`}>\n          {(ptcProvider: DroppableProvided, ptcSnapshot: DroppableStateSnapshot) => (\n            <div ref={ptcProvider.innerRef}>\n              <ListItem\n                dense\n                button\n                className={classes.treeNode}\n                id={`process-template-container-${container.index}`}\n                onClick={this.toggleContainer}\n                style={this.getContainerStyle(ptcSnapshot.isDraggingOver)}\n              >\n                <ListItemIcon className={classes.containerIcon}>\n                  {container.showChildren ? (\n                    <>\n                      <IndicateFolderOpenIcon />\n                      <FolderOpenIcon />\n                    </>\n                  ) : (\n                    <>\n                      <IndicateFolderClosedIcon />\n                      <FolderIcon />\n                    </>\n                  )}\n                </ListItemIcon>\n                <ListItemText\n                  inset\n                  primary={this.containerName}\n                  style={{ paddingRight: '5px' }}\n                  className={cn(classes.treeText, {\n                    [classes.treeTextFlex]: false\n                  })}\n                />\n                <Button className={classes.actionButton} size=\"small\" onClick={e => this.props.showProcessTemplateContainerMenu(e, this.props.container)}>\n                  <MoreVertIcon />\n                </Button>\n              </ListItem>\n              <div style={{ height: '0' }}>{ptcProvider.placeholder}</div>\n            </div>\n          )}\n        </Droppable>\n        <Collapse in={container.showChildren} unmountOnExit>\n          {container.isLoading && <CircularProgress id=\"loading-container-children\" className={classes.progress} size={20} thickness={5} />}\n          {!container.isLoading && container.subFolders && container.subFolders.length > 0 && (\n            <List dense className={className} style={{ paddingLeft: 24 }}>\n              {container.subFolders.map((child, ix) => (\n                <Wrapper {...this.props} key={ix} initialVisibleDepth={this.props.initialVisibleDepth} container={child} />\n              ))}\n            </List>\n          )}\n          {!container.isLoading && container.processTemplates && container.processTemplates.length > 0 && (\n            <List dense className={className} style={{ paddingLeft: 48 }}>\n              {' '}\n              {/*  Indent 'Files' to look \"inside\" folders */}\n              {orderBy(container.processTemplates, ['title'], ['asc']).map((processTemplate, ix) => (\n                <Draggable key={ix} draggableId={`pt-${processTemplate.id!}`} index={ix}>\n                  {(ptProvider, ptSnapshot) => (\n                    <div\n                      key={processTemplate.id!}\n                      ref={ptProvider.innerRef}\n                      {...ptProvider.draggableProps}\n                      {...ptProvider.dragHandleProps}\n                      style={this.getProcessTemplateStyle(ptSnapshot.isDragging, ptProvider.draggableProps.style)}\n                    >\n                      <ProcessTemplateNode\n                        key={ix}\n                        container={container}\n                        processTemplate={processTemplate}\n                        showProcessTemplateMenu={this.props.showProcessTemplateMenu}\n                        initiateProcess={this.props.initiateProcess}\n                        navigateToProcessTemplate={this.props.navigateToProcessTemplate}\n                        selectedProcessTemplateId={this.props.selectedProcessTemplateId}\n                        selectProcessTemplate={this.props.selectProcessTemplate}\n                        exportMode={this.props.exportMode}\n                        onSelectProcessTemplateForExport={this.props.onSelectProcessTemplateForExport}\n                        selectedVersionNumer={getExportedData(processTemplate.id)}\n                      />\n                    </div>\n                  )}\n                </Draggable>\n              ))}\n            </List>\n          )}\n        </Collapse>\n      </>\n    );\n  }\n}\n\nconst Wrapper = withStyles(styles, { withTheme: true })(ProcessTemplateContainerNode);\nexport default Wrapper;\n\ninterface ProcessTemplateContainerProps extends WithStyles<typeof styles> {\n  className?: string;\n  initialVisibleDepth: number;\n  container: ProcessTemplateContainer;\n  exportMode: string;\n  showProcessTemplateMenu: (event: React.MouseEvent<HTMLElement>, container: ProcessTemplateContainer, processTemplate: ProcessTemplate) => void;\n  showProcessTemplateContainerMenu: (event: React.MouseEvent<HTMLElement>, container: ProcessTemplateContainer) => void;\n  navigateToProcessTemplate: (processTemplateId: string) => void;\n  initiateProcess: (container: ProcessTemplateContainer, processTemplate: ProcessTemplate) => void;\n  selectedProcessTemplateId?: string;\n  toggleContainerShowChildren: (container: ProcessTemplateContainer) => void;\n  selectProcessTemplate: (processTemplateId?: string) => void;\n  onSelectProcessTemplateForExport: (processTemplateId?: string, version?: string) => void;\n  templatesToExport: Array<{ id: string; version: string }>;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport { withStyles } from '@material-ui/core/styles';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport { ProcessTemplate } from '../../ppp';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport InputIcon from '@material-ui/icons/Input';\nimport EditIcon from '@material-ui/icons/Edit';\nimport HistoryIcon from '@material-ui/icons/History';\n\nclass ProcessTemplateMenu extends React.PureComponent<ProcessTemplateMenuProps> {\n  @autobind\n  copyProcessTemplateClicked(event: React.MouseEvent) {\n    const { container, processTemplate, copyProcessTemplate, hideProcessTemplateMenu } = this.props;\n    hideProcessTemplateMenu();\n\n    copyProcessTemplate(container, processTemplate);\n  }\n\n  @autobind\n  deleteProcessTemplateClicked(event: React.MouseEvent) {\n    const { container, processTemplate, deleteProcessTemplate, hideProcessTemplateMenu } = this.props;\n    hideProcessTemplateMenu();\n\n    deleteProcessTemplate(container, processTemplate);\n  }\n\n  @autobind\n  editProcessTemplateClicked(event: React.MouseEvent) {\n    const { processTemplate, navigateToProcessTemplate, hideProcessTemplateMenu } = this.props;\n    hideProcessTemplateMenu();\n\n    if (!processTemplate.id) {\n      return;\n    }\n\n    navigateToProcessTemplate(processTemplate.id);\n  }\n\n  @autobind\n  initiateProcessClicked(event: React.MouseEvent) {\n    const { container, processTemplate, initiateProcess, hideProcessTemplateMenu } = this.props;\n    hideProcessTemplateMenu();\n\n    initiateProcess(container, processTemplate);\n  }\n\n  @autobind\n  showVersionHistoryClicked(event: React.MouseEvent) {\n    const { container, processTemplate, showVersionHistory, hideProcessTemplateMenu } = this.props;\n    hideProcessTemplateMenu();\n\n    showVersionHistory(container, processTemplate);\n  }\n\n  render() {\n    const { menuAnchor, hideProcessTemplateMenu } = this.props;\n    const open = Boolean(menuAnchor);\n\n    return (\n      <Menu open={open} anchorEl={menuAnchor} onClose={hideProcessTemplateMenu}>\n        <MenuItem onClick={this.initiateProcessClicked}>\n          <ListItemIcon>\n            <InputIcon color=\"primary\" />\n          </ListItemIcon>\n          <ListItemText inset primary=\"Initiate Process\" />\n        </MenuItem>\n        <MenuItem onClick={this.editProcessTemplateClicked}>\n          <ListItemIcon>\n            <EditIcon />\n          </ListItemIcon>\n          <ListItemText inset primary=\"Edit Process Template\" />\n        </MenuItem>\n        <MenuItem onClick={this.copyProcessTemplateClicked}>\n          <ListItemIcon>\n            <FileCopyIcon />\n          </ListItemIcon>\n          <ListItemText inset primary=\"Copy Process Template\" />\n        </MenuItem>\n        <MenuItem onClick={this.showVersionHistoryClicked}>\n          <ListItemIcon>\n            <HistoryIcon />\n          </ListItemIcon>\n          <ListItemText inset primary=\"Version History\" />\n        </MenuItem>\n        <MenuItem onClick={this.deleteProcessTemplateClicked}>\n          <ListItemIcon>\n            <DeleteIcon color=\"secondary\" />\n          </ListItemIcon>\n          <ListItemText inset primary=\"Delete\" />\n        </MenuItem>\n      </Menu>\n    );\n  }\n}\n\nexport default withStyles({})(ProcessTemplateMenu);\n\nexport interface ProcessTemplateMenuProps {\n  container: ProcessTemplateContainer;\n  processTemplate: ProcessTemplate;\n  menuAnchor?: HTMLElement;\n  hideProcessTemplateMenu: () => void;\n  navigateToProcessTemplate: (processTemplateId: string) => void;\n  initiateProcess: (container: ProcessTemplateContainer, processTemplate: ProcessTemplate) => void;\n  showVersionHistory: (container: ProcessTemplateContainer, processTemplate: ProcessTemplate) => void;\n  copyProcessTemplate: (container: ProcessTemplateContainer, processTemplate: ProcessTemplate) => void;\n  deleteProcessTemplate: (container: ProcessTemplateContainer, processTemplate: ProcessTemplate) => void;\n}\n","import React from 'react';\nimport find from 'lodash/find';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport autobind from 'autobind-decorator';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { ProcessTemplate } from '../../ppp';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport Grid from '@material-ui/core/Grid';\n\nclass CopyProcessTemplateDialog extends React.Component<CopyProcessTemplateDialogProps, CopyProcessTemplateDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n  private _isMounted: boolean = false;\n\n  constructor(props: CopyProcessTemplateDialogProps) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      isCopying: false\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose();\n    }\n  }\n\n  @autobind\n  handleProcessTemplateTitleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { processTemplate } = this.state;\n    if (!processTemplate) {\n      return;\n    }\n\n    processTemplate.title = event.currentTarget.value;\n\n    this.setState({\n      processTemplate\n    });\n  }\n\n  @autobind\n  async copyProcessTemplate() {\n    const { processTemplateContainer, onClose } = this.props;\n    const { processTemplate } = this.state;\n    const { processTemplateStore } = this.context;\n\n    if (!processTemplate) {\n      return;\n    }\n\n    this.setState({\n      isCopying: true\n    });\n\n    const result = await processTemplateStore.saveProcessTemplateAsDraft(processTemplateContainer.path, processTemplate);\n\n    this.setState({\n      isCopying: false\n    });\n\n    if (onClose) {\n      onClose(result);\n    }\n  }\n\n  public async componentDidMount() {\n    this._isMounted = true;\n  }\n\n  public componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  async componentWillMount() {\n    const { processTemplateId } = this.props;\n    const { processTemplateStore } = this.context;\n\n    const processTemplate = await processTemplateStore.getProcessTemplateById(processTemplateId);\n\n    const clonedProcessTemplate: ProcessTemplate = {\n      activities: processTemplate.activities,\n      fields: processTemplate.fields,\n      description: processTemplate.description,\n      title: processTemplate.title\n    };\n\n    let ix = 1;\n    while (find(this.props.processTemplateContainer.processTemplates.slice(), { title: `${clonedProcessTemplate.title} (${ix})` })) {\n      ix++;\n    }\n\n    clonedProcessTemplate.title = `${clonedProcessTemplate.title} (${ix})`;\n\n    this._isMounted === true &&\n      this.setState({\n        isLoading: false,\n        processTemplate: clonedProcessTemplate\n      });\n  }\n\n  render() {\n    const { classes, processTemplateContainer, open } = this.props;\n    const { processTemplate, isLoading, isCopying } = this.state;\n\n    let isDuplicateTitle = false;\n    if (processTemplate && find(processTemplateContainer.processTemplates.slice(), { title: processTemplate.title })) {\n      isDuplicateTitle = true;\n    }\n\n    return (\n      <Dialog open={open} onClose={this.handleOnClose} aria-labelledby=\"copy-process-template-dialog-title\" fullWidth={true} maxWidth=\"xs\">\n        <DialogTitle id=\"copy-process-template-dialog-title\">Copy Process Template</DialogTitle>\n        <DialogContent>\n          {isLoading && <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />}\n          {!isLoading && processTemplate && (\n            <TextField\n              error={isDuplicateTitle}\n              fullWidth={true}\n              value={processTemplate.title}\n              margin=\"normal\"\n              label=\"New Process Template Title\"\n              helperText={isDuplicateTitle ? <i>A Process Template with this name already exists.</i> : undefined}\n              onChange={this.handleProcessTemplateTitleChange}\n            />\n          )}\n        </DialogContent>\n        <DialogActions>\n          {isCopying && !isLoading && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isCopying && !isLoading && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.copyProcessTemplate} color=\"primary\" disabled={isDuplicateTitle}>\n                Copy\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(CopyProcessTemplateDialog);\n\ninterface CopyProcessTemplateDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (copiedProcessTemplate?: ProcessTemplate) => void;\n  processTemplateContainer: ProcessTemplateContainer;\n  processTemplateId: string;\n}\n\ninterface CopyProcessTemplateDialogState {\n  isLoading: boolean;\n  isCopying: boolean;\n  processTemplate?: ProcessTemplate;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { ProcessTemplate } from '../../ppp';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport Grid from '@material-ui/core/Grid';\n\nclass MoveProcessTemplateDialog extends React.Component<MoveProcessTemplateDialogProps, MoveProcessTemplateDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: MoveProcessTemplateDialogProps) {\n    super(props);\n\n    this.state = {\n      isMoving: false,\n      processTemplate: props.processTemplate\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose(undefined);\n    }\n  }\n\n  @autobind\n  async moveProcessTemplate() {\n    const { onClose, processTemplateContainer } = this.props;\n    const { processTemplate } = this.state;\n    const { processTemplateStore } = this.context;\n\n    if (!processTemplate.id) {\n      if (onClose) {\n        onClose(undefined);\n      }\n      return;\n    }\n\n    this.setState({\n      isMoving: true\n    });\n\n    const result = await processTemplateStore.moveProcessTemplate(processTemplate.id, processTemplateContainer.path);\n\n    this.setState({\n      isMoving: false\n    });\n\n    if (onClose) {\n      onClose(result);\n    }\n  }\n\n  render() {\n    const { classes, processTemplateContainer } = this.props;\n    const { processTemplate, isMoving } = this.state;\n\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-move-process-template-dialog-title\" fullWidth={true} maxWidth=\"sm\">\n        <DialogTitle id=\"confirm-move-process-template-dialog-title\">Move Process Template?</DialogTitle>\n        <DialogContent>\n          <div>\n            Are you sure you wish to move the process template titled{' '}\n            <strong>\n              <i>{processTemplate.title}</i>\n            </strong>{' '}\n            to{' '}\n            <strong>\n              <i>{processTemplateContainer.path}</i>\n            </strong>\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {isMoving && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isMoving && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.moveProcessTemplate} color=\"primary\">\n                Move\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(MoveProcessTemplateDialog);\n\ninterface MoveProcessTemplateDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (processTemplate?: ProcessTemplate) => void;\n  processTemplateContainer: ProcessTemplateContainer;\n  processTemplate: ProcessTemplate;\n}\n\ninterface MoveProcessTemplateDialogState {\n  isMoving: boolean;\n  processTemplate: ProcessTemplate;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\n\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { ProcessTemplate } from '../../ppp';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport Grid from '@material-ui/core/Grid';\n\nclass DeleteProcessTemplateDialog extends React.Component<DeleteProcessTemplateDialogProps, DeleteProcessTemplateDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: DeleteProcessTemplateDialogProps) {\n    super(props);\n\n    this.state = {\n      isDeleting: false,\n      processTemplate: props.processTemplate\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose(false);\n    }\n  }\n\n  @autobind\n  async deleteProcessTemplate() {\n    const { onClose } = this.props;\n    const { processTemplate } = this.state;\n    const { processTemplateStore } = this.context;\n\n    if (!processTemplate.id) {\n      if (onClose) {\n        onClose(false);\n      }\n      return;\n    }\n\n    this.setState({\n      isDeleting: true\n    });\n\n    const result = await processTemplateStore.deleteProcessTemplateById(processTemplate.id);\n\n    this.setState({\n      isDeleting: false\n    });\n\n    if (onClose) {\n      onClose(result);\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { processTemplate, isDeleting } = this.state;\n\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-delete-process-template-dialog-title\" fullWidth={true} maxWidth=\"xs\">\n        <DialogTitle id=\"confirm-delete-process-template-dialog-title\">Delete Process Template?</DialogTitle>\n        <DialogContent>\n          <div>\n            Are you sure you wish to delete the process template titled{' '}\n            <strong>\n              <i>{processTemplate.title}</i>\n            </strong>\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {isDeleting && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isDeleting && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.deleteProcessTemplate} color=\"primary\">\n                Delete\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(DeleteProcessTemplateDialog);\n\ninterface DeleteProcessTemplateDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (deleted: boolean) => void;\n  processTemplateContainer: ProcessTemplateContainer;\n  processTemplate: ProcessTemplate;\n}\n\ninterface DeleteProcessTemplateDialogState {\n  isDeleting: boolean;\n  processTemplate: ProcessTemplate;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport { withStyles } from '@material-ui/core/styles';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport AddIcon from '@material-ui/icons/AddBox';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport NoteAddIcon from '@material-ui/icons/NoteAdd';\n\nclass ProcessTemplateContainerMenu extends React.Component<ProcessTemplateContainerMenuProps> {\n  @autobind\n  createProcessTemplateClicked(event: React.MouseEvent) {\n    const { container, createProcessTemplate, hideProcessTemplateContainerMenu } = this.props;\n    hideProcessTemplateContainerMenu();\n\n    createProcessTemplate(container);\n  }\n\n  @autobind\n  createProcessTemplateContainerClicked(event: React.MouseEvent) {\n    const { container, createProcessTemplateContainer, hideProcessTemplateContainerMenu } = this.props;\n    hideProcessTemplateContainerMenu();\n\n    createProcessTemplateContainer(container);\n  }\n\n  @autobind\n  deleteProcessTemplateContainerClicked(event: React.MouseEvent) {\n    const { container, deleteProcessTemplateContainer, hideProcessTemplateContainerMenu } = this.props;\n    hideProcessTemplateContainerMenu();\n\n    deleteProcessTemplateContainer(container);\n  }\n\n  render() {\n    const { menuAnchor, container, hideProcessTemplateContainerMenu } = this.props;\n    const open = Boolean(menuAnchor);\n\n    return (\n      <Menu open={open} anchorEl={menuAnchor} onClose={hideProcessTemplateContainerMenu}>\n        <MenuItem onClick={this.createProcessTemplateClicked}>\n          <ListItemIcon>\n            <NoteAddIcon color=\"action\" />\n          </ListItemIcon>\n          <ListItemText inset primary=\"Create Process Template\" />\n        </MenuItem>\n        <MenuItem onClick={this.createProcessTemplateContainerClicked}>\n          <ListItemIcon>\n            <AddIcon color=\"action\" />\n          </ListItemIcon>\n          <ListItemText inset primary=\"Create Subfolder\" />\n        </MenuItem>\n        <MenuItem onClick={this.deleteProcessTemplateContainerClicked} disabled={container.subFolders.length !== 0 || container.processTemplates.length !== 0}>\n          <ListItemIcon>\n            <DeleteIcon color=\"secondary\" />\n          </ListItemIcon>\n          <ListItemText inset primary=\"Delete Folder\" />\n        </MenuItem>\n      </Menu>\n    );\n  }\n}\n\nexport default withStyles({})(ProcessTemplateContainerMenu);\n\nexport interface ProcessTemplateContainerMenuProps {\n  container: ProcessTemplateContainer;\n  menuAnchor?: HTMLElement;\n  hideProcessTemplateContainerMenu: () => void;\n  createProcessTemplate: (container: ProcessTemplateContainer) => void;\n  createProcessTemplateContainer: (container: ProcessTemplateContainer) => void;\n  deleteProcessTemplateContainer: (container: ProcessTemplateContainer) => void;\n}\n","import React from 'react';\nimport find from 'lodash/find';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport autobind from 'autobind-decorator';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { ProcessTemplate } from '../../ppp';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport Grid from '@material-ui/core/Grid';\n\nclass CreateProcessTemplateDialog extends React.Component<CreateProcessTemplateDialogProps, CreateProcessTemplateDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: CreateProcessTemplateDialogProps) {\n    super(props);\n\n    this.state = {\n      isCreating: false,\n      newProcessTemplate: {\n        title: '',\n        description: ''\n      }\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose();\n    }\n  }\n\n  @autobind\n  handleNewProcessTemplateTitleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { newProcessTemplate } = this.state;\n    newProcessTemplate.title = event.currentTarget.value;\n    this.setState({\n      newProcessTemplate\n    });\n  }\n\n  @autobind\n  async createProcessTemplate() {\n    const { processTemplateContainer, onClose } = this.props;\n    const { newProcessTemplate } = this.state;\n    const { processTemplateStore } = this.context;\n\n    this.setState({\n      isCreating: true\n    });\n\n    const result = await processTemplateStore.saveProcessTemplateAsDraft(processTemplateContainer.path, newProcessTemplate);\n\n    this.setState(\n      {\n        isCreating: false\n      },\n      () => {\n        if (onClose) {\n          onClose(result);\n        }\n      }\n    );\n  }\n\n  render() {\n    const { classes, processTemplateContainer } = this.props;\n    const { isCreating, newProcessTemplate } = this.state;\n\n    let isDuplicateTitle = false;\n    if (newProcessTemplate && find(processTemplateContainer.processTemplates.slice(), { title: newProcessTemplate.title })) {\n      isDuplicateTitle = true;\n    }\n\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"new-process-template-dialog-title\" fullWidth={true} maxWidth=\"xs\">\n        <DialogTitle id=\"new-process-template-dialog-title\">New Process Template</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            error={isDuplicateTitle}\n            label=\"New Process Template Name\"\n            style={{ width: 300 }}\n            value={newProcessTemplate.title}\n            onChange={this.handleNewProcessTemplateTitleChange}\n            helperText={isDuplicateTitle ? <i>A Process Template with this name already exists.</i> : undefined}\n            margin=\"normal\"\n          />\n        </DialogContent>\n        <DialogActions>\n          {isCreating && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isCreating && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.createProcessTemplate} color=\"primary\" disabled={isDuplicateTitle}>\n                Create\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(CreateProcessTemplateDialog);\n\ninterface CreateProcessTemplateDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (copiedProcessTemplate?: ProcessTemplate) => void;\n  processTemplateContainer: ProcessTemplateContainer;\n}\n\ninterface CreateProcessTemplateDialogState {\n  isCreating: boolean;\n  newProcessTemplate: ProcessTemplate;\n}\n","import React from 'react';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport autobind from 'autobind-decorator';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport Grid from '@material-ui/core/Grid';\n\nclass DeleteProcessTemplateContainerDialog extends React.Component<DeleteProcessTemplateContainerDialogProps, DeleteProcessTemplateContainerDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: DeleteProcessTemplateContainerDialogProps) {\n    super(props);\n\n    this.state = {\n      isDeleting: false,\n      processTemplateContainer: props.processTemplateContainer\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose(false);\n    }\n  }\n\n  @autobind\n  async deleteProcessTemplateContainer() {\n    const { onClose } = this.props;\n    const { processTemplateContainer } = this.state;\n    const { processTemplateStore } = this.context;\n\n    if (!processTemplateContainer.path) {\n      if (onClose) {\n        onClose(false);\n      }\n      return;\n    }\n\n    this.setState({\n      isDeleting: true\n    });\n\n    const result = await processTemplateStore.deleteProcessTemplateContainer(processTemplateContainer.path);\n\n    this.setState({\n      isDeleting: false\n    });\n\n    if (onClose) {\n      onClose(result);\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { processTemplateContainer, isDeleting } = this.state;\n\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"confirm-delete-process-template-dialog-title\" fullWidth={true} maxWidth=\"xs\">\n        <DialogTitle id=\"confirm-delete-process-template-dialog-title\">Delete Subfolder?</DialogTitle>\n        <DialogContent>\n          <div>\n            Are you sure you wish to delete the folder named{' '}\n            <strong>\n              <i>{processTemplateContainer.name}</i>\n            </strong>\n          </div>\n        </DialogContent>\n        <DialogActions>\n          {isDeleting && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isDeleting && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.deleteProcessTemplateContainer} color=\"primary\">\n                Delete\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(DeleteProcessTemplateContainerDialog);\n\ninterface DeleteProcessTemplateContainerDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (deleted: boolean) => void;\n  processTemplateContainer: ProcessTemplateContainer;\n}\n\ninterface DeleteProcessTemplateContainerDialogState {\n  isDeleting: boolean;\n  processTemplateContainer: ProcessTemplateContainer;\n}\n","import React from 'react';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport autobind from 'autobind-decorator';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { styles } from './styles';\nimport { AppContext } from '../../AppContext';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport Grid from '@material-ui/core/Grid';\n\nclass CreateProcessTemplateContainerDialog extends React.Component<CreateProcessTemplateContainerDialogProps, CreateProcessTemplateContainerDialogState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: CreateProcessTemplateContainerDialogProps) {\n    super(props);\n\n    this.state = {\n      isCreating: false,\n      processTemplateContainer: props.processTemplateContainer,\n      newContainerName: ''\n    };\n  }\n\n  @autobind\n  handleOnClose() {\n    if (this.props.onClose) {\n      this.props.onClose(undefined);\n    }\n  }\n\n  @autobind\n  handleNewContainerNameChange(event: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({\n      newContainerName: event.currentTarget.value\n    });\n  }\n\n  @autobind\n  async createProcessTemplateContainer() {\n    const { onClose } = this.props;\n    const { processTemplateContainer, newContainerName } = this.state;\n    const { processTemplateStore } = this.context;\n\n    if (!processTemplateContainer.path) {\n      if (onClose) {\n        onClose(undefined);\n      }\n      return;\n    }\n\n    this.setState({\n      isCreating: true\n    });\n\n    let newPath;\n    if (processTemplateContainer.depth === 0) {\n      newPath = await processTemplateStore.putProcessTemplateContainer(`/${newContainerName}`);\n    } else {\n      newPath = await processTemplateStore.putProcessTemplateContainer(`${processTemplateContainer.path}/${newContainerName}`);\n    }\n\n    this.setState({\n      isCreating: false\n    });\n\n    if (onClose) {\n      onClose(newPath);\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { isCreating } = this.state;\n\n    return (\n      <Dialog open={this.props.open} onClose={this.handleOnClose} aria-labelledby=\"create-process-template-container-dialog-title\" fullWidth={true} maxWidth=\"xs\">\n        <DialogTitle id=\"create-process-template-container-dialog-title\">Create Subfolder</DialogTitle>\n        <DialogContent>\n          <TextField label=\"New Folder Name\" style={{ width: 300 }} value={this.state.newContainerName} onChange={this.handleNewContainerNameChange} margin=\"normal\" />\n        </DialogContent>\n        <DialogActions>\n          {isCreating && (\n            <Grid container style={{ margin: '15px' }}>\n              <CircularProgress variant=\"indeterminate\" disableShrink className={classes.facebook2} size={24} thickness={4} />\n            </Grid>\n          )}\n          {!isCreating && (\n            <>\n              <Button onClick={this.handleOnClose} color=\"primary\">\n                Cancel\n              </Button>\n              <Button onClick={this.createProcessTemplateContainer} color=\"primary\">\n                Create\n              </Button>\n            </>\n          )}\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(CreateProcessTemplateContainerDialog);\n\ninterface CreateProcessTemplateContainerDialogProps extends WithStyles<typeof styles> {\n  open: boolean;\n  onClose?: (newPath: string | undefined) => void;\n  processTemplateContainer: ProcessTemplateContainer;\n}\n\ninterface CreateProcessTemplateContainerDialogState {\n  isCreating: boolean;\n  processTemplateContainer: ProcessTemplateContainer;\n  newContainerName: string;\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport autobind from 'autobind-decorator';\nimport moment from 'moment';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nimport { AppContext } from '../../AppContext';\nimport { ProcessTemplate, ProcessTemplateVersion } from '../../ppp';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst styles = {};\n\nclass ProcessTemplateVersionHistory extends React.Component<ProcessTemplateVersionHistoryProps, ProcessTemplateVersionHistoryState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: ProcessTemplateVersionHistoryProps) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      versionHistory: []\n    };\n  }\n\n  @autobind\n  handleClose(e: React.MouseEvent<HTMLElement>) {\n    if (!this.props.onClose) {\n      return;\n    }\n\n    this.props.onClose();\n  }\n\n  @autobind\n  async getProcessTemplateVersionHistory() {\n    const { processTemplate } = this.props;\n    if (!processTemplate.id) {\n      return;\n    }\n\n    this.setState({\n      isLoading: true\n    });\n\n    const { processTemplateStore } = this.context;\n    const versionHistory = await processTemplateStore.getProcessTemplateVersionHistoryById(processTemplate.id);\n    this.setState({\n      isLoading: false,\n      versionHistory\n    });\n  }\n\n  componentWillMount() {\n    this.getProcessTemplateVersionHistory();\n  }\n\n  renderVersion(version: ProcessTemplateVersion): JSX.Element {\n    return (\n      <span>\n        {version.version} {moment(version.createdOn).format('MM/DD/YY h:mm a')} {version.createdBy.displayName}\n      </span>\n    );\n  }\n\n  render() {\n    const { open, processTemplate } = this.props;\n    const { isLoading, versionHistory } = this.state;\n\n    return (\n      <Dialog open={open} onClose={this.handleClose} aria-labelledby=\"initiate-process-dialog-title\" fullWidth={true} maxWidth=\"sm\">\n        <DialogTitle id=\"initiate-process-dialog-title\">\n          Version History for <i>{processTemplate.title}</i>\n        </DialogTitle>\n        <DialogContent>\n          {isLoading && <CircularProgress size={20} thickness={5} />}\n          {!isLoading && (\n            <List dense style={{ paddingLeft: 32 }}>\n              {versionHistory.map((version, ix) => (\n                <ListItem key={ix}>\n                  <ListItemText>\n                    <>\n                      {version.isCurrentVersion && <b>{this.renderVersion(version)}</b>}\n                      {!version.isCurrentVersion && this.renderVersion(version)}\n                    </>\n                  </ListItemText>\n                </ListItem>\n              ))}\n            </List>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.handleClose} color=\"primary\">\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nexport default withStyles(styles)(ProcessTemplateVersionHistory);\n\ninterface ProcessTemplateVersionHistoryProps {\n  open: boolean;\n  onClose?: () => void;\n  processTemplate: ProcessTemplate;\n}\n\ninterface ProcessTemplateVersionHistoryState {\n  isLoading: boolean;\n  versionHistory: ProcessTemplateVersion[];\n}\n","import React from 'react';\nimport { renderToStaticMarkup } from 'react-dom/server';\nimport moment from 'moment';\nimport DOMPurify from 'dompurify';\n\nexport class TemplateExporter {\n  private static style = ``;\n\n  private static printStyle = `\n      body {zoom: 82%;\n        orientation:landscape;\n    `;\n\n  // Insert path into directory tree structure:\n  static insert(children: any[] = [], s: string[], templates: any[], fullPath?: string) {\n    const [head, ...tail] = s;\n    const fullPathKey = (fullPath ? fullPath : '') + '/' + head;\n    let child = children.find((a: any) => a.text === head);\n    const filesKeys = Object.keys(templates);\n    const values = Object.keys(templates).map((key: any) => templates[key]);\n    let files = [];\n    for (let z = 0; z <= filesKeys.length; z++) {\n      if (filesKeys[z] === fullPathKey + '/') {\n        files = values[z];\n        break;\n      }\n    }\n    if (!child) {\n      children.push((child = { text: head, children: [], files: files }));\n    }\n    if (tail.length > 0) {\n      this.insert(child.children, tail, templates, fullPathKey);\n    }\n    return children;\n  }\n\n  // tslint:disable-next-line:align\n  static renderIndex(templates: any[]) {\n    const paths = Object.keys(templates);\n    let objectArray = paths\n      .map(path => {\n        path = path.replace(/\\/$/, '');\n        return path.split('/').slice(1);\n      })\n      .reduce((children, path) => {\n        return this.insert(children, path, templates);\n      });\n\n    // Massage the data further to accomodate JSTree expectations.\n    let newObject: any[] = [];\n    const buildWeirdTree = (i: any, obj: any[]) => {\n      const lastChildren = i.children;\n      i.state = {\n        opened: true\n      };\n      if (i.files) {\n        let children: any[] = [];\n        i.files.forEach((f: any) => {\n          const filename = `${f.title.toLowerCase().replace(/[/\\\\?%*:|\"<>]/g, '-')}-${f.id}`;\n          let attr = 'templates/' + filename + '.html';\n          children.push({\n            text: f.title,\n            a_attr: attr,\n            icon:\n              'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAe1BMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABenuUFAAAAKHRSTlMAEf1ozDMiCt3J5/7t6mIpKuP86cgJrSyYAe6W2Vhh8e8/LihU30bsv5M4BAAAAHRJREFUKM+10kcKgDAQQNHYjb333u9/QoWE6EQXIvhXw7zFQAhCn6qtjSQ6YJ8XdN/ZUDS63/TRMKVHQC6QC0C5AhpssbnBLBz1Lb4B7R0EOsnnIaSzx8OqkpYfb1gKaXp1I+YgYq9YQcgYpIl8hkvh2wfZAadqIXDDcFsRAAAAAElFTkSuQmCC'\n          });\n        });\n        i.children = [...i.children, ...children];\n      }\n      obj.push(i);\n      if (lastChildren && lastChildren.length > 0) {\n        lastChildren.map((ii: any) => {\n          buildWeirdTree(ii, lastChildren);\n        });\n      }\n    };\n\n    objectArray.map((i: any) => {\n      buildWeirdTree(i, newObject);\n    });\n    const json = JSON.stringify(newObject);\n\n    var script = `\n      $(document).ready(function () {\n        $('#jstree_div').jstree({ 'core' : {\n          'data' : ${json}\n      } })\n        .bind(\"select_node.jstree\", function(e, data){\n          if(data.node.original.a_attr){\n            var href = data.node.original.a_attr;\n            window.location.href = href;\t\t\n          }\n        });\n      });`;\n\n    return (\n      <html lang=\"en\">\n        <head>\n          <meta charSet=\"utf-8\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\n          <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n          <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" />\n          <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css\" />\n          <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js\" />\n          <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js\" />\n\n          <style type=\"text/css\" dangerouslySetInnerHTML={{ __html: this.style }} />\n          <style type=\"text/css\" media=\"print\" dangerouslySetInnerHTML={{ __html: this.printStyle }} />\n        </head>\n        <body style={{ margin: '10px' }}>\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <h1 className=\"onlyprint\">Process Templates</h1>\n            </div>\n          </div>\n          <p />\n          <div id=\"jstree_div\" />\n\n          <script type=\"text/javascript\" dangerouslySetInnerHTML={{ __html: script }} />\n        </body>\n      </html>\n    );\n  }\n\n  static renderProcessTemplate(template: any) {\n    return (\n      <html lang=\"en\">\n        <head>\n          <meta charSet=\"utf-8\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\n          <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n          <link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" />\n          <style type=\"text/css\" dangerouslySetInnerHTML={{ __html: this.style }} />\n          <style type=\"text/css\" media=\"print\" dangerouslySetInnerHTML={{ __html: this.printStyle }} />\n        </head>\n        <body style={{ margin: '10px' }}>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <h1 className=\"onlyprint\">Template Name: {template.title}</h1>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <footer className=\"onlyprint\" />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <div className=\"panel panel-default\">\n                  <div className=\"panel-body\">\n                    <div className=\"row\">\n                      <div className=\"col-xs-6\">\n                        <div className=\"form-group\">\n                          <label className=\"control-label\">path</label>{' '}\n                          <label style={{ borderTop: 'none', boxShadow: 'none', borderLeft: 'none', borderRight: 'none', borderRadius: 'unset' }} className=\"form-control\">\n                            {template.path}\n                          </label>\n                        </div>\n                      </div>\n                      <div className=\"col-xs-6\">\n                        <div className=\"form-group\">\n                          <label className=\"control-label\">Version </label>{' '}\n                          <label style={{ borderTop: 'none', boxShadow: 'none', borderLeft: 'none', borderRight: 'none', borderRadius: 'unset' }} className=\"form-control\">\n                            {template.version}\n                          </label>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-xs-6\">\n                        <div className=\"form-group\">\n                          <label className=\"control-label\">Created By</label>{' '}\n                          <label style={{ borderTop: 'none', boxShadow: 'none', borderLeft: 'none', borderRight: 'none', borderRadius: 'unset' }} className=\"form-control\">\n                            {template.createdBy.displayName}\n                          </label>\n                        </div>\n                      </div>\n                      <div className=\"col-xs-6\">\n                        <div className=\"form-group\">\n                          <label className=\"control-label\">Created Date</label>{' '}\n                          <label style={{ borderTop: 'none', boxShadow: 'none', borderLeft: 'none', borderRight: 'none', borderRadius: 'unset' }} className=\"form-control\">\n                            {template.created ? moment(template!.created).format('lll') : ''}\n                          </label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <h3>\n                  <b>Activities</b>\n                </h3>\n              </div>\n              {template.activities.map((activity: any, activityIndex: any) => (\n                <div key={activityIndex} className=\"col-xs-12\">\n                  <div className=\"panel panel-default\">\n                    <div className=\"panel-body\">\n                      <div className=\"row\">\n                        <div className=\"col-xs-12\">\n                          <label className=\"control-label\">{`Activity #${activityIndex + 1}`}</label>\n                        </div>\n                        <div className=\"col-xs-12\">\n                          <label className=\"control-label\">Description : </label>\n                          <div style={{ height: 'auto', border: 'none', boxShadow: 'none', marginBottom: '10px' }} dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(activity.description) }} />\n                        </div>\n                        <div className=\"col-xs-12\">\n                          <label className=\"control-label\">Responsible Party : </label>\n                          {activity.responsibleParty !== '' ? activity.responsibleParty : ' [none]'}\n                        </div>\n                        <div className=\"col-xs-3\">\n                          <label className=\"control-label\">Depends On Previous : </label>\n                          {activity.dependsOnPreviousActivity ? ' Yes' : ' No'}\n                        </div>\n                        <div className=\"col-xs-3\">\n                          <label className=\"control-label\">Allow Attachments : </label>\n                          {activity.allowAttachments ? ' Yes' : ' No'}\n                        </div>\n                        <div className=\"col-xs-3\">\n                          <label>Require Attachments : </label>\n                          {activity.requireAttachments ? ' Yes' : ' No'}\n                        </div>\n                        <div className=\"col-xs-3\">\n                          <label className=\"control-label\">Requires Secondary Review : </label>\n                          {activity.requiresReview ? ' Yes' : ' No'}\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div style={{ height: 'auto', border: 'none', boxShadow: 'none', marginTop: '10px' }} className=\"col-xs-12\">\n                          <label className=\"control-label\">Tooltip : </label>\n                          {activity.tooltip ? activity.tooltip : ' [none]'}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </body>\n      </html>\n    );\n  }\n\n  static exportIndex(templates: any) {\n    return renderToStaticMarkup(this.renderIndex(templates));\n  }\n\n  static exportTemplate(template: any) {\n    return renderToStaticMarkup(this.renderProcessTemplate(template));\n  }\n}\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport autobind from 'autobind-decorator';\nimport cloneDeep from 'lodash/cloneDeep';\nimport find from 'lodash/find';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\nimport { DragDropContext, DragUpdate, Droppable, DroppableProvided, DroppableStateSnapshot } from 'react-beautiful-dnd';\nimport { withStyles, WithStyles } from '@material-ui/core/styles';\nimport cn from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { ProcessTemplateContainer } from '../../ppp/ProcessTemplateContainer';\nimport ProcessTemplateContainerNode from './ProcessTemplateContainerNode';\nimport styles from './style';\nimport { AppContext } from '../../AppContext';\nimport { ProcessTemplate, Process } from '../../ppp';\nimport ProcessTemplateMenu from './ProcessTemplateMenu';\nimport InitiateProcessDialog from '../dialogs/InitiateProcessDialog';\nimport CopyProcessTemplateDialog from '../dialogs/CopyProcessTemplateDialog';\nimport MoveProcessTemplateDialog from '../dialogs/MoveProcessTemplateDialog';\nimport DeleteProcessTemplateDialog from '../dialogs/DeleteProcessTemplateDialog';\nimport ProcessTemplateContainerMenu from './ProcessTemplateContainerMenu';\nimport CreateProcessTemplateDialog from '../dialogs/CreateProcessTemplateDialog';\nimport DeleteProcessTemplateContainerDialog from '../dialogs/DeleteProcessTemplateContainerDialog';\nimport CreateProcessTemplateContainerDialog from '../dialogs/CreateProcessTemplateContainerDialog';\nimport ProcessTemplateVersionHistoryDialog from '../dialogs/ProcessTemplateVersionHistoryDialog';\n\nimport Button from '@material-ui/core/Button';\nimport ExportProcessIcon from '@material-ui/icons/SaveAlt';\nimport { TemplateExporter } from '../../services/TemplateExporter';\nimport JSZip from 'jszip';\n\nconst guidRegex = new RegExp(/^[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}$/);\n\nconst defaultProcessTemplateTreeData: Partial<ProcessTemplateTreeState> = {};\n\nexport const ProcessTemplateTreeContext = React.createContext(defaultProcessTemplateTreeData);\n\n@observer\nexport class ProcessTemplateTree extends React.Component<ProcessTemplateTreeProps, ProcessTemplateTreeState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  static defaultProps = {\n    className: '',\n    title: '',\n    initialVisibleDepth: 3\n  };\n\n  constructor(props: ProcessTemplateTreeProps, context?: React.ContextType<typeof AppContext>) {\n    super(props, context);\n    this.state = { export: { mode: '', isValid: false }, templatesToExport: [] };\n  }\n\n  @autobind\n  onDragEnd(result: DragUpdate) {\n    if (!result.destination) {\n      return;\n    }\n\n    const { processTemplateContainerStore } = this.context;\n\n    // If the source folder is the same as the target folder.\n    const processTemplateId = result.draggableId.replace(/pt-/, '');\n    let sourceContainer: ProcessTemplateContainer | undefined;\n    let processTemplate: ProcessTemplate | undefined;\n    for (const container of processTemplateContainerStore.flatContainers) {\n      processTemplate = find(container.processTemplates, { id: processTemplateId });\n      if (processTemplate) {\n        sourceContainer = container;\n        break;\n      }\n    }\n\n    const destinationContainerIndex = result.destination.droppableId.replace(/^r?ptc-/, '');\n    const destinationContainer = processTemplateContainerStore.flatContainers[parseInt(destinationContainerIndex, 10)];\n\n    if (!sourceContainer || !destinationContainer || !processTemplate) {\n      return;\n    }\n\n    if (sourceContainer === destinationContainer) {\n      return;\n    }\n\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.MoveProcessTemplate,\n        sourceContainer,\n        container: destinationContainer,\n        processTemplate: processTemplate,\n        menuAnchor: undefined\n      }\n    });\n  }\n\n  @autobind\n  async listAllProcessTemplates() {\n    const { processTemplateContainerStore } = this.context;\n    processTemplateContainerStore.initialVisibleDepth = this.props.initialVisibleDepth;\n    const loader = processTemplateContainerStore.listAllProcessTemplates('', c => {\n      this.setState({ cancelLoading: c.cancel });\n    });\n\n    return await loader;\n  }\n\n  @autobind\n  beginCopyProcessTemplate(container: ProcessTemplateContainer, processTemplateToCopy: ProcessTemplate) {\n    const processTemplate = cloneDeep(processTemplateToCopy);\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.CopyProcessTemplate,\n        container: container,\n        processTemplate\n      }\n    });\n  }\n\n  @autobind\n  beginCreateProcessTemplate(container: ProcessTemplateContainer) {\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.CreateProcessTemplate,\n        container,\n        depth: -1\n      }\n    });\n  }\n\n  @autobind\n  beginCreateProcessTemplateContainer(container: ProcessTemplateContainer) {\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.CreateContainer,\n        container,\n        depth: -1\n      }\n    });\n  }\n\n  @autobind\n  beginDeleteProcessTemplate(container: ProcessTemplateContainer, processTemplateToDelete: ProcessTemplate) {\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.DeleteProcessTemplate,\n        container: container,\n        processTemplate: processTemplateToDelete\n      }\n    });\n  }\n\n  @autobind\n  beginDeleteProcessTemplateContainer(container: ProcessTemplateContainer) {\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.DeleteContainer,\n        container,\n        depth: -1\n      }\n    });\n  }\n\n  @autobind\n  beginInitiateProcess(container: ProcessTemplateContainer, processTemplateToInitiate: ProcessTemplate) {\n    const processTemplate = cloneDeep(processTemplateToInitiate);\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.InitiateProcess,\n        container: container,\n        processTemplate\n      }\n    });\n  }\n\n  @autobind\n  beginShowVersionHistory(container: ProcessTemplateContainer, processTemplateToInitiate: ProcessTemplate) {\n    const processTemplate = cloneDeep(processTemplateToInitiate);\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.ShowProcessTemplateVersionHistory,\n        container: container,\n        processTemplate\n      }\n    });\n  }\n\n  @autobind\n  clearCurrentCommand() {\n    this.setState({\n      currentCommand: undefined\n    });\n  }\n\n  @autobind\n  async handleCopyProcessTemplateClosed(processTemplate?: ProcessTemplate) {\n    this.clearCurrentCommand();\n    if (processTemplate && processTemplate.id) {\n      this.navigateToProcessTemplate(processTemplate.id);\n    }\n  }\n\n  @autobind\n  async handleMoveProcessTemplateClosed(processTemplate?: ProcessTemplate) {\n    if (processTemplate) {\n      this.selectProcessTemplate(processTemplate.id);\n    } else {\n      this.selectProcessTemplate();\n    }\n\n    const { processTemplateContainerStore } = this.context;\n    const { currentCommand } = this.state;\n    this.clearCurrentCommand();\n    if (currentCommand && processTemplate && processTemplate.id) {\n      await Promise.all([\n        processTemplateContainerStore.listProcessTemplatesInContainer(currentCommand.container),\n        processTemplateContainerStore.listProcessTemplatesInContainer(currentCommand.sourceContainer!)\n      ]);\n    }\n  }\n\n  @autobind\n  async handleProcessTemplateCreated(processTemplate?: ProcessTemplate) {\n    this.clearCurrentCommand();\n    if (processTemplate && processTemplate.id) {\n      this.navigateToProcessTemplate(processTemplate.id);\n    }\n  }\n\n  @autobind\n  async handleProcessTemplateContainerCreated() {\n    const { processTemplateContainerStore } = this.context;\n    this.clearCurrentCommand();\n    await processTemplateContainerStore.listAllProcessTemplates();\n  }\n\n  @autobind\n  async handleProcessTemplateDeleted(wasDeleted: boolean) {\n    const { processTemplateContainerStore } = this.context;\n    const { currentCommand } = this.state;\n    this.clearCurrentCommand();\n    if (wasDeleted) {\n      await processTemplateContainerStore.listProcessTemplatesInContainer(currentCommand!.container);\n    }\n  }\n\n  @autobind\n  async handleProcessTemplateContainerDeleted(wasDeleted: boolean) {\n    this.clearCurrentCommand();\n    if (wasDeleted) {\n      await this.listAllProcessTemplates();\n    }\n  }\n\n  @autobind\n  async handleProcessInitiated(newProcess: Process | undefined) {\n    this.clearCurrentCommand();\n    if (newProcess) {\n      this.selectProcessTemplate(newProcess.template.id);\n      this.props.history.push(`/process/${newProcess.id}`);\n    }\n  }\n\n  @autobind\n  selectProcessTemplate(processTemplateId?: string) {\n    const values = queryString.parse(this.props.location.search);\n    if (values.pt !== processTemplateId) {\n      values.pt = processTemplateId;\n      this.props.history.push(`${this.props.location.pathname}?${queryString.stringify(values)}`);\n    }\n\n    this.context.processTemplateContainerStore.selectProcessTemplate(processTemplateId);\n  }\n\n  @autobind\n  handleOnSelectProcessTemplateForExport(processTemplateId?: string, version?: string) {\n    if (processTemplateId) {\n      var index = this.state.templatesToExport.findIndex(x => x.id === processTemplateId);\n      if (index >= 0) {\n        if (version && version.length > 0) {\n          // update existing\n          this.setState(state => {\n            state.templatesToExport[index] = { id: processTemplateId || '', version: version || '' };\n            return { templatesToExport: [...state.templatesToExport], export: { isValid: true, mode: state.export.mode } };\n          });\n        } else {\n          const templatesToExportClone = [...this.state.templatesToExport];\n          templatesToExportClone.splice(index, 1);\n          this.setState(state => {\n            return { templatesToExport: templatesToExportClone, export: { isValid: templatesToExportClone.length > 0, mode: state.export.mode } };\n          });\n        }\n      } else {\n        // add new\n        this.setState(state => {\n          return { templatesToExport: [...state.templatesToExport, { id: processTemplateId || '', version: version || '' }], export: { isValid: true, mode: state.export.mode } };\n        });\n      }\n    }\n  }\n\n  @autobind\n  navigateToProcessTemplate(processTemplateId: string) {\n    if (!guidRegex.test(processTemplateId)) {\n      return;\n    }\n\n    this.selectProcessTemplate(processTemplateId);\n    this.props.history.push(`/template/${processTemplateId}`);\n  }\n\n  @autobind\n  showProcessTemplateMenu(event: React.MouseEvent<HTMLElement>, container: ProcessTemplateContainer, processTemplate: ProcessTemplate) {\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.ShowProcessTemplateMenu,\n        container: container,\n        processTemplate,\n        menuAnchor: event.currentTarget\n      }\n    });\n  }\n\n  @autobind\n  showProcessTemplateContainerMenu(event: React.MouseEvent<HTMLElement>, container: ProcessTemplateContainer) {\n    event.stopPropagation();\n\n    this.setState({\n      currentCommand: {\n        kind: CommandKind.ShowProcessTemplateContainerMenu,\n        container: container,\n        menuAnchor: event.currentTarget\n      }\n    });\n  }\n\n  async componentWillMount() {\n    const values = queryString.parse(this.props.location.search);\n    if (values.pt && guidRegex.test(values.pt.toString())) {\n      this.context.processTemplateContainerStore.selectProcessTemplate(values.pt.toString());\n      await this.listAllProcessTemplates();\n      if (values && values.start) {\n        // lookup container and processTemplate.\n        let sourceContainer: ProcessTemplateContainer | undefined;\n        let processTemplate: ProcessTemplate | undefined;\n        for (const container of this.context.processTemplateContainerStore.flatContainers) {\n          processTemplate = find(container.processTemplates, { id: values.pt.toString() });\n          if (processTemplate) {\n            sourceContainer = container;\n            break;\n          }\n        }\n        if (sourceContainer && processTemplate) {\n          const id = values.start.toString();\n          const name = (values.name && values.name.toString()) || '';\n          this.setState({\n            currentCommand: {\n              kind: CommandKind.InitiateProcess,\n              container: sourceContainer,\n              processTemplate: processTemplate\n            },\n            relatedRejectedProcessInstance: { id: id, name: name }\n          });\n          // remove \"start\" querystring that triggers popup\n          this.props.history.replace(`${this.props.location.pathname}`);\n        }\n      }\n    } else {\n      return this.listAllProcessTemplates();\n    }\n  }\n\n  async componentDidMount() {\n    let scrollToProcessTemplate = () => {\n      const { processTemplateContainerStore } = this.context;\n      const { selectedProcessTemplateId } = processTemplateContainerStore;\n      if (!selectedProcessTemplateId) {\n        return;\n      }\n\n      const ele = document.getElementById(`process-template-${selectedProcessTemplateId}`);\n      if (ele) {\n        const clientRects = ele.getClientRects();\n        /* istanbul ignore next */\n        const top = clientRects[0] ? clientRects[0].top : 0;\n\n        /* istanbul ignore next */\n        if (top > window.scrollY + window.innerHeight || top < window.scrollY) {\n          window.scroll({\n            top: top,\n            behavior: 'smooth'\n          });\n        }\n      } else {\n        setTimeout(() => {\n          scrollToProcessTemplate();\n        }, 500);\n      }\n    };\n\n    scrollToProcessTemplate();\n  }\n\n  componentWillUnmount() {\n    if (this.state.cancelLoading) {\n      this.state.cancelLoading('Operation canceled by user');\n    }\n    this.context.processTemplateContainerStore.selectProcessTemplate();\n  }\n\n  @autobind\n  async getSharePointOrigin() {\n    /* istanbul ignore next */\n    if (process.env.NODE_ENV !== 'production') {\n      return 'http://localhost:3001';\n    }\n\n    const ctx = (await this.context.spContext.getContextInfo()) as any;\n    const a = document.createElement('a');\n    a.setAttribute('href', ctx.WebFullUrl);\n\n    const { hostname, port, protocol } = a;\n    const origin = `${protocol}//${hostname}${port.length ? `:${port}` : ''}`;\n    return origin;\n  }\n\n  @autobind\n  async handleCompleteExport() {\n    this.setState({ export: { mode: 'Active', isValid: false } }); // to disable complete button while creating zip file\n    const processTemplates = await this.context.processTemplateStore.listAllProcessTemplates();\n    const keys = this.state.templatesToExport.map(i => i.id);\n    let selected: { [path: string]: ProcessTemplate[] } = {};\n    for (const functionProcess of Object.keys(processTemplates)) {\n      const included = processTemplates[functionProcess].filter(i => keys.indexOf(i.id || '') >= 0);\n      selected[functionProcess] = included;\n    }\n    let bigZip = new JSZip();\n    const indexHtml = TemplateExporter.exportIndex(selected);\n    bigZip.file(`index.html`, indexHtml);\n    for (const toExport of this.state.templatesToExport) {\n      const template = await this.context.processTemplateStore.getProcessTemplateById(toExport.id, toExport.version);\n      if (template.title) {\n        const tempHtml = TemplateExporter.exportTemplate(template);\n        const filename = `${template.title.toLocaleLowerCase().replace(/[/\\\\?%*:|\"<>]/g, '-')}-${template.id}`;\n        bigZip.file(`templates/${filename}.html`, tempHtml);\n      }\n    }\n    const result = await bigZip.generateAsync({ type: 'blob' });\n    saveAs(result, 'processTemps-export.zip');\n    this.setState({ export: { mode: '', isValid: false } });\n  }\n\n  @autobind\n  async handleBeginExport() {\n    this.setState({ export: { mode: 'Active', isValid: this.state.templatesToExport && this.state.templatesToExport.length > 0 } });\n  }\n\n  customKebabCase(str: string) {\n    return str.toLowerCase();\n  }\n\n  render() {\n    const { className, initialVisibleDepth, classes, title } = this.props;\n\n    const { currentCommand } = this.state;\n    const { processTemplateContainerStore } = this.context;\n\n    return (\n      <div>\n        <div style={{ float: 'right' }}>\n          {this.state.export.mode === '' && (\n            <Button variant=\"contained\" color=\"primary\" title=\"Begin Export Process Templates\" className={classes.exportButton} onClick={this.handleBeginExport}>\n              <ExportProcessIcon style={{ fontSize: '24px', marginRight: '8px' }} />\n              SELECT TEMPLATES FOR EXPORT\n            </Button>\n          )}\n          {this.state.export.mode === 'Active' && (\n            <>\n              <Button variant=\"contained\" color=\"primary\" title=\"Cancel Export Process\" className={classes.exportButton} onClick={() => this.setState({ export: { mode: '', isValid: false } })}>\n                <ExportProcessIcon style={{ fontSize: '24px', marginRight: '8px' }} />\n                Cancel\n              </Button>\n              <Button variant=\"contained\" color=\"primary\" title=\"Export Process Templates\" className={classes.exportButton} disabled={!this.state.export.isValid} onClick={this.handleCompleteExport}>\n                <ExportProcessIcon style={{ fontSize: '24px', marginRight: '8px' }} />\n                Complete Export\n              </Button>\n            </>\n          )}\n        </div>\n\n        <Paper className={cn(classes.paper, className)}>\n          {title && (\n            <Typography variant=\"caption\" className={classes.caption}>\n              {title}\n            </Typography>\n          )}\n          {processTemplateContainerStore.isLoading && <CircularProgress className={classes.progress} size={30} thickness={5} />}\n          {!processTemplateContainerStore.isLoading && (\n            <>\n              <ProcessTemplateTreeContext.Provider value={this.state}>\n                <DragDropContext onDragEnd={this.onDragEnd}>\n                  <Droppable droppableId=\"rptc-0\" isDropDisabled={true}>\n                    {(provided: DroppableProvided, snapshot: DroppableStateSnapshot) => (\n                      <div ref={provided.innerRef}>\n                        <ProcessTemplateContainerNode\n                          initialVisibleDepth={initialVisibleDepth}\n                          container={processTemplateContainerStore.flatContainers[0]}\n                          showProcessTemplateMenu={this.showProcessTemplateMenu}\n                          showProcessTemplateContainerMenu={this.showProcessTemplateContainerMenu}\n                          navigateToProcessTemplate={this.navigateToProcessTemplate}\n                          initiateProcess={this.beginInitiateProcess}\n                          selectedProcessTemplateId={processTemplateContainerStore.selectedProcessTemplateId}\n                          selectProcessTemplate={this.selectProcessTemplate}\n                          onSelectProcessTemplateForExport={this.handleOnSelectProcessTemplateForExport}\n                          toggleContainerShowChildren={processTemplateContainerStore.toggleContainerShowChildren}\n                          exportMode={this.state.export.mode}\n                          templatesToExport={this.state.templatesToExport}\n                        />\n                        {provided.placeholder}\n                      </div>\n                    )}\n                  </Droppable>\n                </DragDropContext>\n              </ProcessTemplateTreeContext.Provider>\n              {currentCommand &&\n                (() => {\n                  switch (currentCommand.kind) {\n                    case CommandKind.CopyProcessTemplate:\n                      return (\n                        <CopyProcessTemplateDialog\n                          open={true}\n                          onClose={this.handleCopyProcessTemplateClosed}\n                          processTemplateContainer={currentCommand.container}\n                          processTemplateId={currentCommand.processTemplate!.id!}\n                        />\n                      );\n                    case CommandKind.CreateContainer:\n                      return <CreateProcessTemplateContainerDialog open={true} onClose={this.handleProcessTemplateContainerCreated} processTemplateContainer={currentCommand.container} />;\n                    case CommandKind.CreateProcessTemplate:\n                      return <CreateProcessTemplateDialog open={true} onClose={this.handleProcessTemplateCreated} processTemplateContainer={currentCommand.container} />;\n                    case CommandKind.DeleteContainer:\n                      return <DeleteProcessTemplateContainerDialog open={true} onClose={this.handleProcessTemplateContainerDeleted} processTemplateContainer={currentCommand.container} />;\n                    case CommandKind.DeleteProcessTemplate:\n                      return (\n                        <DeleteProcessTemplateDialog\n                          open={true}\n                          onClose={this.handleProcessTemplateDeleted}\n                          processTemplateContainer={currentCommand.container}\n                          processTemplate={currentCommand.processTemplate!}\n                        />\n                      );\n                    case CommandKind.InitiateProcess:\n                      return (\n                        <InitiateProcessDialog\n                          open={true}\n                          onClose={this.handleProcessInitiated}\n                          path={currentCommand.container.path}\n                          processTemplate={currentCommand.processTemplate!}\n                          relatedRejectedProcessInstance={this.state.relatedRejectedProcessInstance}\n                        />\n                      );\n                    case CommandKind.MoveProcessTemplate:\n                      return (\n                        <MoveProcessTemplateDialog\n                          open={true}\n                          onClose={this.handleMoveProcessTemplateClosed}\n                          processTemplateContainer={currentCommand.container}\n                          processTemplate={currentCommand.processTemplate!}\n                        />\n                      );\n                    case CommandKind.ShowProcessTemplateContainerMenu:\n                      return (\n                        <ProcessTemplateContainerMenu\n                          createProcessTemplate={this.beginCreateProcessTemplate}\n                          createProcessTemplateContainer={this.beginCreateProcessTemplateContainer}\n                          deleteProcessTemplateContainer={this.beginDeleteProcessTemplateContainer}\n                          hideProcessTemplateContainerMenu={this.clearCurrentCommand}\n                          container={currentCommand.container}\n                          menuAnchor={currentCommand.menuAnchor}\n                        />\n                      );\n                    case CommandKind.ShowProcessTemplateMenu:\n                      return (\n                        <ProcessTemplateMenu\n                          initiateProcess={this.beginInitiateProcess}\n                          showVersionHistory={this.beginShowVersionHistory}\n                          copyProcessTemplate={this.beginCopyProcessTemplate}\n                          deleteProcessTemplate={this.beginDeleteProcessTemplate}\n                          navigateToProcessTemplate={this.navigateToProcessTemplate}\n                          hideProcessTemplateMenu={this.clearCurrentCommand}\n                          container={currentCommand.container}\n                          menuAnchor={currentCommand.menuAnchor}\n                          processTemplate={currentCommand.processTemplate!}\n                        />\n                      );\n                    case CommandKind.ShowProcessTemplateVersionHistory:\n                      return <ProcessTemplateVersionHistoryDialog open={true} onClose={this.clearCurrentCommand} processTemplate={currentCommand.processTemplate!} />;\n                    default:\n                      return <div>Unknown Command</div>;\n                  }\n                })()}\n            </>\n          )}\n        </Paper>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles, { withTheme: true })(ProcessTemplateTree));\n\ninterface ProcessTemplateTreeProps extends WithStyles<typeof styles>, RouteComponentProps {\n  className?: string;\n  title?: string;\n  initialVisibleDepth: number;\n}\n\ninterface ProcessTemplateTreeState {\n  cancelLoading?: (message?: string) => void;\n  export: {\n    mode: string;\n    isValid: boolean;\n  };\n  currentCommand?: {\n    kind: CommandKind;\n    container: ProcessTemplateContainer;\n    sourceContainer?: ProcessTemplateContainer;\n    processTemplate?: ProcessTemplate;\n    menuAnchor?: HTMLElement;\n  };\n  relatedRejectedProcessInstance?: { id: string; name: string };\n  templatesToExport: Array<{ id: string; version: string }>;\n}\n\nexport enum CommandKind {\n  ShowProcessTemplateMenu = 'ShowProcessTemplateMenu',\n  ShowProcessTemplateContainerMenu = 'ShowProcessTemplateContainerMenu',\n  CreateContainer = 'CreateContainer',\n  DeleteContainer = 'DeleteContainer',\n  CreateProcessTemplate = 'CreateProcessTemplate',\n  CopyProcessTemplate = 'CopyProcessTemplate',\n  DeleteProcessTemplate = 'DeleteProcessTemplate',\n  MoveProcessTemplate = 'MoveProcessTemplate',\n  ShowProcessTemplateVersionHistory = 'ShowProcessTemplateVersionHistory',\n  InitiateProcess = 'InitiateProcess'\n}\n","import ProcessTemplateTree from './ProcessTemplateTree';\nexport default ProcessTemplateTree;\n","import React from 'react';\nimport { Theme, withStyles, WithStyles, createStyles } from '@material-ui/core/styles';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport ProcessTemplateTree from '../ProcessTemplateTree';\nimport { AppContext } from '../../AppContext';\n\nexport const styles = (theme: Theme) => createStyles({});\n\nclass ProcessTemplateList extends React.PureComponent<ProcessTemplateListProps> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n\n  constructor(props: ProcessTemplateListProps, context?: any) {\n    super(props, context);\n\n    this.state = {};\n  }\n\n  public render() {\n    // Maybe 20 is a bit too large. But it'll satisfy the BR of expanding all folders by default.\n    return <ProcessTemplateTree initialVisibleDepth={20} />;\n  }\n}\n\nexport default withRouter(withStyles(styles)(ProcessTemplateList));\n\ninterface ProcessTemplateListProps extends WithStyles<typeof styles>, RouteComponentProps<ProcessTemplateListRouterProps> {}\n\ninterface ProcessTemplateListRouterProps {\n  path?: string;\n}\n","import React from 'react';\nimport autobind from 'autobind-decorator';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { Theme, withStyles, WithStyles, createStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport InputIcon from '@material-ui/icons/Input';\nimport ProcessTable from './ProcessTable';\nimport { AppContext } from '../AppContext';\nimport { Process } from '../ppp';\nimport ExportProcessIcon from '@material-ui/icons/SaveAlt';\nimport InitiateProcessDialog from './dialogs/InitiateProcessDialog';\nimport { Grid } from '@material-ui/core';\nimport ProcessTemplateList from './ProcessTemplates/ProcessTemplateList';\n\nexport const styles = (theme: Theme) =>\n  createStyles({\n    icons: { marginRight: theme.spacing() },\n    toolbarTitle: {\n      flex: 1\n    },\n    titleLink: {\n      textDecoration: 'none',\n      color: theme.palette.common.black\n    },\n    header: {\n      marginBottom: theme.spacing(1)\n    }\n  });\n\nclass Main extends React.Component<MainProps, MainState> {\n  static contextType = AppContext;\n  context!: React.ContextType<typeof AppContext>;\n  private child: any;\n  constructor(props: MainProps, context?: any) {\n    super(props, context);\n    this.child = React.createRef();\n    this.state = {\n      isInitiateDialogOpen: false\n    };\n  }\n\n  @autobind\n  async refreshData() {\n    if (this.child && this.child.current) {\n      await this.child.current.getFiscalYears();\n    }\n  }\n\n  @autobind\n  handleClickOpen() {\n    this.setState({ isInitiateDialogOpen: true });\n  }\n\n  @autobind\n  async handleExport() {\n    if (this.child && this.child.current) {\n      await this.child.current.handleCompleteExport();\n    }\n  }\n\n  @autobind\n  async handleClose(newProcess?: Process) {\n    this.setState({ isInitiateDialogOpen: false });\n\n    if (newProcess) {\n      this.handleNavigateToProcess(newProcess);\n      // refresh fiscal years in filters just in case a new was added\n      setTimeout(async () => {\n        const fiscalYears = await this.context.processStore.getAvailableFiscalYears(true);\n        this.context.personalizationStore.configureFilters(fiscalYears);\n      }, 1000);\n    }\n  }\n\n  @autobind\n  handleNavigateToProcess(process: Process) {\n    const newPath = `/process/${process.id}`;\n    if (this.props.history.location.pathname !== newPath) {\n      this.props.history.push(newPath);\n    }\n  }\n\n  public render() {\n    const { tab, classes } = this.props;\n    return (\n      <>\n        <div style={{ display: tab === 'processes' ? 'block' : 'none' }} id=\"mainComponent\">\n          <Grid container alignItems=\"flex-start\" justify=\"space-between\" direction=\"row\" className={classes.header}>\n            <Button variant=\"contained\" color=\"primary\" onClick={this.handleClickOpen}>\n              <InputIcon className={this.props.classes.icons} /> Initiate Process\n            </Button>\n            <Button variant=\"contained\" color=\"primary\" onClick={this.handleExport}>\n              <ExportProcessIcon className={this.props.classes.icons} /> Export\n            </Button>\n          </Grid>\n          <ProcessTable innerRef={this.child} onNavigateToProcess={this.handleNavigateToProcess} currentUser={this.props.currentUser} />\n          {this.state.isInitiateDialogOpen && <InitiateProcessDialog open={this.state.isInitiateDialogOpen} onClose={this.handleClose} />}\n        </div>\n        {tab === 'templates' && <ProcessTemplateList />}\n      </>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(Main));\n\ninterface MainProps extends WithStyles<typeof styles>, RouteComponentProps<ProcessListRouterProps> {\n  tab: string;\n  currentUser: any;\n}\n\ninterface ProcessListRouterProps {\n  path?: string;\n}\n\ninterface MainState {\n  isInitiateDialogOpen: boolean;\n}\n","import React from 'react';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport { Switch, Route } from 'react-router-dom';\nimport autobind from 'autobind-decorator';\nimport { withStyles, WithStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { AppContext, AppStore } from './AppContext';\nimport Footer from './components/controls/Footer';\nimport ProcessDetail from './components/ProcessDetail/';\nimport ProcessTemplateEditor from './components/ProcessTemplates/process-template-editor';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport './App.css';\nimport bmp_1 from './bpm_1.png';\nimport AppBarProfile from './components/controls/AppBarProfile';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { theme as appTheme } from './theme';\nimport { Notifications } from './components/controls/Notifications';\nimport Main from './components/Main';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    '@global': {\n      body: {\n        backgroundColor: theme.palette.common.white\n      }\n    },\n    appBar: {\n      position: 'relative'\n    },\n    appBody: {\n      marginTop: theme.spacing(),\n      minHeight: '55vh'\n    },\n    titleImage: {\n      paddingRight: '100px'\n    },\n    toolbarTitle: {\n      flex: 1\n    },\n    titleLink: {\n      textDecoration: 'none',\n      color: theme.palette.common.black\n    },\n    layout: {\n      width: 'auto',\n      marginLeft: theme.spacing(),\n      marginRight: theme.spacing(),\n      [theme.breakpoints.up(1270 + theme.spacing(3))]: {\n        width: 1270,\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      }\n    },\n    appIcon: {\n      fontSize: '30px',\n      position: 'relative',\n      bottom: '-5px',\n      paddingRight: '5px'\n    }\n  });\n\nclass App extends React.Component<AppProps, AppState> {\n  private readonly _childRef: any;\n\n  constructor(props: AppProps) {\n    super(props);\n    this._childRef = React.createRef();\n    this.state = {\n      title: props.title,\n      currentUser: undefined,\n      appStore: props.appStore,\n      isAdmin: false\n    };\n  }\n\n  @autobind\n  public async handleViewChange(id: string) {\n    const filterView = this.props.appStore.personalizationStore.filterViews.find(fv => fv.id === id);\n    if (filterView) {\n      this.props.appStore.personalizationStore.selectedViewFilter = {\n        id: filterView.id,\n        name: filterView.name,\n        global: filterView.global,\n        filterSet: [...filterView.filterSet]\n      };\n      if (this._childRef && this._childRef.current) {\n        this._childRef.current.refreshData && this._childRef.current.refreshData();\n      }\n    }\n    if (this.props.appStore.personalizationStore.selectedViewFilter && this.props.appStore.personalizationStore.selectedViewFilter.id.length > 0) {\n      if (this.props.location.pathname.indexOf('/processes') >= 0) {\n        this.props.history.replace(`/processes/${id}`);\n      } else {\n        this.props.history.push(`/processes/${id}`);\n      }\n    }\n  }\n\n  public async componentDidMount() {\n    const { appStore } = this.props;\n    const currentUser = await appStore.spContext.getCurrentUser();\n    try {\n      const [fiscalYears, parties, title] = await Promise.all([\n        appStore.processStore.getAvailableFiscalYears(),\n        appStore.processTemplateStore.getPartiesList(),\n        appStore.spContext.getRootWebTitle(),\n        appStore.personalizationStore.loadViews(currentUser.Title)\n      ]);\n\n      this.setState({\n        currentUser: currentUser,\n        title: `${this.props.title} (${title})`,\n        isAdmin: appStore.spContext.isAdministrator(currentUser)\n      });\n      appStore.personalizationStore.availableResponsibleParties = parties as { value: string; text: string }[];\n      appStore.personalizationStore.configureFilters(fiscalYears);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  @autobind\n  handleTabChange(event: any, value: string) {\n    if (value === '/processes') {\n      if (this.props.appStore.personalizationStore.selectedViewFilter && this.props.appStore.personalizationStore.selectedViewFilter.id.length > 0) {\n        value = `${value}/${this.props.appStore.personalizationStore.selectedViewFilter.id}`;\n      }\n    }\n    this.props.history.push(value);\n  }\n\n  public render() {\n    const { currentUser } = this.state;\n    const { classes, appStore, ...other } = this.props;\n    return (\n      <AppContext.Provider value={appStore}>\n        <ThemeProvider theme={appTheme}>\n          <CssBaseline />\n          <AppBar position=\"static\" color=\"default\" className={classes.appBar}>\n            <Toolbar>\n              <Tooltip title=\"OFS Business Process Management (BPM)\">\n                <a className={classes.titleLink} href=\"/\">\n                  <img src={bmp_1} className={classes.titleImage} alt={'OFS Business Process Management'} />\n                </a>\n              </Tooltip>\n              <Tabs\n                value={this.props.history.location.pathname === '/templates' ? '/templates' : '/processes'}\n                onChange={this.handleTabChange}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                variant=\"scrollable\"\n                scrollButtons=\"off\"\n                className={classes.toolbarTitle}\n              >\n                <Tab label=\"Process Instances\" value=\"/processes\" />\n                <Tab label=\"Process Templates\" value=\"/templates\" />\n              </Tabs>\n              {this.state.isAdmin === true && <Notifications disabled={false} currentUser={currentUser} />}\n              <AppBarProfile currentUser={currentUser} onViewChange={this.handleViewChange} />\n            </Toolbar>\n          </AppBar>\n          <div className={classes.layout + ' ' + classes.appBody} role=\"main\">\n            <Switch>\n              <Route\n                path=\"/(|processes|templates)/:viewId?\"\n                render={() => <Main tab={this.props.history.location.pathname.startsWith('/templates') ? 'templates' : 'processes'} currentUser={currentUser} innerRef={this._childRef} />}\n              />\n              <Route path=\"/process/:id/:mr?\" render={props => <ProcessDetail {...other} currentUser={currentUser} />} />\n              <Route path=\"/template/:id/:ver?\" render={props => <ProcessTemplateEditor {...other} />} />\n            </Switch>\n          </div>\n          <Footer />\n        </ThemeProvider>\n      </AppContext.Provider>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(App));\n\nexport interface AppProps extends WithStyles<typeof styles>, RouteComponentProps {\n  title: string;\n  appStore: AppStore;\n}\n\nexport interface AppState {\n  title: string;\n  currentUser: any;\n  appStore: AppStore;\n  isAdmin: boolean;\n}\n","import 'babel-polyfill';\nimport 'whatwg-fetch';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport App from './App';\nimport { defaultAppStore } from './AppContext';\nimport './index.css';\n\nReactDOM.render(\n  <HashRouter>\n    <App title=\"OFS Business Process Management Portal\" appStore={defaultAppStore} />\n  </HashRouter>,\n\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export * from './ProcessTemplate';\nexport * from './ProcessTemplateContainer';\nexport * from './ProcessTemplateVersion';\nexport * from './ActivityTemplate';\nexport * from './FieldTemplate';\nexport * from './FieldType';\n\nexport * from './Process';\nexport * from './ProcessStatus';\nexport * from './ProcessLog';\nexport * from './Activity';\nexport * from './ActivityStatus';\nexport * from './Attachment';\nexport * from './Field';\n\nexport * from './ProcessTemplateContainerStore';\nexport * from './ProcessTemplateStore';\nexport * from './ProcessLogStore';\nexport * from './ProcessStore';\nexport * from './ReportingStore';\n","import { ProcessTemplate, ProcessTemplateResponse } from './ProcessTemplate';\nimport { ProcessTemplateVersion } from './ProcessTemplateVersion';\nimport { BaristaService } from '../util/BaristaService';\nimport axios, { CancelTokenSource } from 'axios';\nimport pick from 'lodash/pick';\nimport { Attachment } from './Attachment';\n/**\n * Represents a service that interacts with Process Templates.\n */\nexport class ProcessTemplateStore {\n  private _baristaService: BaristaService;\n  private _partyList: { value: string; text: string }[] | undefined = undefined;\n\n  /**\n   * Creates a new ProcessTemplateService\n   */\n  constructor(baristaService: BaristaService) {\n    this._baristaService = baristaService;\n  }\n\n  /** * Get list of Users.   */\n  public async getPartiesList(): Promise<{ value: string; text: string }[]> {\n    if (this._partyList && this._partyList.length > 0) {\n      return this._partyList || [];\n    } else {\n      const response = await this._baristaService.get('ProcessTemplate/getAllResponsibleParties.js');\n      if (response && response.data) {\n        this._partyList = response.data;\n        return response.data;\n      }\n    }\n    return [];\n  }\n\n  /**\n   * Deletes the specified Process Template. Returns false if the Process Template cannot be deleted.\n   * @param processTemplateId The guid of the process template to delete.\n   */\n  public async deleteProcessTemplateById(processTemplateId: string): Promise<boolean> {\n    const response = await this._baristaService.delete('ProcessTemplate/deleteProcessTemplateById.js', { data: { processTemplateId } });\n    return response.data;\n  }\n\n  /**\n   * Deletes the specified Process Template Container at the specified path. Returns false if the container cannot be deleted.\n   * @param path The guid of the process template to delete.\n   */\n  public async deleteProcessTemplateContainer(path: string): Promise<boolean> {\n    const response = await this._baristaService.put('ProcessTemplate/deleteProcessTemplateContainer.js', { data: { path } });\n    return response.data;\n  }\n\n  /**\n   * Gets a process template by the specified id.\n   * @param processTemplateId The guid of the process template to retrieve.\n   */\n  public async getProcessTemplateById(processTemplateId: string, version?: string): Promise<ProcessTemplateResponse> {\n    const response = await this._baristaService.get('ProcessTemplate/getProcessTemplateById.js', { params: { processTemplateId, version } });\n    return response.data;\n  }\n\n  /**\n   * Gets a process template by the specified id.\n   * @param processTemplateId The guid of the process template to retrieve.\n   */\n  public async getProcessTemplateVersionHistoryById(processTemplateId: string): Promise<ProcessTemplateVersion[]> {\n    const response = await this._baristaService.get('ProcessTemplate/getProcessTemplateVersionHistoryById.js', { params: { processTemplateId } });\n    return response.data;\n  }\n\n  /**\n   * Gets the path that the specified process template is contained in.\n   * @param processTemplateId The guid of the process template's container name to retrieve.\n   */\n  public async getProcessTemplateContainerById(processTemplateId: string): Promise<string> {\n    const response = await this._baristaService.get('ProcessTemplate/getProcessTemplateContainerById.js', { params: { processTemplateId } });\n    return response.data;\n  }\n\n  /**\n   * Creates or updates a Process Template. If the Process Template's id property is empty, a new Process Template will be created.\n   * @param path The path of the container that will contain the Process Template.\n   * @param processTemplate The Process Template object that will be stored.\n   */\n  public async saveProcessTemplateAsDraft(path: string, processTemplate: ProcessTemplate): Promise<ProcessTemplateResponse> {\n    const processTemplateRequest = pick(processTemplate, ['id', 'title', 'description', 'fields', 'activities', 'jobAidAttachments']);\n    const response = await this._baristaService.put('ProcessTemplate/saveProcessTemplateAsDraft.js', {\n      data: {\n        path,\n        processTemplate: processTemplateRequest\n      }\n    });\n    return response.data;\n  }\n\n  public async publishProcessTemplateById(processTemplateId: string, versionComment?: string): Promise<ProcessTemplateResponse> {\n    const response = await this._baristaService.post('ProcessTemplate/publishProcessTemplateById.js', {\n      data: {\n        processTemplateId,\n        versionComment\n      }\n    });\n    return response.data;\n  }\n\n  /**\n   * Creates a Process Template Container with the specified path.\n   * @param path The name of the container. Segments are seperated by '/'\n   */\n  public async putProcessTemplateContainer(path: string) {\n    const response = await this._baristaService.put('ProcessTemplate/putProcessTemplateContainer.js', {\n      data: {\n        path\n      }\n    });\n    return response.data;\n  }\n\n  /**\n   * Returns a string array of all Process Template Containers currently defined.\n   */\n  public async listAllProcessTemplateContainers(): Promise<string[]> {\n    const response = await this._baristaService.get('ProcessTemplate/listAllProcessTemplateContainers.js');\n    return response.data;\n  }\n\n  /**\n   * Returns an hash array of all process templates.\n   */\n  public async listAllProcessTemplates(path?: string, cancelTokenCallback?: (canceler: CancelTokenSource) => void): Promise<{ [path: string]: ProcessTemplate[] }> {\n    const source = axios.CancelToken.source();\n    const response = this._baristaService.get('ProcessTemplate/listAllProcessTemplates.js', {\n      params: {\n        path\n      },\n      cancelToken: source.token\n    });\n\n    if (cancelTokenCallback) {\n      cancelTokenCallback(source);\n    }\n\n    return (await response).data;\n  }\n\n  /**\n   * Lists all process templates that are contained on the specified path.\n   * @param path\n   */\n  public async listProcessTemplatesInContainer(path: string): Promise<ProcessTemplate[]> {\n    const response = await this._baristaService.get('ProcessTemplate/listProcessTemplatesInContainer.js', { params: { path } });\n    return response.data;\n  }\n\n  /**\n   * Moves the process template with the specified id to the specified path\n   * @param path The name of the container. Segments are seperated by '/'\n   */\n  public async moveProcessTemplate(processTemplateId: string, path: string): Promise<ProcessTemplate> {\n    const response = await this._baristaService.post('ProcessTemplate/moveProcessTemplate.js', {\n      data: {\n        processTemplateId,\n        path\n      }\n    });\n    return response.data;\n  }\n\n  /**\n   * Upload a process activity attachment\n   * @param processId the id of the process\n   * @param activityId the id of the activity\n   * @param fileName the filename of the attachment\n   * @param file the file blob\n   */\n  public async uploadProcessTemplateAttachment(processId: string, fileName: string, file: Blob, activityId?: string): Promise<Attachment> {\n    var fd = new FormData();\n    fd.append('files[0]', file, fileName);\n    var params = {};\n    if (activityId && activityId.length > 0) {\n      params = { processId, fileName, activityId };\n    } else {\n      params = { processId, fileName };\n    }\n\n    const response = await this._baristaService.post('ProcessTemplate/uploadProcessTemplateAttachment.js', {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      params: params,\n      data: fd\n    });\n    return response.data;\n  }\n\n  /**\n   * Remove the specified process template activity attachment.\n   * @param processId the id of the process\n   * @param activityId the id of the activity\n   * @param fileName the filename of the attachment to remove.\n   */\n  public async removeProcessActivityAttachment(processId: string, fileName: string, activityId?: string): Promise<{ id: string; fileName: string }> {\n    if (activityId && activityId.length > 0) {\n      const response = await this._baristaService.delete('ProcessTemplate/removeProcessTemplateAttachment.js', { data: { processId, fileName, activityId } });\n      return response.data;\n    } else {\n      const response = await this._baristaService.delete('ProcessTemplate/removeProcessTemplateAttachment.js', { data: { processId, fileName } });\n      return response.data;\n    }\n  }\n\n  /**\n   * Returns an hash array of all process templates structure .\n   */\n  public async getProcessTemplateTreeStructure(path?: string, cancelTokenCallback?: (canceler: CancelTokenSource) => void): Promise<{ [path: string]: ProcessTemplate[] }> {\n    const source = axios.CancelToken.source();\n    const response = this._baristaService.get('ProcessTemplate/getProcessTemplateTreeStructure.js', {\n      params: {\n        path\n      },\n      cancelToken: source.token\n    });\n\n    if (cancelTokenCallback) {\n      cancelTokenCallback(source);\n    }\n\n    return (await response).data;\n  }\n\n  public async listProcessTemplatesForPackaging(path: string): Promise<any[]> {\n    const response = await this._baristaService.get('ProcessTemplate/getProcessTemplateTreeStructure.js', { params: path });\n    return response.data;\n  }\n}\n","import { FieldTemplate } from './FieldTemplate';\nimport { ActivityTemplate } from './ActivityTemplate';\nimport { User } from './User';\nimport { Attachment } from './Attachment';\n\n/**\n * Represents a process template\n */\nexport interface ProcessTemplate {\n  /**\n   * Gets the id of the Process Template\n   */\n  id?: string; //\n  /**\n   * Gets the title of the Process Template\n   */\n  title: string;\n  /**\n   * gets the status of the Process Template\n   */\n  status?: ProcessTemplateStatus;\n  /**\n   * Gets the version number of the Process Template\n   */\n  version?: string;\n  /**\n   * Gets the comment associated with the version of the process template.\n   */\n  versionComment?: string;\n  /**\n   * Gets the description of the Process Template\n   */\n  description: string;\n  /**\n   * Gets and sets the field templates associated with the process template.\n   */\n  fields?: FieldTemplate[];\n  /**\n   * Gets and sets the activity templates associated with the process template.\n   */\n  activities?: ActivityTemplate[];\n  /**\n   * Gets the timestamp of when the process template was created.\n   */\n  created?: string;\n  /**\n   * Gets the user who created the process template.\n   */\n  createdBy?: User;\n\n  /**\n   * Gets the most current version number. Used when getting older versions.\n   * To detect if template should be readOnly... for example.\n   */\n  currentVersionNumber?: string;\n\n  /**\n   * Gets a value of jobaid attachments\n   */\n  jobAidAttachments?: Attachment[];\n}\n\nexport enum ProcessTemplateStatus {\n  /**\n   * Indicates that the process template has been checked out to a user.\n   */\n  Checkout = 'Checkout',\n  /**\n   * Indicates that the process template is in draft.\n   */\n  Draft = 'Draft',\n  /**\n   * Indicates that the process template has been published.\n   */\n  Published = 'Published'\n}\n\nexport interface ProcessTemplateResponse extends ProcessTemplate {\n  id: string;\n  status: ProcessTemplateStatus;\n  version: string;\n  versionComment: string;\n  created: string;\n  createdBy: User;\n}\n","/**\n * Indicates the data type of a Field.\n */\nexport enum FieldType {\n  /**\n   * Indicates that the Field contains a string.\n   */\n  String,\n  /**\n   * Indicates that the Field contains a number (decimal).\n   */\n  Number,\n  /**\n   * Indicates that the Field contains a date.\n   */\n  Date\n}\n","export enum ProcessStatus {\n  /**\n   * Indicates that the process is new.\n   */\n  Initiated = 'Initiated',\n  /**\n   * Indicates that the process is active - at least one activity has been modified since creation.\n   */\n  Active = 'Active',\n  /**\n   * Indicates that all activities on the process have been completed, but an overall sign-off has not occurred.\n   */\n  CompletedNotSigned = 'CompletedNotSigned',\n  /**\n   * Indicates that all activities on the process have been completed the process has been signed-off on.\n   */\n  CompletedAndSigned = 'CompletedAndSigned',\n  /**\n   * Indicates that the process has been marked as inactive.\n   */\n  Inactive = 'Inactive',\n  /**\n   * Indicates that the process has been marked as deleted.\n   */\n  Deleted = 'Deleted',\n  /**\n   * Indicates that the process has been rejected.\n   */\n  Rejected = 'Rejected'\n}\n","export enum ActivityStatus {\n  /**\n   * Indicates that the activity has not been completed.\n   */\n  Incomplete = 'Incomplete',\n  /**\n   * Indicates that the activity has been marked as completed.\n   */\n  Complete = 'Complete',\n  /**\n   * Indicates that the activity has been marked as completed, but requires secondary review.\n   */\n  CompleteRequiresReview = 'CompleteRequiresReview',\n  /**\n   * Indicates that the activity has been marked as not required.\n   */\n  NotRequired = 'NotRequired'\n}\n","import { ProcessTemplateStore, ProcessTemplate } from '.';\nimport { ProcessTemplateContainer } from './ProcessTemplateContainer';\nimport { observable, action, flow } from 'mobx';\nimport find from 'lodash/find';\nimport { CancelTokenSource } from 'axios';\n\nexport class ProcessTemplateContainerStore {\n  private _processTemplateStore: ProcessTemplateStore;\n  initialVisibleDepth: number;\n  @observable selectedProcessTemplateId?: string;\n  @observable isLoading: boolean = true;\n  @observable flatContainers: ProcessTemplateContainer[] = [];\n\n  constructor(processTemplateStore: ProcessTemplateStore, initialVisibleDepth?: number) {\n    this._processTemplateStore = processTemplateStore;\n    this.initialVisibleDepth = initialVisibleDepth || 3;\n  }\n\n  private convertToTree(data: { [path: string]: ProcessTemplate[] }): ProcessTemplateContainer[] {\n    // Build the node structure\n    const rootNode = observable({\n      index: 0,\n      name: '/',\n      path: '/',\n      depth: 0,\n      subFolders: [],\n      processTemplates: data['/'],\n      isLoading: false,\n      showChildren: true\n    });\n\n    const flatContainers = [rootNode];\n    const keys = Object.keys(data);\n    for (let path of keys) {\n      if (path === '/') {\n        continue;\n      }\n\n      const processTemplates = data[path];\n      const index = keys.indexOf(path);\n      path = path.substring(1);\n      path = path.substring(0, path.length - 1);\n\n      this.buildNodeRecursive(rootNode, path, index, path.split('/'), 0, processTemplates, 1, flatContainers);\n    }\n\n    return flatContainers;\n  }\n\n  private buildNodeRecursive(\n    node: ProcessTemplateContainer,\n    path: string,\n    sourceIndex: number,\n    children: string[],\n    idx: number,\n    processTemplates: ProcessTemplate[],\n    depth: number,\n    flatContainers: ProcessTemplateContainer[]\n  ) {\n    if (idx < children.length) {\n      let item = children[idx];\n      let dir = node.subFolders.find(child => child.name === item);\n      if (!dir) {\n        dir = observable({\n          index: sourceIndex,\n          name: item,\n          path: path,\n          depth,\n          subFolders: [],\n          processTemplates: processTemplates,\n          isLoading: false,\n          showChildren: depth < this.initialVisibleDepth,\n          parentIndex: node.index\n          // parent: node\n        });\n        flatContainers.push(dir);\n        node.subFolders.push(dir);\n      }\n      this.buildNodeRecursive(dir, path, sourceIndex, children, idx + 1, processTemplates, depth + 1, flatContainers);\n    }\n  }\n\n  @action.bound\n  public listAllProcessTemplates = flow(function*(this: ProcessTemplateContainerStore, path?: string, cancelTokenCallback?: (canceler: CancelTokenSource) => void) {\n    this.isLoading = true;\n    const processTemplates = yield this._processTemplateStore.listAllProcessTemplates(path, cancelTokenCallback);\n    this.flatContainers = this.convertToTree(processTemplates);\n\n    const traverseUp = (node: ProcessTemplateContainer, fn: (ptc: ProcessTemplateContainer) => void) => {\n      fn(node);\n      if (node.parentIndex) {\n        const parentNode = this.flatContainers[node.parentIndex];\n        traverseUp(parentNode, fn);\n      }\n    };\n\n    if (this.selectedProcessTemplateId) {\n      for (const container of this.flatContainers) {\n        if (find(container.processTemplates, { id: this.selectedProcessTemplateId })) {\n          traverseUp(container, ptc => (ptc.showChildren = true));\n        }\n      }\n    }\n\n    this.isLoading = false;\n  });\n\n  @action.bound\n  public listProcessTemplatesInContainer = flow(function*(this: ProcessTemplateContainerStore, container: ProcessTemplateContainer) {\n    container.isLoading = true;\n    container.processTemplates = observable(yield this._processTemplateStore.listProcessTemplatesInContainer(container.path));\n    container.isLoading = false;\n  });\n\n  @action.bound\n  public selectProcessTemplate(processTemplateId?: string) {\n    this.selectedProcessTemplateId = processTemplateId;\n  }\n\n  @action.bound\n  async toggleContainerShowChildren(container: ProcessTemplateContainer) {\n    if (!container.showChildren) {\n      this.listProcessTemplatesInContainer(container);\n      container.showChildren = true;\n    } else {\n      container.showChildren = !!!container.showChildren;\n    }\n  }\n}\n","import { BaristaService } from '../util/BaristaService';\nimport { ProcessLog, ProcessLogResults } from './ProcessLog';\nimport { ProcessLogEntry } from './ProcessLogEntry';\n\nexport class ProcessLogStore {\n  private _baristaService: BaristaService;\n\n  /**\n   * Creates a new ProcessLogStore\n   */\n  constructor(baristaService: BaristaService) {\n    this._baristaService = baristaService;\n  }\n\n  /**\n   * Gets the log for the process with the corresponding id\n   * @param processId The process id to retrieve the log.\n   */\n  public async getProcessLogByProcessId(processId: string): Promise<ProcessLog> {\n    const response = await this._baristaService.get('ProcessLog/getProcessLogByProcessId.js', { params: { processId } });\n    return response.data;\n  }\n\n  /**\n   * Gets the log for the process with the corresponding id\n   * @param processId The process id to retrieve the log.\n   */\n  public async getProcessLogs(date: Date, currentCacheId?: string): Promise<ProcessLogResults> {\n    const response = await this._baristaService.get('ProcessLog/getProcessLogs.js', { params: { date, currentCacheId } });\n    return response.data;\n  }\n\n  /**\n   * Adds a new log entry to the process log with the corresponding id\n   * @param processId id of the process to add the log entry\n   * @param logEntry the log entry to add.\n   */\n  public async addLogEntryForProcess(processId: string, logEntry: ProcessLogEntry): Promise<ProcessLog> {\n    const response = await this._baristaService.post('ProcessLog/addLogEntryForProcess.js', { data: { processId, logEntry } });\n    return response.data;\n  }\n}\n","import { BaristaService } from '../util/BaristaService';\nimport { Process } from './Process';\nimport { getFiscalYear } from '../util/pppUtils';\n/* import { observable } from 'mobx'; */\nimport { MonitoringAndReview } from './MonitoringAndReview';\nimport { Attachment } from './Attachment';\nimport { NotedException } from './NotedException';\n\nexport class ProcessStore {\n  private _baristaService: BaristaService;\n  private _fiscalYearList: string[] = [];\n\n  constructor(baristaService: BaristaService) {\n    this._baristaService = baristaService;\n  }\n\n  /**\n   * Create a new process from a process template.\n   */\n  public async createProcessFromProcessTemplate(\n    processTemplateId: string,\n    version: string,\n    name: string,\n    transactionDate?: Date,\n    fiscalYear?: string,\n    relatedRejectedProcessInstance?: { id: string; name: string }\n  ): Promise<Process> {\n    const response = await this._baristaService.post('Process/createProcessFromProcessTemplate.js', {\n      data: {\n        processTemplateId,\n        version,\n        name,\n        transactionDate,\n        fiscalYear,\n        relatedRejectedProcessInstance\n      }\n    });\n    return response.data;\n  }\n\n  /**\n   * Retrieve a process by the specified id.\n   * @param processId the id of the process\n   */\n  public async getProcessById(processId: string): Promise<Process> {\n    const response = await this._baristaService.get('Process/getProcessById.js', { params: { processId } });\n    return response.data;\n  }\n\n  /**\n   * Delete a process by the specified id.\n   * @param processId the id of the process\n   */\n  public async deleteProcessById(processId: string): Promise<boolean> {\n    const response = await this._baristaService.delete('Process/deleteProcessById.js', { data: { processId } });\n    return response.data;\n  }\n\n  /**\n   * Retrieve all processes as a hash where the fiscalYearis the key.\n   */\n  public async listAllProcesses(): Promise<Process[]> {\n    const response = await this._baristaService.get('Process/listAllProcesses.js');\n    return response.data;\n  }\n\n  /**\n   * Retrieve all processes for the specified fiscal year.\n   * @param fiscalYear the fiscal year to retrieve processes for.\n   */\n  public async listAllProcessesForFiscalYear(fiscalYear?: string): Promise<Process[]> {\n    if (!fiscalYear) {\n      fiscalYear = getFiscalYear();\n    }\n\n    const response = await this._baristaService.get('Process/listAllProcessesForFiscalYear.js', { params: { fiscalYear } });\n    return response.data;\n  }\n  /**\n   * Retrieve all processes for the specified fiscal year.\n   * @param fiscalYear the fiscal year to retrieve processes for.\n   */\n  public async listAllProcessesForFiscalYears(fiscalYears: Array<string | undefined>): Promise<Process[]> {\n    const p = JSON.stringify(fiscalYears);\n    const response = await this._baristaService.get('Process/listAllProcessesForFiscalYears.js', { params: { fiscalYears: p } });\n    return response.data;\n  }\n  /**\n   * Retrieve all fiscal years that have a process in the system\n   */\n  public async getAvailableFiscalYears(noCache?: boolean): Promise<string[]> {\n    if (noCache && noCache === true) {\n      this._fiscalYearList = [];\n    }\n    if (this._fiscalYearList && this._fiscalYearList.length > 0) {\n      return this._fiscalYearList || [];\n    } else {\n      const response = await this._baristaService.get('Process/getAvailableFiscalYears.js');\n      if (response && response.data) {\n        this._fiscalYearList = response.data.sort().reverse();\n        return this._fiscalYearList;\n      }\n    }\n    return [];\n  }\n\n  /**\n   * Retrieve process url.\n   * @param fiscalYear the fiscal year to retrieve processes for.\n   */\n  public async getProcessPathByProcessId(processId?: string): Promise<string> {\n    const response = await this._baristaService.get('Process/getProcessPathByProcessId.js', { params: { processId } });\n    return response.data;\n  }\n  /**\n   * Mark the specified process activity as complete.\n   * @param processId the id of the process\n   * @param activityId the id of the activity to mark complete\n   */\n  public async markProcessActivityAsComplete(processId: string, activityId: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/markProcessActivityAsComplete.js', { data: { processId, activityId } });\n    return response.data;\n  }\n\n  /**\n   * Mark the specified process activity as incomplete.\n   * @param processId the id of the process\n   * @param activityId the id of the activity to mark incomplete\n   */\n  public async markProcessActivityAsIncomplete(processId: string, activityId: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/markProcessActivityAsIncomplete.js', { data: { processId, activityId } });\n    return response.data;\n  }\n\n  /**\n   * Mark the specified process activity as not required.\n   * @param processId the id of the process\n   * @param activityId the id of the activity to mark not required\n   */\n  public async markProcessActivityAsNotRequired(processId: string, activityId: string, comments: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/markProcessActivityAsNotRequired.js', { data: { processId, activityId, comments } });\n    return response.data;\n  }\n\n  /**\n   * Mark the specified process activity as reviewed by the current user\n   * @param processId the id of the process\n   * @param activityId the id of the activity to mark reviewed\n   */\n  public async markProcessActivityAsReviewed(processId: string, activityId: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/markProcessActivityAsReviewed.js', { data: { processId, activityId } });\n    return response.data;\n  }\n\n  /**\n   * Remove the specified process activity attachment.\n   * @param processId the id of the process\n   * @param activityId the id of the activity\n   * @param fileName the filename of the attachment to remove.\n   */\n  public async removeProcessActivityAttachment(processId: string, activityId: string, fileName: string): Promise<Process> {\n    const response = await this._baristaService.delete('Process/removeProcessActivityAttachment.js', { data: { processId, activityId, fileName } });\n    return response.data;\n  }\n\n  /**\n   * Indicate that the specified process has been signed off by the current user.\n   * @param processId the id of the process\n   */\n  public async signCompletedProcess(processId: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/signCompletedProcess.js', { data: { processId } });\n    return response.data;\n  }\n\n  /**\n   * Retrieve a process by the specified id.\n   * @param processId the id of the process\n   */\n  public async createProcessPDF(processId: string) {\n    await this._baristaService.get('Process/createProcessPDF.js', { params: { processId } });\n  }\n\n  /**\n   * Unsign process for continued editing\n   *\n   * @param processId Id of the process\n   * @param reason logged reason for unsigning\n   */\n  public async unsignProcess(processId: string, reason: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/unsignProcess.js', { data: { processId, reason } });\n    return response.data;\n  }\n\n  /**\n   * reject process for\n   *\n   * @param processId Id of the process\n   */\n  public async rejectProcess(processId: string, reason: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/rejectProcess.js', { data: { processId, reason } });\n    return response.data;\n  }\n\n  /**\n   * Update the comments associated with the specified process activity\n   * @param processId the id of the process\n   * @param activityId the id of the activity\n   * @param comments the comments\n   */\n  public async updateProcessActivityComments(processId: string, activityId: string, comments: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/updateProcessActivityComments.js', { data: { processId, activityId, comments } });\n    return response.data;\n  }\n\n  /**\n   * Update the responsible party associated with the specified process activity\n   * @param processId the id of the process\n   * @param activityId the id of the activity\n   * @param responsibleParty the responsible party\n   */\n  public async updateProcessActivityResponsibleParty(processId: string, activityId: string, responsibleParty: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/updateProcessActivityResponsibleParty.js', { data: { processId, activityId, responsibleParty } });\n    return response.data;\n  }\n\n  /**\n   * Update the process field with the specified value.\n   * @param processId the id of the process\n   * @param fieldId the id of the field\n   * @param fieldValue the field value\n   */\n  public async updateProcessFieldValue(processId: string, fieldId: string, fieldValue: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/updateProcessFieldValue.js', { data: { processId, fieldId, fieldValue } });\n    return response.data;\n  }\n\n  /**\n   * Update the notes associated with a process\n   * @param processId the id of the process\n   * @param notes notes\n   */\n  public async updateProcessNotes(processId: string, notes: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/updateProcessNotes.js', { data: { processId, notes } });\n    return response.data;\n  }\n\n  /**\n   * Update the monitoring And Review  data associated with a process\n   * @param processId the id of the process\n   * @param monitoring And Review Info\n   */\n  public async updateMonitoringAndReviewQuestions(processId: string, monitoringAndReview: MonitoringAndReview): Promise<Process> {\n    const response = await this._baristaService.put('Process/updateMonitoringAndReviewQuestions.js', { data: { processId, monitoringAndReview } });\n    return response.data;\n  }\n\n  /**\n   * Update the monitoring And Review  data associated with a process\n   * @param processId the id of the process\n   * @param monitoring And Review Info\n   */\n  public async updateMonitoringAndReviewNotes(processId: string, generalNotes: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/UpdateMonitoringAndReviewNotes.js', { data: { processId, generalNotes } });\n    return response.data;\n  }\n\n  /**\n   * Update the monitoring And Review  data associated with a process\n   * @param processId the id of the process\n   * @param monitoring And Review Info\n   */\n  public async updateMonitoringAndReviewNotedExceptions(processId: string, notedExceptions: NotedException[] | undefined): Promise<Process> {\n    const response = await this._baristaService.put('Process/updateMonitoringAndReviewNotedExceptions.js', { data: { processId, notedExceptions } });\n    return response.data;\n  }\n\n  /**\n   * Complete the monitoring And Review\n   * @param processId the id of the process\n   */\n  public async markMonitoringAndReviewAsComplete(processId: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/markMonitoringAndReviewCompletedProcess.js', { data: { processId } });\n    return response.data;\n  }\n\n  /**\n   * Update process owner information into review and monitoring\n   * @param processId the id of the process\n   */\n  public async updateMonitoringAndReviewProcessOwner(processId: string, notedExceptionId: string, value: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/updateMonitoringAndReviewProcessOwner.js', { data: { processId, notedExceptionId, value } });\n    return response.data;\n  }\n\n  /**\n   * Update the name associated with a process\n   * @param processId the id of the process\n   * @param name name\n   */\n  public async updateProcessName(processId: string, name: string): Promise<Process> {\n    const response = await this._baristaService.put('Process/updateProcessName.js', { data: { processId, name } });\n    return response.data;\n  }\n\n  /**\n   * Upload a process activity attachment\n   * @param processId the id of the process\n   * @param activityId the id of the activity\n   * @param fileName the filename of the attachment\n   * @param file the file blob\n   */\n  public async uploadProcessActivityAttachment(processId: string, activityId: string, fileName: string, originalFileName: string, file: Blob): Promise<Process> {\n    var fd = new FormData();\n    fd.append('files[0]', file, fileName);\n    const response = await this._baristaService.post('Process/uploadProcessActivityAttachment.js', {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      params: { processId, activityId, fileName, originalFileName },\n      data: fd\n    });\n    return response.data;\n  }\n\n  /**\n   * Move Process to a different Fiscal Year\n   * @param processId the id of the process\n   * @param toFiscalYear t\n   */\n  public async moveProcessToAnotherFiscalYear(processId: string, toFiscalYear: string): Promise<string> {\n    const response = await this._baristaService.put('Process/moveProcessToAnotherFiscalYear.js', { data: { processId, toFiscalYear } });\n    return response.data;\n  }\n\n  /**\n   * Upload an attachment to Noted Exceptions\n   * @param processId the id of the process\n   * @param notedExceptionId the id of the noted Exception\n   * @param fileName the filename of the attachment\n   * @param file the file blob\n   */\n  public async uploadNotedExceptionAttachment(processId: string, fileName: string, file: Blob, notedExceptionId: string): Promise<Attachment> {\n    var fd = new FormData();\n    fd.append('files[0]', file, fileName);\n    var originalFileName = fileName;\n    var params = { processId, notedExceptionId, fileName, originalFileName };\n    const response = await this._baristaService.post('Process/uploadNotedExceptionAttachment.js', {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      params: params,\n      data: fd\n    });\n    return response.data;\n  }\n}\n","import { BaristaService } from '../util/BaristaService';\nimport { Process } from './Process';\n\nexport class ReportingStore {\n  private _baristaService: BaristaService;\n\n  /**\n   * Creates a new ProcessStore\n   */\n  constructor(baristaService: BaristaService) {\n    this._baristaService = baristaService;\n  }\n\n  public async clearReportingSPList(toDelete: number): Promise<number> {\n    const response = await this._baristaService.put('Reporting/syncClearList.js', { data: { toDelete: toDelete } });\n    return response.data;\n  }\n\n  /**\n   * Update repository.\n   */\n  public async updateRepository(processes: Process[]): Promise<{ processInstanceCount: number; processInError: Array<any>[] }> {\n    const response = await this._baristaService.put('Reporting/syncBatchProcessesRepository.js', { data: { processes } });\n    return response.data;\n  }\n}\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}